(this["webpackJsonp@wcpos/web"]=this["webpackJsonp@wcpos/web"]||[]).push([[1],{863:function(e,t,n){"use strict";var r,c,a,o,i,s=n(1),l=n(25),u=n(0),d=n(559),j=n(43),b=n.n(j),O=n(23),h=n(22),f=h.c.View(r||(r=Object(O.a)(["\n\tflex-direction: row;\n\talign-items: center;\n\tborder-bottom-width: 1px;\n\tborder-style: solid;\n\tborder-bottom-color: #000000;\n"]))),m=h.c.View(c||(c=Object(O.a)(["\n\tpadding: 5px;\n\talign-items: flex-start;\n"]))),x=h.c.View(a||(a=Object(O.a)(["\n\tflex-direction: row;\n\tborder-bottom-width: 2px;\n\tborder-style: solid;\n\tborder-bottom-color: #000000;\n\tbackground-color: #ffffff;\n"]))),p=h.c.View(o||(o=Object(O.a)(["\n\tpadding: 5px;\n"]))),y=h.c.View(i||(i=Object(O.a)(["\n\tflex-direction: row;\n\talign-items: center;\n"]))),v=n(46),g=n(3),w=u.memo((function(e){var t=e.children,n=e.cellData,r=e.flexGrow,c=void 0===r?1:r,a=e.flexShrink,o=void 0===a?1:a,i=e.flexBasis,s=void 0===i?"auto":i,l=e.width,u=void 0===l?"100%":l,d=e.style;e.rowData,e.dataKey;return t?Object(g.jsx)(m,{style:[{flexGrow:c,flexShrink:o,flexBasis:s,width:u},d],children:"function"===typeof t?t({cellData:n}):t}):Object(g.jsx)(m,{style:[{flexGrow:c,flexShrink:o,flexBasis:s,width:u},d],children:Object(g.jsx)(v.a,{children:String(null!==n&&void 0!==n?n:"")})})}));w.displayName="Table.Body.Row.Cell";var k=w,S=u.memo((function(e){var t=e.rowData,n=e.columns,r=e.style,c=e.children;return Object(g.jsx)(f,{style:r,children:n&&n.map((function(e,n){if(!e.hide){var r=e.key||n,a=t[r],o=e.flexGrow,i=e.flexShrink,l=e.flexBasis,u=e.width,d=function(){return{cellData:a,column:e,dataKey:r,flexGrow:o,flexShrink:i,flexBasis:l,width:u,rowData:t,index:n,key:r}};return"function"===typeof c?c({cellData:a,column:e,getCellProps:d}):Object(g.jsx)(k,Object(s.a)({},d()))}}))})}));S.displayName="Table.Row",S.Cell=k;var C,_,D,P=S,B=n(184),R=h.c.View(C||(C=Object(O.a)(["\n\tpadding: 3px;\n\topacity: 0.6;\n"]))),N=h.c.View(_||(_=Object(O.a)(["\n\tborder-left-width: 4px;\n\tborder-right-width: 4px;\n\tborder-bottom-width: 4px;\n\tborder-bottom-color: ",";\n\tborder-left-color: transparent;\n\tborder-right-color: transparent;\n\tmargin-bottom: 2px;\n"])),(function(e){var t=e.active,n=e.theme;return t?n.COLOR_PRIMARY:n.COLOR_DISABLED})),A=h.c.View(D||(D=Object(O.a)(["\n\tborder-left-width: 4px;\n\tborder-right-width: 4px;\n\tborder-top-width: 4px;\n\tborder-top-color: ",";\n\tborder-left-color: transparent;\n\tborder-right-color: transparent;\n"])),(function(e){var t=e.active,n=e.theme;return t?n.COLOR_PRIMARY:n.COLOR_DISABLED})),E=function(e){var t=e.direction;e.visible;return Object(g.jsxs)(R,{children:[Object(g.jsx)(N,{active:"asc"===t}),Object(g.jsx)(A,{active:"desc"===t})]})},I=u.memo((function(e){var t=e.children,n=e.sort,r=e.sortBy,c=e.dataKey,a=e.defaultSortDirection,o=void 0===a?"asc":a,i=e.sortDirection,s=e.label,l=e.style,u=e.flexGrow,d=void 0===u?1:u,j=e.flexShrink,b=void 0===j?1:j,O=e.flexBasis,h=void 0===O?"auto":O,f=e.width,m=void 0===f?"100%":f,x=e.disableSort,w=void 0!==x&&x,k=e.hideLabel,S=void 0!==k&&k,C=!w&&"function"===typeof n,_=C&&r===c,D=r!==c?o:"desc"===i?"asc":"desc";return Object(g.jsx)(p,{style:[{flexGrow:d,flexShrink:b,flexBasis:h,width:m},l],children:C?Object(g.jsx)(B.a,{onPress:function(e){"function"===typeof n&&n({defaultSortDirection:o,event:e,sortBy:c,sortDirection:D})},children:function(e){var n=e.hovered;return Object(g.jsxs)(y,{children:[Object(g.jsx)(v.a,{children:t||s}),Object(g.jsx)(E,{visible:n||_,direction:_?i:void 0})]})}}):!S&&Object(g.jsx)(v.a,{children:t||s})})}));I.displayName="Table.Header.Row.Cell";var T=I,L=u.memo((function(e){var t=e.columns,n=e.sort,r=e.sortBy,c=e.sortDirection,a=e.children;e.style;return Object(g.jsx)(x,{children:t&&t.map((function(e,t){if(!e.hide){var o=e.key||t,i=e.defaultSortDirection,l=e.disableSort,u=e.label,d=e.flexGrow,j=e.flexShrink,b=e.flexBasis,O=e.width,h=e.hideLabel,f=function(){return{column:e,dataKey:o,defaultSortDirection:i,disableSort:l,flexGrow:d,flexShrink:j,flexBasis:b,label:u,sort:n,sortBy:r,sortDirection:c,width:O,hideLabel:h,key:o}};return"function"===typeof a?a({column:e,getHeaderCellProps:f}):Object(g.jsx)(T,Object(s.a)({},f()))}}))})}));L.displayName="Table.Header.Row",L.Cell=T;var V=L,G=function(e){var t=e.children;return Object(g.jsx)(g.Fragment,{children:t})};G.displayName="Table.Body";var M=Object.assign(G,{Row:P}),H=function(e){var t=e.children;return Object(g.jsx)(g.Fragment,{children:t})};H.displayName="Table.Header";var $=Object.assign(H,{Row:V}),F=function(e){var t=e.message,n=void 0===t?"No results found":t;return Object(g.jsx)(v.a,{children:n})},q=u.memo(F);F.displayName="Table.Row.Empty";var U=q,Q=["children","columns","data","empty","footer","sort","sortBy","sortDirection"],z={minimumViewTime:500,viewAreaCoveragePercentThreshold:0},W=[0],K=u.memo((function(e){var t=e.children,n=e.columns,r=e.data,c=(e.empty,e.footer),a=e.sort,o=e.sortBy,i=e.sortDirection,j=Object(l.a)(e,Q),O=u.useCallback((function(e,t){return b()(e,"localId")||t}),[]),h=u.Children.count(t),f=u.useMemo((function(){if(Array.isArray(t)&&h>0){var e=t.find((function(e){return e.type===M}));if(u.isValidElement(e))return function(t){var r=t.item,c=t.index;return e.props.children({item:r,columns:n,index:c})}}return"function"===typeof t?function(e){var r=e.item,c=e.index;return t({item:r,columns:n,index:c})}:function(e){var t=e.item;return Object(g.jsx)(P,{rowData:t,columns:n})}}),[t,h,n]),m=u.useCallback(f,[f]),x=u.useMemo((function(){if(Array.isArray(t)&&h>0){var e=t.find((function(e){return e.type===$}));if(u.isValidElement(e))return u.cloneElement(e.props.children,{columns:n,sort:a,sortBy:o,sortDirection:i})}return Object(g.jsx)(V,{columns:n,sort:a,sortBy:o,sortDirection:i})}),[t,h,n,a,o,i]);return Object(g.jsx)(d.a,Object(s.a)({data:r,renderItem:m,keyExtractor:O,ListHeaderComponent:x,ListFooterComponent:c,ListEmptyComponent:U,stickyHeaderIndices:W,viewabilityConfig:z},j))}));K.displayName="Table",K.Header=$,K.Body=M;var X=K;t.a=X},864:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return k}));var r=n(17),c=n(0),a=n(192),o=n(856),i=n(860),s=n(558),l=n(372),u=n(252),d=n(873),j=n(281),b=n(883),O=n(899),h=n(884),f=n(51),m=n(885),x=n.n(m),p=n(895),y=n(896),v=n(898),g=n(889),w=n(3),k=c.createContext({currentOrder:void 0,setCurrentOrder:void 0,currentCustomer:void 0,setCurrentCustomer:void 0});t.b=function(){var t=Object(u.b)().storeDB,n=Object(o.a)(Object(d.a)("posProducts")),m=Object(o.a)(Object(d.a)("cart")),S=c.useState(),C=Object(r.a)(S,2),_=C[0],D=C[1],P=c.useState(),B=Object(r.a)(P,2),R=B[0],N=B[1],A=c.useRef(!1),E=Object(f.h)(n.get("width")),I=Object(h.a)(),T=Object(r.a)(I,2),L=T[0],V=T[1],G=Object(h.a)(),M=Object(r.a)(G,2),H=M[0],$=M[1],F=c.useCallback((function(e,t){t.productColumnWidth=E.value}),[]),q=c.useCallback((function(e,t){H&&L?(A.current=!0,E.value=Object(f.k)(x()((H.width+e.translationX)/L.width,.2,.8))):console.log("@TODO - why null?",H)}),[L,H]),U=c.useCallback((function(e,t){A.current=!1,n.atomicPatch({width:E.value})}),[]),Q=Object(f.f)(function(){const t=function(){return{flexBasis:"".concat(100*E.value,"%")}};return t._closure={productColumnWidth:E},t.asString='function _f(){const{productColumnWidth}=jsThis._closure;{return{flexBasis:"".concat(productColumnWidth.value*100,"%")};}}',t.__workletHash=0xe295e26f59b,t.__location="/home/runner/work/client/client/packages/common/src/screens/pos/pos.tsx (80:46)",e.__reanimatedWorkletInit(t),t}()),z=function(e){A.current||V(e)},W=function(e){A.current||$(e)},K=t.collections.orders.find().where("status").eq("pos-open"),X=Object(i.a)(K.$.pipe(Object(s.a)((function(e){return(null===X||void 0===X?void 0:X.length)!==e.length}))),[]);return Object(l.a)("POS",{storeDB:t,productsUI:n,cartUI:m,currentOrder:_,orderQuery:K,orders:X,handleColumnResize:q,handleStartColumnResize:F,handleEndColumnResize:U,productsColumnStyle:Q,handleContainerLayout:z,handleProductColumnLayout:W}),Object(w.jsx)(k.Provider,{value:{currentOrder:_,setCurrentOrder:D,currentCustomer:R,setCurrentCustomer:N},children:Object(w.jsxs)(g.c,{onLayout:z,children:[Object(w.jsx)(g.d,{as:f.a.View,onLayout:W,style:Q,children:Object(w.jsx)(j.a,{children:Object(w.jsx)(c.Suspense,{fallback:Object(w.jsx)(a.a,{children:"Loading products..."}),children:Object(w.jsx)(y.a,{ui:n,storeDB:t})})})}),Object(w.jsx)(b.a,{onStart:F,onActive:q,onEnd:U,children:Object(w.jsx)(f.a.View,{children:Object(w.jsx)(O.a,{})})}),_&&"pos-checkout"===_.status?Object(w.jsx)(g.b,{children:Object(w.jsx)(v.a,{})}):Object(w.jsx)(g.a,{children:Object(w.jsx)(j.a,{children:Object(w.jsx)(c.Suspense,{fallback:Object(w.jsx)(a.a,{children:"Loading cart..."}),children:Object(w.jsx)(p.a,{ui:m,orders:X})})})})]})})}}).call(this,n(38))},865:function(e,t,n){"use strict";var r=n(1),c=n(17),a=n(0),o=n(910),i=n(373),s=n(80),l=n(870),u=n(86),d=n(46),j=n(3);t.a=function(e){var t=e.ui,n=Object(o.a)().t,b=t.id.split("_")[1],O=t.get("columns"),h=a.useState(!1),f=Object(c.a)(h,2),m=f[0],x=f[1];return Object(j.jsxs)(i.a,{open:m,activator:Object(j.jsx)(s.a,{name:"cog",onPress:function(){return x(!0)},tooltip:"Table Settings"}),onRequestClose:function(){return x(!1)},children:[Object(j.jsx)(d.a,{children:"Columns"}),O.map((function(e,c){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(l.a,{label:n("".concat(b,".column.label.").concat(e.key)),checked:!e.hide,onChange:function(n){O[c]=Object(r.a)(Object(r.a)({},e),{},{hide:!n}),t.atomicSet("columns",O)}},e.key),e.display?e.display.map((function(c,a){return Object(j.jsx)(l.a,{label:n("".concat(b,".column.label.").concat(c.key)),checked:!c.hide,onChange:function(n){e.display[a]=Object(r.a)(Object(r.a)({},c),{},{hide:!n}),t.atomicSet("columns",O)}},c.key)})):null]})})),Object(j.jsx)(u.a,{title:"Restore Default Settings",onPress:t.reset})]})}},866:function(e,t,n){"use strict";var r=n(0),c=n(46),a=n(3),o=n(1),i=n(21),s={default:"{name}\n{company}\n{address_1}\n{address_2}\n{city}\n{state}\n{postcode}\n{country}",AU:"{name}\n{company}\n{address_1}\n{address_2}\n{city} {state} {postcode}\n{country}",AT:"{company}\n{name}\n{address_1}\n{address_2}\n{postcode} {city}\n{country}",BE:"{company}\n{name}\n{address_1}\n{address_2}\n{postcode} {city}\n{country}",CA:"{company}\n{name}\n{address_1}\n{address_2}\n{city} {state_code}&nbsp;&nbsp;{postcode}\n{country}",CH:"{company}\n{name}\n{address_1}\n{address_2}\n{postcode} {city}\n{country}",CL:"{company}\n{name}\n{address_1}\n{address_2}\n{state}\n{postcode} {city}\n{country}",CN:"{country} {postcode}\n{state}, {city}, {address_2}, {address_1}\n{company}\n{name}",CZ:"{company}\n{name}\n{address_1}\n{address_2}\n{postcode} {city}\n{country}",DE:"{company}\n{name}\n{address_1}\n{address_2}\n{postcode} {city}\n{country}",EE:"{company}\n{name}\n{address_1}\n{address_2}\n{postcode} {city}\n{country}",FI:"{company}\n{name}\n{address_1}\n{address_2}\n{postcode} {city}\n{country}",DK:"{company}\n{name}\n{address_1}\n{address_2}\n{postcode} {city}\n{country}",FR:"{company}\n{name}\n{address_1}\n{address_2}\n{postcode} {city_upper}\n{country}",HK:"{company}\n{first_name} {last_name_upper}\n{address_1}\n{address_2}\n{city_upper}\n{state_upper}\n{country}",HU:"{name}\n{company}\n{city}\n{address_1}\n{address_2}\n{postcode}\n{country}",IN:"{company}\n{name}\n{address_1}\n{address_2}\n{city} {postcode}\n{state}, {country}",IS:"{company}\n{name}\n{address_1}\n{address_2}\n{postcode} {city}\n{country}",IT:"{company}\n{name}\n{address_1}\n{address_2}\n{postcode}\n{city}\n{state_upper}\n{country}",JP:"{postcode}\n{state} {city} {address_1}\n{address_2}\n{company}\n{last_name} {first_name}\n{country}",TW:"{company}\n{last_name} {first_name}\n{address_1}\n{address_2}\n{state}, {city} {postcode}\n{country}",LI:"{company}\n{name}\n{address_1}\n{address_2}\n{postcode} {city}\n{country}",NL:"{company}\n{name}\n{address_1}\n{address_2}\n{postcode} {city}\n{country}",NZ:"{name}\n{company}\n{address_1}\n{address_2}\n{city} {postcode}\n{country}",NO:"{company}\n{name}\n{address_1}\n{address_2}\n{postcode} {city}\n{country}",PL:"{company}\n{name}\n{address_1}\n{address_2}\n{postcode} {city}\n{country}",PT:"{company}\n{name}\n{address_1}\n{address_2}\n{postcode} {city}\n{country}",SK:"{company}\n{name}\n{address_1}\n{address_2}\n{postcode} {city}\n{country}",RS:"{name}\n{company}\n{address_1}\n{address_2}\n{postcode} {city}\n{country}",SI:"{company}\n{name}\n{address_1}\n{address_2}\n{postcode} {city}\n{country}",ES:"{name}\n{company}\n{address_1}\n{address_2}\n{postcode} {city}\n{state}\n{country}",SE:"{company}\n{name}\n{address_1}\n{address_2}\n{postcode} {city}\n{country}",TR:"{name}\n{company}\n{address_1}\n{address_2}\n{postcode} {city} {state}\n{country}",UG:"{name}\n{company}\n{address_1}\n{address_2}\n{city}\n{state}, {country}",US:"{name}\n{company}\n{address_1}\n{address_2}\n{city}, {state_code} {postcode}\n{country}",VN:"{name}\n{company}\n{address_1}\n{city}\n{country}"},l=n(909),u=r.memo((function(e){var t=e.value;return Object(a.jsx)(c.a,{children:Object(l.a)(new Date(t||""),"dd/MM/yyyy")})})),d=r.memo((function(e){var t=e.children,n=e.symbol;return Object(a.jsxs)(c.a,{children:[n," ",t]})}));t.a={Name:function(e){var t=e.firstName,n=e.lastName;return Object(a.jsxs)(c.a,{children:[t," ",n]})},Number:function(e){var t=e.children,n=e.prefix,r=e.suffix;return Object(a.jsxs)(c.a,{children:[n," ",t," ",r]})},List:function(e){var t=e.array;return Object(a.jsx)(a.Fragment,{children:null===t||void 0===t?void 0:t.map((function(e,t){return"string"===typeof e?Object(a.jsxs)(c.a,{children:[e,", "]}):e}))})},Address:function(e){var t,n,r=e.address,l=e.showName,u=Object(o.a)({},r),d=u.country&&s.hasOwnProperty(u.country)?s[u.country]:s.default;Object.assign(u,{name:l&&"".concat(u.first_name," ").concat(u.last_name),state_code:u.state,state_upper:null===(t=u.state)||void 0===t?void 0:t.toUpperCase(),city_upper:null===(n=u.city)||void 0===n?void 0:n.toUpperCase()});var j=d.match(/\{[\w]+\}/g);return j&&j.forEach((function(e){var t=new RegExp(e,"g"),n=e.split(/{|}/g)[1];d=d.replace(t,u[n]||"")})),Object(a.jsx)(i.a,{children:d.split("\n").map((function(e,t){if(e.trim())return Object(a.jsx)(c.a,{children:e},t)}))})},Date:u,Currency:d}},867:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r,c,a,o,i=n(0),s=n.n(i),l=n(23),u=n(22),d=n(145),j=n(184),b=u.c.View(r||(r=Object(l.a)(["\n\theight: 100%;\n"]))),O=u.c.View(c||(c=Object(l.a)(["\n\tflex-direction: row;\n"]))),h=Object(u.c)(j.a)(a||(a=Object(l.a)(["\n\talign-items: center;\n\tjustify-content: center;\n\tpadding: 5px;\n"]))),f=Object(u.c)(d.a)(o||(o=Object(l.a)(["\n\tcolor: ",";\n"])),(function(e){var t=e.selected,n=e.theme;return t?n.TEXT_COLOR:n.TEXT_COLOR_SECONDARY})),m=n(3),x=function(e){var t=e.label,n=e.selected,r=e.onSelect;return Object(m.jsx)(h,{selected:n,onPress:r,children:Object(m.jsx)(f,{selected:n,children:t})})},p=function(e){var t=e.tabs,n=e.selected,r=e.onSelect,c=e.children,a=e.position,o=void 0===a?"top":a,i=s.a.useMemo((function(){return t.map((function(e,t){return Object(m.jsx)(x,{label:e,selected:n===t,onSelect:function(){return r(t)}},e)}))}),[t,n,r]);return Object(m.jsxs)(b,{children:["bottom"===o&&c,Object(m.jsx)(O,{children:i}),"top"===o&&c]})}},868:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(17),c=n(0),a=n(911),o=n(853),i=n(841),s=n(905),l=n(101),u=n(252),d=function(e,t){var n=Object(u.b)(),d=n.storeDB,j=d.collections[e],b=c.useState(t),O=Object(r.a)(b,2),h=O[0],f=O[1];Object(l.p)();if(!j)throw Error("Collection not found");var m=Object(a.a)((function(e){return e.pipe(Object(o.a)((function(e){var t=Object(r.a)(e,1)[0];return j.query(t).$})),Object(i.a)(1),Object(s.a)((function(e){return console.error(e),e})))}),[h]);return{data$:m,query:h,setQuery:f}}},869:function(e,t,n){"use strict";n.d(t,"a",(function(){return P}));var r,c,a,o,i=n(17),s=n(0),l=n(23),u=n(22),d=u.c.TextInput(r||(r=Object(l.a)(["\n\tmax-height: 300px;\n"]))),j=u.c.View(c||(c=Object(l.a)(["\n\tposition: relative;\n\twidth: 100%;\n"]))),b=u.c.View(a||(a=Object(l.a)(["\n\tposition: absolute;\n\ttop: 0;\n\tright: 0;\n"]))),O=n(3),h=function(e){var t=e.data,n=JSON.stringify(t,null,"  ");return Object(O.jsx)(d,{multiline:!0,numberOfLines:n.split("\n").length,editable:!1,value:n})},f=n(46),m=u.c.View(o||(o=Object(l.a)(["\n\tpadding-left: 20px;\n"]))),x=function(e){var t=e.name,n=e.value;e.keyPath,e.deep;return Object(O.jsxs)(m,{style:{flexDirection:"row"},children:[Object(O.jsxs)(f.a,{type:"info",children:[t," : "]}),Object(O.jsx)(f.a,{children:String(n)})]})},p=n(27),y=n(21),v=n(872),g=n(184),w=function(e){var t=e.data,n=e.name,r=e.isCollapsed,c=e.onExpand,a=e.keyPath,o=void 0===a?[]:a,l=e.deep,u=void 0===l?0:l,d=-1===u?[]:[].concat(Object(p.a)(o),[n]),j=u+1,b=s.useState(r(d,u,t)),h=Object(i.a)(b,2),x=h[0],w=h[1];return Object(O.jsxs)(m,{children:[Object(O.jsxs)(y.a,{style:{flexDirection:"row"},children:[Object(O.jsxs)(g.a,{onPress:function(){x&&c(d,u,t),w(!x)},style:{flexDirection:"row",alignItems:"center"},children:[Object(O.jsx)(v.a,{direction:x?"right":"down"}),Object(O.jsxs)(f.a,{type:"info",children:[n," :"]})]}),x?function(){var e=Object.getOwnPropertyNames(t).length,n=0===e||e>1?"keys":"key";return Object(O.jsxs)(f.a,{type:"secondary",children:[" {...}"," ",e," ",n]})}():Object(O.jsx)(f.a,{children:" {"})]}),!x&&function(){var e=Object.getOwnPropertyNames(t).map((function(e){return Object(O.jsx)(C,{name:e,data:t[e],keyPath:d,deep:j,isCollapsed:r,onExpand:c},e)}));return Object(O.jsx)(y.a,{children:e})}(),!x&&Object(O.jsx)(f.a,{children:"}"})]})},k=function(e){var t=e.data,n=e.name,r=e.isCollapsed,c=e.onExpand,a=e.keyPath,o=void 0===a?[]:a,l=e.deep,u=void 0===l?0:l,d=-1===u?[]:[].concat(Object(p.a)(o),[n]),j=u+1,b=s.useState(r(d,u,t)),h=Object(i.a)(b,2),x=h[0],w=h[1];return Object(O.jsxs)(m,{children:[Object(O.jsxs)(y.a,{style:{flexDirection:"row"},children:[Object(O.jsxs)(g.a,{onPress:function(){x&&c(d,u,t),w(!x)},style:{flexDirection:"row",alignItems:"center"},children:[Object(O.jsx)(v.a,{direction:x?"right":"down"}),Object(O.jsxs)(f.a,{type:"info",children:[n," :"]})]}),x?function(){var e=t.length,n=0===e||e>1?"items":"item";return Object(O.jsxs)(f.a,{type:"secondary",children:[" [...]"," ",e," ",n]})}():Object(O.jsx)(f.a,{children:" ["})]}),!x&&function(){Object.getOwnPropertyNames(t);var e=t.map((function(e,t){return Object(O.jsx)(C,{name:"".concat(t),data:e,keyPath:d,deep:j,isCollapsed:r,onExpand:c},t)}));return Object(O.jsx)(y.a,{children:e})}(),!x&&Object(O.jsx)(f.a,{children:"]"})]})},S=n(887),C=function(e){var t=e.data,n=e.name,r=e.isCollapsed,c=void 0===r?function(e){return e.length>0}:r,a=e.onExpand,o=void 0===a?function(){}:a,i=e.keyPath,s=void 0===i?[]:i,l=e.deep,u=void 0===l?0:l;switch(Object(S.a)(t)){case"String":return Object(O.jsx)(x,{name:n,value:'"'.concat(t,'"'),originalValue:t,keyPath:s,deep:u,isCollapsed:c,onExpand:o});case"Number":return Object(O.jsx)(x,{name:n,value:t,originalValue:t,keyPath:s,deep:u,isCollapsed:c,onExpand:o});case"Boolean":return Object(O.jsx)(x,{name:n,value:!!t,originalValue:t,keyPath:s,deep:u,isCollapsed:c,onExpand:o});case"Date":return Object(O.jsx)(x,{name:n,value:t.toISOString(),originalValue:t,keyPath:s,deep:u,isCollapsed:c,onExpand:o});case"Null":return Object(O.jsx)(x,{name:n,value:"null",originalValue:"null",keyPath:s,deep:u,isCollapsed:c,onExpand:o});case"Undefined":return Object(O.jsx)(x,{name:n,value:"undefined",originalValue:"undefined",keyPath:s,deep:u,isCollapsed:c,onExpand:o});case"Object":return Object(O.jsx)(w,{name:n,data:t,keyPath:s,deep:u,isCollapsed:c,onExpand:o});case"Array":return Object(O.jsx)(k,{name:n,data:t,keyPath:s,deep:u,isCollapsed:c,onExpand:o});default:return null}},_=n(86),D=n(80),P=function(e){var t=e.data,n=e.rootName,r=void 0===n?"root":n,c=e.isCollapsed,a=e.onExpand,o=(e.fallback,s.useState(!1)),l=Object(i.a)(o,2),u=l[0],d=l[1];return Object(O.jsxs)(j,{children:[u?Object(O.jsx)(h,{data:t}):Object(O.jsx)(C,{data:t,name:r,deep:-1,isCollapsed:c,onExpand:a}),Object(O.jsx)(b,{children:Object(O.jsx)(_.a,{title:"raw",type:"secondary",background:"outline",size:"small",onPress:function(){return d(!u)},accessoryLeft:u?Object(O.jsx)(D.a,{size:"small",name:"visibility-off"}):Object(O.jsx)(D.a,{size:"small",name:"visibility"})})})]})}},870:function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var r,c,a,o,i,s=n(17),l=n(0),u=n(375),d=n(46),j=n(23),b=n(22),O=n(80),h=n(184),f=Object(b.c)(h.a)(r||(r=Object(j.a)(["\n\tdisplay: flex;\n\tflex-direction: row;\n\t","\n"])),(function(e){return e.disabled&&Object(b.b)(c||(c=Object(j.a)(["\n\t\t\topacity: 0.5;\n\t\t"])))})),m=b.c.View(a||(a=Object(j.a)(["\n\tflex: 0 1 auto;\n\talign-items: center;\n\tjustify-content: center;\n\tborder-style: solid;\n\tbackground-color: ",";\n\twidth: ",";\n\theight: ",";\n\tborder-width: ",";\n\tborder-color: ",";\n\tborder-radius: ",";\n"])),(function(e){var t=e.theme;return e.checked?t.CHECKBOX_BACKGROUND_COLOR:"transparent"}),(function(e){return e.theme.CHECKBOX_WIDTH}),(function(e){return e.theme.CHECKBOX_HEIGHT}),(function(e){return e.theme.CHECKBOX_BORDER_WIDTH}),(function(e){return e.theme.CHECKBOX_BORDER_COLOR}),(function(e){return e.theme.CHECKBOX_BORDER_RADIUS})),x=Object(b.c)(O.a)(o||(o=Object(j.a)(["\n\tcolor: #fff;\n"]))),p=b.c.View(i||(i=Object(j.a)(["\n\tflex: 1;\n\tdisplay: flex;\n\tflex-direction: column;\n\tpadding: 0 5px;\n"]))),y=n(3),v=function(e){var t=e.label,n=(e.checked,e.info);return Object(y.jsxs)(p,{children:[Object(y.jsx)(d.a,{children:t}),n&&Object(y.jsx)(d.a,{children:n})]})};function g(e){var t=e.checked,n=(e.hasError,e.disabled);e.focused,e.hovered,e.pressed;return Object(y.jsx)(m,{checked:t,children:t&&Object(y.jsx)(x,{name:"check",size:"small",disabled:n,color:"#FFF"})})}var w=function(e){var t=e.label,n=e.disabled,r=e.helpText,c=e.checked,a=void 0!==c&&c,o=e.onChange,i=Object(u.a)(a,o),d=Object(s.a)(i,2),j=d[0],b=d[1],O=l.useCallback((function(){return null===b||void 0===b?void 0:b(!j)}),[j,b]);return Object(y.jsxs)(f,{disabled:n,onPress:O,children:[Object(y.jsx)(g,{checked:j,disabled:n}),Object(y.jsx)(v,{label:t,checked:j,info:r})]})}},871:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r,c,a,o=n(1),i=n(25),s=n(0),l=n(141),u=n(80),d=n(374),j=n(23),b=n(22),O=b.c.View(r||(r=Object(j.a)(["\n\tflex-direction: row;\n\twidth: 100%;\n\talign-items: center;\n"]))),h=b.c.View(c||(c=Object(j.a)(["\n\tflex: 1;\n"]))),f=b.c.View(a||(a=Object(j.a)(["\n\tflex-direction: row;\n"]))),m=n(3),x=["actions","onSearch","filters"],p=function(e){var t=e.actions,n=e.onSearch,r=e.filters,c=Object(i.a)(e,x),a=s.useMemo((function(){if(r)return r.map((function(e){var t=e.label,n=e.onRemove;return Object(m.jsx)(d.a,{removable:!0,onRemove:n,children:t})}))}),[r]);return Object(m.jsxs)(O,{children:[Object(m.jsx)(h,{children:Object(m.jsx)(l.a,Object(o.a)({hideLabel:!0,clearable:!0,onChange:n,leftAccessory:a},c))}),t&&Object(m.jsx)(f,{children:t.map((function(e){return s.isValidElement(e)?e:Object(m.jsx)(u.a,{name:e.name,onPress:e.action})}))})]})}},872:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));n(0);var r,c,a,o,i,s=n(23),l=n(22),u=l.c.View(r||(r=Object(s.a)(["\n\twidth: 8px;\n\theight: 8px;\n"]))),d=l.c.View(c||(c=Object(s.a)(["\n\tborder-top-width: 4px;\n\tborder-bottom-width: 4px;\n\tborder-right-width: 4px;\n\tborder-right-color: ",";\n\tborder-top-color: transparent;\n\tborder-bottom-color: transparent;\n"])),(function(e){return e.theme.COLOR_PRIMARY})),j=l.c.View(a||(a=Object(s.a)(["\n\tborder-top-width: 4px;\n\tborder-bottom-width: 4px;\n\tborder-left-width: 4px;\n\tborder-left-color: ",";\n\tborder-top-color: transparent;\n\tborder-bottom-color: transparent;\n"])),(function(e){return e.theme.COLOR_PRIMARY})),b=l.c.View(o||(o=Object(s.a)(["\n\tborder-left-width: 4px;\n\tborder-right-width: 4px;\n\tborder-bottom-width: 4px;\n\tborder-bottom-color: ",";\n\tborder-left-color: transparent;\n\tborder-right-color: transparent;\n"])),(function(e){return e.theme.COLOR_PRIMARY})),O=l.c.View(i||(i=Object(s.a)(["\n\tborder-left-width: 4px;\n\tborder-right-width: 4px;\n\tborder-top-width: 4px;\n\tborder-top-color: ",";\n\tborder-left-color: transparent;\n\tborder-right-color: transparent;\n"])),(function(e){return e.theme.COLOR_PRIMARY})),h=n(3),f=function(e){var t=e.direction,n=void 0===t?"down":t;e.size;return Object(h.jsx)(u,{children:function(){switch(n){case"left":return Object(h.jsx)(d,{});case"right":return Object(h.jsx)(j,{});case"up":return Object(h.jsx)(b,{});default:return Object(h.jsx)(O,{})}}()})}},873:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(558),c=n(855),a=n(252),o=n(882),i={posProducts:void 0,cart:void 0,products:void 0,orders:void 0,customers:void 0},s=function(e){var t=Object(a.b)().storeDB;if(i[e])return i[e];var n=t.getLocal$("ui_".concat(e)).pipe(Object(r.a)((function(n){return!n&&o[e]?(t.insertLocal("ui_".concat(e),o[e]),!1):(n.reset=function(){t.upsertLocal("ui_".concat(e),o[e])},n)})));return i[e]=new c.a(n),i[e]}},874:function(e,t,n){"use strict";var r=n(1),c=n(0),a=n(860),o=n(910),i=n(274),s=n.n(i),l=n(275),u=n.n(l),d=n(863),j=n(372),b=n(46),O=n(3),h=function(e){var t=e.item,n=e.column;return Object(O.jsx)(b.a,{children:String(t[n.key])})},f=c.memo((function(e){var t=e.item,n=e.columns,c=e.cells,o=e.setQuery,i=Object(a.a)(t.$);return Object(j.a)("Common Table Row",{forceRender:i,item:t,columns:n,cells:c}),Object(O.jsx)(d.a.Body.Row,{rowData:t,columns:n,children:function(e){var n=e.column,a=e.getCellProps,i=c[n.key]?c[n.key]:h;return Object(O.jsx)(d.a.Body.Row.Cell,Object(r.a)(Object(r.a)({},a()),{},{children:Object(O.jsx)(i,{item:t,column:n,setQuery:o})}))}})}));t.a=c.memo((function(e){var t=e.collection,n=e.columns,i=e.data$,l=e.setQuery,b=e.sortBy,h=e.sortDirection,m=e.cells,x=Object(o.a)().t,p=Object(a.a)(i,[]),y=c.useCallback((function(e){var t=e.sortBy,n=e.sortDirection;l((function(e){return Object(r.a)(Object(r.a)({},e),{},{sortBy:t,sortDirection:n})}))}),[l]),v=c.useMemo((function(){return s()(t.schema.indexes).includes(b)?p:u()(p,[b],[h])}),[b,h,t.schema.indexes,p]),g=c.useCallback((function(e,t){return{length:100,offset:100*t,index:t}}),[]);return Object(j.a)("Common Table",{collection:t,columns:n,data:p,maybeSortedData:v,setQuery:l,_sortBy:b,_sortDirection:h,cells:m,t:x}),Object(O.jsxs)(d.a,{columns:n,data:v,sort:y,sortBy:b,sortDirection:h,getItemLayout:g,children:[Object(O.jsx)(d.a.Header,{children:Object(O.jsx)(d.a.Header.Row,{children:function(e){var n=e.getHeaderCellProps,c=n().column;return Object(O.jsx)(d.a.Header.Row.Cell,Object(r.a)(Object(r.a)({},n()),{},{children:x("".concat(t.name,".column.label.").concat(c.key))}))}})}),Object(O.jsx)(d.a.Body,{children:function(e){var t=e.item;return Object(O.jsx)(f,{item:t,columns:n,cells:m,setQuery:l})}})]})}))},875:function(e,t,n){"use strict";var r=n(1),c=n(0),a=n(374),o=n(251),i=n.n(o),s=n(3);t.a=function(e){var t=e.item,n=e.setQuery,o=t.categories,l=c.useCallback((function(e){n((function(t){return i()(Object(r.a)({},t),"filters.category",e)}))}),[n]),u=c.useMemo((function(){return Array.isArray(o)?o.map((function(e){return{key:e.id,label:e.name,action:function(){return l(e)}}})):[]}),[o,l]);return o?Object(s.jsx)(a.a.Group,{tags:u}):Object(s.jsx)(a.a.Group.Skeleton,{numberOfTags:2})}},876:function(e,t,n){"use strict";var r=n(1),c=n(0),a=n(374),o=n(251),i=n.n(o),s=n(3);t.a=function(e){var t=e.item,n=e.setQuery,o=t.tags,l=c.useCallback((function(e){n((function(t){return i()(Object(r.a)({},t),"filters.tag",e)}))}),[n]),u=c.useMemo((function(){return Array.isArray(o)?o.map((function(e){return{key:e.id,label:e.name,action:function(){return l(e)}}})):[]}),[o,l]);return o?Object(s.jsx)(a.a.Group,{tags:u}):Object(s.jsx)(a.a.Group.Skeleton,{numberOfTags:2})}},877:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return o}));n(0);var r=n(51),c=n(559),a=n(3),o=(function(){var t=function(e,t,n){return Math.min(Math.max(t,e),n)};t._closure={},t.asString="function _f(value,lowerBound,upperBound){return Math.min(Math.max(lowerBound,value),upperBound);}",t.__workletHash=5192855762164,t.__location="/home/runner/work/client/client/packages/common/src/components/draggable/draggable.tsx (11:14)",e.__reanimatedWorkletInit(t)}(),function(t){var n=t.children,o=t.onStart,i=t.onActive,s=t.onEnd,l=(t.minX,t.minY,t.maxX,t.maxY,Object(r.d)({onStart:function(){const t=function(e,t){o&&o(e,t)};return t._closure={_onStart:o},t.asString="function onStart(event,ctx){const{_onStart}=jsThis._closure;{if(_onStart){_onStart(event,ctx);}}}",t.__workletHash=0xdec80fc8533,t.__location="/home/runner/work/client/client/packages/common/src/components/draggable/draggable.tsx",e.__reanimatedWorkletInit(t),t}(),onActive:function(){const t=function(e,t){i&&i(e,t)};return t._closure={_onActive:i},t.asString="function onActive(event,ctx){const{_onActive}=jsThis._closure;{if(_onActive){_onActive(event,ctx);}}}",t.__workletHash=0xc1905c1c1d3,t.__location="/home/runner/work/client/client/packages/common/src/components/draggable/draggable.tsx",e.__reanimatedWorkletInit(t),t}(),onEnd:function(){const t=function(e,t){s&&s(e,t)};return t._closure={_onEnd:s},t.asString="function onEnd(event,ctx){const{_onEnd}=jsThis._closure;{if(_onEnd){_onEnd(event,ctx);}}}",t.__workletHash=5282268739699,t.__location="/home/runner/work/client/client/packages/common/src/components/draggable/draggable.tsx",e.__reanimatedWorkletInit(t),t}()}));return Object(a.jsx)(c.b,{onGestureEvent:l,children:n})})}).call(this,n(38))},878:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return i}));n(0);var r=n(21),c=n(51),a=n(888),o=n(3),i=function(t){var n=t.open,i=t.children,s=Object(c.e)(),l=Object(c.g)(function(){const t=function(){return n?Object(c.l)(1):Object(c.l)(0)};return t._closure={open:n,withTiming:c.l},t.asString="function _f(){const{open,withTiming}=jsThis._closure;{return open?withTiming(1):withTiming(0);}}",t.__workletHash=0xdfa6b0f450c,t.__location="/home/runner/work/client/client/packages/common/src/components/collapsible/collapsible.tsx (34:34)",e.__reanimatedWorkletInit(t),t}()),u=Object(c.h)(0),d=Object(c.f)(function(){const t=function(){return{height:u.value*l.value,opacity:l.value}};return t._closure={height:u,progress:l},t.asString="function _f(){const{height,progress}=jsThis._closure;{return{height:height.value*progress.value,opacity:progress.value};}}",t.__workletHash=7619090238724,t.__location="/home/runner/work/client/client/packages/common/src/components/collapsible/collapsible.tsx (37:32)",e.__reanimatedWorkletInit(t),t}());return Object(o.jsx)(a.a,{as:c.a.View,style:d,children:Object(o.jsx)(r.a,{ref:s,onLayout:function(e){var t=e.nativeEvent.layout.height;u.value=t},children:i})})}}).call(this,n(38))},882:function(e){e.exports=JSON.parse('{"posProducts":{"sortBy":"name","sortDirection":"asc","width":0.6,"columns":[{"key":"image","disableSort":true,"order":1,"width":"15%","flexShrink":0,"hideLabel":true},{"key":"name","order":2,"display":[{"key":"sku","hide":true,"order":1},{"key":"categories","order":2},{"key":"tags","hide":true,"order":3}]},{"key":"sku","hide":true,"order":3,"width":"20%","flexShrink":0},{"key":"price","order":4,"width":"90px","flexShrink":0,"align":"right"},{"key":"actions","disableSort":true,"order":5,"width":"38px","flexShrink":0,"hideLabel":true}]},"cart":{"sortBy":"id","sortDirection":"asc","columns":[{"key":"quantity","order":0,"width":"15%","flexShrink":0},{"key":"name","order":1,"width":"50%"},{"key":"sku","hide":true,"order":2,"width":"20%","flexShrink":0},{"key":"price","order":3,"width":"20%","flexShrink":0},{"key":"subtotal","hide":true,"order":4,"width":"20%","flexShrink":0},{"key":"subtotalTax","hide":true,"order":5,"width":"20%","flexShrink":0},{"key":"totalTax","hide":true,"order":6,"width":"20%","flexShrink":0},{"key":"total","order":7,"width":"20%","flexShrink":0,"align":"right"},{"key":"actions","order":8,"width":"60px","flexShrink":0,"hideLabel":true}]},"products":{"sortBy":"name","sortDirection":"asc","columns":[{"key":"image","width":"15%","disableSort":true,"order":1,"flexShrink":0,"hideLabel":true},{"key":"id","order":2,"width":"50px","flexShrink":0,"hide":true},{"key":"name","width":"30%","order":3},{"key":"sku","order":4,"width":"80px","flexShrink":0,"hide":true},{"key":"categories","width":"20%","order":5,"disableSort":true},{"key":"tags","width":"20%","order":6,"hide":true,"disableSort":true},{"key":"regularPrice","width":"100px","order":7},{"key":"salePrice","width":"100px","order":8},{"key":"dateCreated","width":"100px","order":9,"hide":true},{"key":"dateModified","width":"100px","order":10,"hide":true},{"key":"actions","disableSort":true,"order":11,"width":"38px","flexShrink":0,"hideLabel":true}]},"orders":{"sortBy":"number","sortDirection":"desc","columns":[{"key":"status","width":"38px","order":1,"hideLabel":true},{"key":"number","width":"38px","order":2,"hideLabel":true},{"key":"customer","width":"20%","order":3},{"key":"billing","width":"20%","order":4},{"key":"shipping","width":"20%","order":5},{"key":"customerNote","width":"38px","order":6},{"key":"dateCreated","width":"100px","order":7},{"key":"dateModified","hide":true,"width":"100px","order":8},{"key":"dateCompleted","hide":true,"width":"100px","order":9},{"key":"total","width":"90px","order":10},{"key":"actions","disableSort":true,"width":"38px","order":11,"hideLabel":true}]},"customers":{"sortBy":"lastName","sortDirection":"asc","columns":[{"key":"avatarUrl","disableSort":true,"width":"15%","order":1,"hideLabel":true},{"key":"firstName","width":"20%","order":2},{"key":"lastName","width":"20%","order":3},{"key":"email","width":"20%","order":4},{"key":"role","width":"20%","hide":true,"order":5},{"key":"username","width":"20%","hide":true,"order":6},{"key":"billing","width":"20%","order":7},{"key":"shipping","width":"20%","order":8},{"key":"actions","disableSort":true,"width":"38px","order":9,"hideLabel":true}]}}')},883:function(e,t,n){"use strict";var r=n(877);n.d(t,"a",(function(){return r.a}))},884:function(e,t,n){"use strict";var r=n(17),c=n(0);t.a=function(){var e=c.useState(null),t=Object(r.a)(e,2),n=t[0],a=t[1];return[n,c.useCallback((function(e){var t=e.nativeEvent;a(t.layout)}),[a])]}},887:function(module,__webpack_exports__,__webpack_require__){"use strict";function getObjectType(e){return null===e||"object"!==typeof e||Array.isArray(e)||"function"!==typeof e[Symbol.iterator]?Object.prototype.toString.call(e).slice(8,-1):"Iterable"}function parse(string){var result=string;if(0===result.indexOf("function"))return eval("(".concat(result,")"));try{result=JSON.parse(string)}catch(e){}return result}__webpack_require__.d(__webpack_exports__,"a",(function(){return getObjectType}))},888:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r,c=n(23),a=n(22).c.View(r||(r=Object(c.a)(["\n\toverflow: hidden;\n"])))},889:function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return j}));var r,c,a,o,i=n(23),s=n(22),l=s.c.View(r||(r=Object(i.a)(["\n\theight: 100%;\n\tflex-direction: row;\n\tpadding: ",";\n"])),(function(e){var t=e.theme;return"".concat(t.PAGE_MAIN_PADDING_Y," ").concat(t.PAGE_MAIN_PADDING_X)})),u=s.c.View(c||(c=Object(i.a)(["\n\theight: 100%;\n\tflex-grow: 0;\n\tflex-shrink: 0;\n\tflex-basis: 60%;\n"]))),d=s.c.View(a||(a=Object(i.a)(["\n\theight: 100%;\n\tflex: 1;\n"]))),j=s.c.View(o||(o=Object(i.a)(["\n\theight: 100%;\n\tflex: 1;\n"])))},895:function(e,t,n){"use strict";n.d(t,"a",(function(){return Pe}));var r,c,a,o,i,s,l,u,d,j,b=n(1),O=n(17),h=n(0),f=n(21),m=n(860),x=n(911),p=n(558),y=n(853),v=n(61),g=n(185),w=n(46),k=n(374),S=n(867),C=n(372),_=n(910),D=n(863),P=n(80),B=n(184),R=n(4),N=n.n(R),A=n(12),E=n(86),I=n(373),T=n(23),L=n(22),V=n(145),G=L.c.View(r||(r=Object(T.a)([""]))),M=L.c.View(c||(c=Object(T.a)(["\n\tflex-direction: row;\n"]))),H=Object(L.c)(V.a)(a||(a=Object(T.a)(["\n\tflex: 1;\n"]))),$=L.c.View(o||(o=Object(T.a)(["\n\tjustify-content: space-between;\n\tflex-wrap: wrap;\n\tflex-direction: row;\n"]))),F=Object(L.c)(B.a)(i||(i=Object(T.a)(["\n\tflex-grow: 1;\n\tflex-shrink: 0;\n\tflex-basis: 30%;\n\talign-items: center;\n\tmargin: 1px;\n"]))),q=Object(L.c)(V.a)(s||(s=Object(T.a)([""]))),U=n(3),Q=["7","8","9","4","5","6","1","2","3","-","0","."],z=function(e){e.display;var t=e.placeholder,n=void 0===t?"0":t,r=h.useState(n),c=Object(O.a)(r,2),a=c[0],o=c[1];return Object(U.jsxs)(G,{children:[Object(U.jsxs)(M,{children:[Object(U.jsx)(H,{children:a}),Object(U.jsx)(P.a,{name:"backspace",onPress:function(){o(a)}})]}),Object(U.jsx)($,{children:Q.map((function(e){return Object(U.jsx)(F,{onPress:function(){return function(e){o(a+e)}(e)},children:Object(U.jsx)(q,{children:e})},"button-".concat(e))}))})]})},W=function(e){var t=e.lineItem,n=h.useState(!1),r=Object(O.a)(n,2),c=r[0],a=r[1],o=Object(m.a)(t.quantity$,t.quantity);return Object(U.jsx)(I.a,{open:c,onRequestClose:function(){return a(!1)},activator:Object(U.jsx)(E.a,{title:String(o),onPress:function(){return a(!0)},background:"outline"}),children:Object(U.jsx)(z,{placeholder:String(o)})})},K=function(e){var t=e.lineItem,n=Object(m.a)(t.price$,t.price);return Object(U.jsx)(E.a,{title:String(n),onPress:function(){console.log("numpad")},background:"outline"})},X=n(866),J=function(e){var t=e.item,n=e.type,r=void 0===n?"total":n,c=Object(m.a)(t["".concat(r,"$")],t[r]);return Object(C.a)("CartLineItemTotal",{item:t,total:c}),Object(U.jsx)(X.a.Currency,{children:c})},Y=function(e){var t=e.item,n=e.type,r=void 0===n?"totalTax":n,c=Object(m.a)(t["".concat(r,"$")],t[r]);return Object(U.jsx)(w.a,{children:c})},Z=n(464),ee=n(864),te=n(111),ne=n(141),re=n(870),ce=L.c.View(l||(l=Object(T.a)([""]))),ae=L.c.View(u||(u=Object(T.a)(["\n\tflex-direction: row;\n"]))),oe=L.c.View(d||(d=Object(T.a)(["\n\tflex: 1;\n\tpadding: 5px;\n"]))),ie=function(e){var t=e.data,n=function(){console.log("hi")};return Object(U.jsx)(ce,{children:null===t||void 0===t?void 0:t.map((function(e){return Object(U.jsxs)(ae,{children:[Object(U.jsx)(oe,{children:Object(U.jsx)(ne.a,{label:"Key",value:e.key})}),Object(U.jsx)(oe,{children:Object(U.jsx)(ne.a,{label:"Value",value:e.value})}),Object(U.jsx)(P.a,{name:"add",onPress:n})]},e.key)}))})},se=function(e){var t=e.item,n=e.onClose;Object(m.a)(t.$);var r=function(){var e=Object(A.a)(N.a.mark((function e(n){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.atomicPatch({taxClass:n});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c=function(e){return t.collection.schema.topLevelFields.includes(e)};return Object(U.jsx)(te.a,{title:t.name||t.methodTitle,open:!0,onClose:n,primaryAction:{label:"Save",action:n},children:Object(U.jsxs)(te.a.Section,{children:[c("name")&&Object(U.jsx)(ne.a,{label:"Name",value:t.name}),c("taxStatus")&&Object(U.jsx)(re.a,{label:"Taxable",checked:"taxable"===t.taxStatus,onChange:function(e){return t.atomicPatch({taxStatus:e?"taxable":"none"})}}),c("taxClass")&&Object(U.jsx)(ne.a,{label:"Tax Class",value:t.taxClass,onChange:r}),Object(U.jsx)(ie,{data:t.metaData})]})})},le=function(e){var t=e.item,n=h.useState(!1),r=Object(O.a)(n,2),c=r[0],a=r[1],o=h.useContext(ee.a).currentOrder,i=function(e){var t=h.useContext(Z.a);return h.useCallback((function(){return t.show(e)}),[t,e])}({message:"Item removed",dismissable:!0,action:{label:"Undo",action:function(){console.log("Undo remove",t)}}});return Object(U.jsxs)(f.a,{style:{flexDirection:"row",alignItems:"center"},children:[Object(U.jsx)(P.a,{name:"more-vert",size:"large",onPress:function(){return a(!0)},backgroundStyle:"none"}),Object(U.jsx)(P.a,{name:"remove",size:"x-large",onPress:function(){null===o||void 0===o||o.removeCartLine(t),i()},backgroundStyle:"none",type:"critical"}),c&&Object(U.jsx)(se,{item:t,onClose:function(){return a(!1)}})]})},ue=function(e){var t=e.item,n=e.columns;return Object(C.a)("CartLineItem",{item:t,columns:n}),Object(U.jsx)(D.a.Body.Row,{rowData:t,columns:n,children:function(e){var n=e.getCellProps,r=n(),c=(r.cellData,r.column);return Object(U.jsx)(D.a.Body.Row.Cell,Object(b.a)(Object(b.a)({},n()),{},{children:function(){switch(c.key){case"quantity":return Object(U.jsx)(W,{lineItem:t});case"price":return Object(U.jsx)(K,{lineItem:t});case"subtotalTax":return Object(U.jsx)(Y,{item:t,type:"subtotalTax"});case"subtotal":return Object(U.jsx)(J,{item:t,type:"subtotal"});case"totalTax":return Object(U.jsx)(Y,{item:t});case"total":return Object(U.jsx)(J,{item:t});case"actions":return Object(U.jsx)(le,{item:t});default:return null}}()}))}})},de=function(e){var t=e.item,n=Object(m.a)(t.total$,t.total);return Object(U.jsx)(E.a,{title:n,onPress:function(){console.log("numpad")},background:"outline"})},je=function(e){var t=e.fee,n=e.columns;return Object(U.jsx)(D.a.Body.Row,{rowData:t,columns:n,children:function(e){var n=e.getCellProps,r=n(),c=(r.cellData,r.column);return Object(U.jsx)(D.a.Body.Row.Cell,Object(b.a)(Object(b.a)({},n()),{},{children:function(){switch(c.key){case"quantity":return Object(U.jsx)(U.Fragment,{});case"price":return Object(U.jsx)(de,{item:t});case"totalTax":return Object(U.jsx)(Y,{item:t});case"actions":return Object(U.jsx)(le,{item:t});default:return null}}()}))}})},be=function(e){var t=e.shipping,n=e.columns;return Object(U.jsx)(D.a.Body.Row,{rowData:t,columns:n,children:function(e){var n=e.getCellProps,r=n(),c=(r.cellData,r.column);return Object(U.jsx)(D.a.Body.Row.Cell,Object(b.a)(Object(b.a)({},n()),{},{children:function(){switch(c.key){case"quantity":return Object(U.jsx)(U.Fragment,{});case"price":return Object(U.jsx)(de,{item:t});case"name":return Object(U.jsx)(w.a,{children:t.methodTitle});case"totalTax":return Object(U.jsx)(Y,{item:t});case"actions":return Object(U.jsx)(le,{item:t});default:return null}}()}))}})},Oe=function(e){var t=e.order,n=e.columns,r=e.items,c=e.query,a=e.onSort,o=e.ui,i=Object(_.a)().t,s=h.useMemo((function(){return Object(U.jsxs)(f.a,{children:[Object(U.jsxs)(B.a,{style:{flexDirection:"row",padding:5,alignItems:"center"},onPress:function(){t.addFeeLine({name:"Fee",total:"10"})},children:[Object(U.jsx)(w.a,{style:{flex:1},children:"Add fee"}),Object(U.jsx)(P.a,{name:"addCircleOutline"})]}),Object(U.jsxs)(B.a,{style:{flexDirection:"row",padding:5,alignItems:"center"},onPress:function(){t.addShippingLine({methodTitle:"Shipping",methodId:"test",total:"5"})},children:[Object(U.jsx)(w.a,{style:{flex:1},children:"Add shipping"}),Object(U.jsx)(P.a,{name:"addCircleOutline"})]})]})}),[t]);return Object(C.a)("CartTable",{columns:n,items:r,query:c,onSort:a,ui:o}),Object(U.jsxs)(D.a,{columns:n,data:r,sort:a,sortBy:c.sortBy,sortDirection:c.sortDirection,footer:s,children:[Object(U.jsx)(D.a.Header,{children:Object(U.jsx)(D.a.Header.Row,{columns:n,children:function(e){var t=e.getHeaderCellProps,n=t().column;return Object(U.jsx)(D.a.Header.Row.Cell,Object(b.a)(Object(b.a)({},t()),{},{children:i("cart.column.label.".concat(n.key))}))}})}),Object(U.jsx)(D.a.Body,{children:function(e){var t=e.item;switch(t.collection.name){case"line_items":return Object(U.jsx)(ue,{item:t,columns:n});case"fee_lines":return Object(U.jsx)(je,{fee:t,columns:n});case"shipping_lines":return Object(U.jsx)(be,{shipping:t,columns:n});default:return null}}})]})},he=n(275),fe=n.n(he),me=n(868),xe=n(375),pe=L.c.ScrollView(j||(j=Object(T.a)(["\n\tmax-height: 200px;\n"]))),ye=function(e){var t=e.label,n=e.choices,r=e.selected,c=void 0===r?null:r,a=e.onChange,o=e.placeholder,i=e.searchValue,s=e.onSearch,l=e.hideLabel,u=h.useState(!1),d=Object(O.a)(u,2),j=d[0],b=d[1],f=h.useCallback((function(){return b(!0)}),[]),m=Object(xe.b)(c,a),x=Object(O.a)(m,2),p=x[0],y=x[1],v=h.useMemo((function(){return n.map((function(e){return Object(U.jsx)(I.a.Item,{label:e.label,disabled:e.disabled,onSelect:function(){return y(e.value)}},e.key)}))}),[n,y]);return Object(U.jsx)(I.a,{open:j,activator:Object(U.jsx)(ne.a,{label:t,hideLabel:l,onFocus:f,placeholder:o,onChange:s,value:i||p,clearable:!0,onClear:function(){return y(null)}}),onRequestClose:function(){b(!1)},hideBackdrop:!0,matchWidth:!0,children:Object(U.jsx)(pe,{children:v})})},ve=function(e){var t=e.selectedCustomer,n=e.onSelectCustomer,r=Object(_.a)().t,c=Object(me.a)("customers",{search:"",sortBy:"lastName",sortDirection:"asc"}),a=c.data$,o=c.query,i=c.setQuery,s=h.useCallback((function(e){i((function(t){return Object(b.a)(Object(b.a)({},t),{},{search:e})}))}),[i]),l=Object(m.a)(a,[]),u=h.useMemo((function(){return fe()(l,"lastName").map((function(e){return{label:"".concat(e.firstName," ").concat(e.lastName),value:e,key:e.localId}}))}),[l]);return Object(C.a)("Customer Select",{selectedCustomer:t,onSelectCustomer:n,customers:l,onSearch:s,query:o,setQuery:i,data$:a}),Object(U.jsx)(ye,{label:"Search customers",hideLabel:!0,choices:u,placeholder:r("customers.search.placeholder"),selected:t?"".concat(t.firstName," ").concat(t.lastName):"",onSearch:s,searchValue:o.search,onChange:n})},ge=n(250),we=n(869),ke=function(e){var t=e.customer,n=Object(ge.a)().storeDB,r=h.useState(!1),c=Object(O.a)(r,2),a=c[0],o=c[1],i=h.useState(null===t||void 0===t?void 0:t.firstName),s=Object(O.a)(i,2),l=s[0],u=s[1],d=h.useState(null===t||void 0===t?void 0:t.email),j=Object(O.a)(d,2),b=j[0],f=j[1],m=h.useState(0),x=Object(O.a)(m,2),p=x[0],y=x[1],v=h.useCallback((function(){return o(!0)}),[]),g=h.useCallback((function(){return o(!1)}),[]),w=t?"Edit Customer":"Add Customer",k=function(){var e=Object(A.a)(N.a.mark((function e(){var r,c,a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t){e.next=8;break}return c=null===n||void 0===n?void 0:n.collections.customers,e.next=5,null===c||void 0===c?void 0:c.insert({firstName:l,email:b});case 5:e.sent,e.next=9;break;case 8:r.atomicPatch({firstName:l,email:b});case 9:r&&((a=r.syncRestApi({push:{}})).error$.subscribe((function(e){401===e.code&&console.log("need to login")})),a.run(!1));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=0===p?Object(U.jsxs)(te.a.Section,{children:[Object(U.jsx)(ne.a,{label:"First Name",value:l,onChange:u}),Object(U.jsx)(ne.a,{label:"Email",value:b,onChange:f})]}):Object(U.jsx)(te.a.Section,{children:t?Object(U.jsx)(we.a,{data:t.toJSON()}):null});return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(P.a,{name:"addCustomer",onPress:v,tooltip:"Add new customer"}),a&&Object(U.jsx)(te.a,{title:w,open:!0,onClose:g,primaryAction:{label:"Save",action:k},children:Object(U.jsx)(S.a,{tabs:["Form","JSON"],selected:p,onSelect:y,children:C})})]})},Se=n(865),Ce=function(e){var t=e.order,n=Object(m.a)(t.total$,t.total),r=Object(m.a)(t.totalTax$,t.totalTax);return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsxs)(f.a,{style:{flexDirection:"row"},children:[Object(U.jsx)(f.a,{style:{flex:1},children:Object(U.jsx)(w.a,{children:"Total Tax:"})}),Object(U.jsx)(f.a,{children:Object(U.jsx)(w.a,{children:r})})]}),Object(U.jsxs)(f.a,{style:{flexDirection:"row"},children:[Object(U.jsx)(f.a,{style:{flex:1},children:Object(U.jsx)(w.a,{children:"Order Total:"})}),Object(U.jsx)(f.a,{children:Object(U.jsx)(w.a,{children:n})})]})]})},_e=(n(131),h.createContext((function(){}))),De=function(e){var t=e.order,n=h.useContext(ee.a).setCurrentOrder,r=h.useState(!1),c=Object(O.a)(r,2),a=c[0],o=c[1],i=h.useContext(_e);return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsxs)(E.a.Group,{style:{marginBottom:5},children:[Object(U.jsx)(E.a,{title:"Add Note",background:"outline",onPress:function(){t.atomicPatch({customerNote:"This is a note!"})}}),Object(U.jsx)(E.a,{title:"Order Meta",background:"outline",onPress:function(){o(!0)}}),Object(U.jsx)(E.a,{title:"Save",background:"outline",onPress:Object(A.a)(N.a.mark((function e(){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=t.syncRestApi({push:{}})).error$.subscribe((function(e){401===e.code&&i()})),n.run(!1);case 3:case"end":return e.stop()}}),e)})))})]}),Object(U.jsxs)(E.a.Group,{children:[Object(U.jsx)(E.a,{title:"Void",type:"critical",onPress:Object(A.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.remove(),n(void 0);case 2:case"end":return e.stop()}}),e)}))),style:{width:"80px"}}),Object(U.jsx)(E.a,{title:"Checkout",accessoryRight:Object(U.jsx)(w.a,{type:"inverse",children:t.total}),type:"success",onPress:Object(A.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.atomicPatch({status:"pos-checkout"});case 1:case"end":return e.stop()}}),e)})))})]}),a&&Object(U.jsx)(te.a,{title:"Order Data",open:!0,onClose:function(){return o(!1)},primaryAction:{label:"Save",action:function(){return o(!1)}},children:Object(U.jsxs)(te.a.Section,{children:[Object(U.jsx)(ne.a,{label:"Order Number",value:t.number}),Object(U.jsx)(re.a,{label:"Price Includes Tax",checked:t.pricesIncludeTax,onChange:function(e){return t.atomicPatch({pricesIncludeTax:e})}}),Object(U.jsx)(ie,{data:t.metaData}),Object(U.jsx)(ne.a,{label:"Currency Symbol",value:t.currencySymbol})]})})]})},Pe=function(e){var t=e.ui,n=e.orders,r=void 0===n?[]:n;Object(C.a)("Cart",{ui:t,orders:r});var c=h.useContext(ee.a),a=c.currentOrder,o=c.setCurrentOrder,i=c.currentCustomer,s=c.setCurrentCustomer,l=Object(m.a)((function(){return t.get$("columns")}),t.get("columns")),u=Object(O.a)(l,1)[0],d=h.useState({sortBy:"id",sortDirection:"asc"}),j=Object(O.a)(d,2),_=j[0],D=j[1],P=h.useCallback((function(e){var t=e.sortBy,n=e.sortDirection;D(Object(b.a)(Object(b.a)({},_),{},{sortBy:t,sortDirection:n}))}),[_]),B=Object(x.a)((function(e){return e.pipe(Object(p.a)((function(e){var t=Object(O.a)(e,2),n=t[0];t[1];return Object(v.c)(n)})),Object(y.a)((function(e){var t=Object(O.a)(e,2),n=t[0];t[1];return n.cart$})))}),[a,_]),R=Object(m.a)(B,[]),N=h.useCallback((function(e){a&&a.addCustomer(e),s(e)}),[a,s]),A=h.useMemo((function(){return r.map((function(e){return e.total}))}),[r]),E=h.useCallback((function(e){o(r[e])}),[r,o]);return Object(U.jsx)(S.a,{tabs:A,selected:0,onSelect:E,position:"bottom",children:Object(U.jsxs)(g.a.Group,{children:[Object(U.jsxs)(g.a,{style:{flexDirection:"row",alignItems:"center"},children:[Object(U.jsx)(f.a,{style:{flex:1},children:i?Object(U.jsxs)(f.a,{style:{flexDirection:"row",alignItems:"center"},children:[Object(U.jsx)(w.a,{children:"Customer: "}),Object(U.jsx)(k.a,{removable:!0,onPress:function(){console.log("edit customer")},onRemove:function(){s(void 0)},children:"".concat(i.firstName," ").concat(i.lastName)})]}):Object(U.jsx)(ve,{onSelectCustomer:N})}),Object(U.jsx)(ke,{}),Object(U.jsx)(Se.a,{ui:t})]}),a?Object(U.jsxs)(g.a.Group,{grow:!0,children:[Object(U.jsx)(g.a,{grow:!0,children:Object(U.jsx)(Oe,{order:a,items:R,columns:u,query:_,onSort:P,ui:t})}),Object(U.jsx)(g.a,{children:Object(U.jsx)(Ce,{order:a})}),Object(U.jsx)(g.a,{children:Object(U.jsx)(De,{order:a})})]}):Object(U.jsx)(g.a,{content:"Add item to cart",grow:!0})]})})}},896:function(e,t,n){"use strict";n.d(t,"a",(function(){return U}));var r=n(1),c=n(17),a=n(0),o=n(860),i=n(43),s=n.n(i),l=n(251),u=n.n(l),d=n(868),j=n(176),b=n.n(j),O=n(252),h=n(280),f=function(e){var t=Object(O.b)().storeDB,n=Object(h.b)().wpCredentials,r=b.a.create({baseURL:"http://localhost:8888/wp-json/wc/v3/",headers:{"X-WCPOS":"1",Authorization:"Bearer ".concat(n.jwt)}}),c=t.collections[e];if(!c)throw Error("Collection not found");a.useEffect((function(){var e=b.a.CancelToken.source();return r.get("products",{params:{fields:["id","name"],posts_per_page:-1},cancelToken:e.token}).then((function(e){var t=e.data;return c.auditIdsFromServer(t)})).catch((function(e){console.log(e)})),function(){e.cancel()}}),[c,r])},m=n(185),x=n(871),p=n(46),y=n(874),v=n(865),g=n(4),w=n.n(g),k=n(12),S=n(80),C=n(86),_=n(373),D=n(250),P=n(21),B=n(3),R=function(e){var t=e.product,n=a.useState([]),r=Object(c.a)(n,2),o=r[0],i=(r[1],function(){var e=Object(k.a)(w.a.mark((function e(n){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.collections().orders.findOne().exec();case 2:e.sent.addOrUpdateLineItem(n,t);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),s=function(){var e=Object(k.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return 0===o.length?Object(B.jsx)(C.a,{title:"Fetch variations",onPress:function(){s("products/".concat(t.id,"/variations"))}}):Object(B.jsx)(B.Fragment,{children:o.map((function(e){return Object(B.jsxs)(P.a,{children:[Object(B.jsxs)(p.a,{children:[e.id," -",e.attributes.map((function(e){return Object(B.jsxs)(p.a,{children:[e.name," -",e.option,","]},e.id)})),"- ",e.price]}),Object(B.jsx)(C.a,{title:"Add to Cart",onPress:function(){return i(e)}})]},e.id)}))})},N=n(864),A=function(e){var t=e.item,n=a.useContext(N.a),r=n.currentOrder,o=n.setCurrentOrder,i=Object(D.a)().storeDB,s=a.useState(!1),l=Object(c.a)(s,2),u=l[0],d=l[1],j=a.useCallback(Object(k.a)(w.a.mark((function e(){var n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=4;break}r.addOrUpdateLineItem(t),e.next=8;break;case 4:return e.next=6,null===i||void 0===i?void 0:i.collections.orders.createNewOrderWithProduct(t);case 6:n=e.sent,o(n);case 8:case"end":return e.stop()}}),e)}))),[r,t,o,null===i||void 0===i?void 0:i.collections.orders]);return t.isSynced()?t.isVariable()?Object(B.jsx)(_.a,{open:u,onRequestClose:function(){return d(!1)},activator:Object(B.jsx)(C.a,{title:"->",onPress:function(){return d(!0)}}),children:Object(B.jsx)(R,{product:t})}):Object(B.jsx)(S.a,{name:"addCircle",size:"x-large",backgroundStyle:"none",onPress:j}):Object(B.jsx)(S.a.Skeleton,{size:"x-large"})},E=n(875),I=n(377),T=function(e){var t=e.item.thumbnail;return Object(B.jsx)(I.a,{src:t})},L=n(117),V=n.n(L),G=n(876),M=function(e){var t=e.item,n=e.column,r=e.setQuery,c=n.display,o=a.useCallback((function(e){var t=V()(c,{key:e});return!(t&&t.hide)}),[c]);return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(p.a,{children:t.name}),o("sku")&&Object(B.jsx)(p.a,{size:"small",children:t.sku}),o("categories")&&Object(B.jsx)(E.a,{item:t,setQuery:r}),o("tags")&&Object(B.jsx)(G.a,{item:t,setQuery:r}),"variable"===t.type&&Object(B.jsx)(P.a,{children:t.attributes.filter((function(e){return e.variation})).map((function(e){return Object(B.jsxs)(p.a,{size:"small",children:[Object(B.jsxs)(p.a,{size:"small",type:"secondary",children:[e.name,":"]}),e.options.join(", ")]},e.id)}))})]})},H=function(e){var t=e.item;return t.isSynced()?Object(B.jsx)(p.a,{children:t.price}):Object(B.jsx)(p.a.Skeleton,{length:"short"})},$=function(e){var t=e.item;return Object(B.jsx)(p.a,{children:t.regular_price})},F=function(e){var t=e.item;return t.isSynced()?Object(B.jsx)(p.a,{children:t.sku}):Object(B.jsx)(p.a.Skeleton,{length:"short"})},q={actions:A,categories:E.a,image:T,name:M,price:H,regularPrice:$,sku:F,tag:G.a},U=function(e){var t=e.ui,n=e.storeDB,i=Object(o.a)((function(){return t.get$("columns")}),t.get("columns")),l=Object(c.a)(i,1)[0],j=Object(o.a)(null===n||void 0===n?void 0:n.collections.products.totalRecords$),b=a.useState(!1),O=Object(c.a)(b,2),h=(O[0],O[1],a.useState(0)),g=Object(c.a)(h,2),w=g[0],k=(g[1],Object(d.a)("products",{search:"",sortBy:"name",sortDirection:"asc",filters:{category:null,tag:null}})),S=k.data$,C=k.query,_=k.setQuery;f("products");var D=a.useCallback((function(e){_((function(t){return Object(r.a)(Object(r.a)({},t),{},{search:e})}))}),[_]),P=a.useMemo((function(){var e=[];return s()(C,"filters.category")&&e.push({label:s()(C,"filters.category.name"),onRemove:function(){_((function(e){return u()(Object(r.a)({},e),"filters.category",null)}))}}),s()(C,"filters.tag")&&e.push({label:s()(C,"filters.tag.name"),onRemove:function(){_((function(e){return u()(Object(r.a)({},e),"filters.tag",null)}))}}),e}),[C,_]);return Object(B.jsxs)(m.a.Group,{children:[Object(B.jsx)(m.a,{children:Object(B.jsx)(x.a,{label:"Search Products",placeholder:"Search Products",value:C.search,onSearch:D,actions:[Object(B.jsx)(v.a,{ui:t})],filters:P})}),Object(B.jsx)(m.a,{grow:!0,children:Object(B.jsx)(y.a,{collection:n.collections.products,columns:l,data$:S,setQuery:_,sortBy:C.sortBy,sortDirection:C.sortDirection,cells:q})}),Object(B.jsx)(m.a,{style:{alignItems:"flex-end"},children:Object(B.jsx)(B.Fragment,{children:Object(B.jsxs)(p.a,{children:["Showing ",w," of ",j]})})})]})}},898:function(e,t,n){"use strict";n.d(t,"a",(function(){return P}));var r,c,a,o,i,s=n(4),l=n.n(s),u=n(12),d=n(0),j=n(185),b=n(46),O=n(3),h=function(e){var t=e.src,n=e.title,r=e.onError,c=e.onMessage,a=e.onLoad;return d.useEffect((function(){if("function"===typeof c)return window.addEventListener("message",c),function(){window.removeEventListener("message",c)}}),[]),Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("iframe",{title:n,src:t,onLoad:a,onError:r,width:"100%",height:"100%",allowpaymentrequest:!0})})},f=n(86),m=n(17),x=n(878),p=n(23),y=n(22),v=n(276),g=n(184),w=y.c.View(r||(r=Object(p.a)([""]))),k=Object(y.c)(g.a)(c||(c=Object(p.a)([""]))),S=Object(y.c)(v.a)(a||(a=Object(p.a)([""]))),C=(y.c.View(o||(o=Object(p.a)([""]))),Object(y.c)(v.a)(i||(i=Object(p.a)([""])))),_=function(e){var t=e.items,n=d.useState(null),r=Object(m.a)(n,2),c=r[0],a=r[1];return Object(O.jsx)(w,{children:t.map((function(e,t){var n=e.label,r=e.content;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(k,{onPress:function(){a(t===c?null:t)},children:Object(O.jsx)(S,{children:n})}),Object(O.jsx)(x.a,{open:t===c,children:"string"===typeof r?Object(O.jsx)(C,{children:r}):r})]})}))})},D=n(864),P=function(){var e,t=d.useContext(D.a),n=t.currentOrder,r=(t.currentCustomer,null===n||void 0===n||null===(e=n.metaData)||void 0===e?void 0:e.find((function(e){return"_pos_checkout_url"===e.key})));if("pos-checkout"!==(null===n||void 0===n?void 0:n.status))throw Error("Order does not have the right status");return d.useEffect((function(){function e(){return(e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=null===n||void 0===n?void 0:n.syncRestApi({push:{}})).error$.subscribe((function(e){console.log(e)})),t.run(!1);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[n]),Object(O.jsxs)(j.a.Group,{children:[Object(O.jsx)(j.a,{children:Object(O.jsxs)(b.a,{children:["Order Total: ",null===n||void 0===n?void 0:n.total]})}),Object(O.jsx)(j.a,{grow:!0,children:(null===r||void 0===r?void 0:r.value)?Object(O.jsx)(_,{items:[{label:"Stripe",content:Object(O.jsx)(h,{src:"".concat(null===r||void 0===r?void 0:r.value,"&wcpos=1&gateway=stripe")})},{label:"BACS",content:Object(O.jsx)(h,{src:"".concat(null===r||void 0===r?void 0:r.value,"&wcpos=1&gateway=bacs")})},{label:"Cheque",content:Object(O.jsx)(h,{src:"".concat(null===r||void 0===r?void 0:r.value,"&wcpos=1&gateway=cheque")})},{label:"COD",content:Object(O.jsx)(h,{src:"".concat(null===r||void 0===r?void 0:r.value,"&wcpos=1&gateway=cod")})},{label:"PayPal",content:Object(O.jsx)(h,{src:"".concat(null===r||void 0===r?void 0:r.value,"&wcpos=1&gateway=paypal")})}]}):null}),Object(O.jsx)(j.a,{children:Object(O.jsx)(f.a,{title:"Go Back",onPress:function(){n.atomicPatch({status:"pos-open"})}})})]})}},899:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));n(0);var r,c,a=n(360),o=n(23),i=n(22),s=n(74),l=i.c.View(r||(r=Object(o.a)(["\n\theight: 100%;\n\talign-items: center;\n\tjustify-content: center;\n\tbackground-color: ",";\n\twidth: 10px;\n\n\t","}\n"])),(function(e){return e.hovered?"#f5f5f5":"transparent"}),"ios"!==s.a.OS&&"android"!==s.a.OS&&Object(i.b)(c||(c=Object(o.a)(["\n\t\t\tcursor: col-resize;\n\t\t"])))),u=n(80),d=n(3),j=function(e){var t=e.children,n=e.style;return Object(d.jsx)(a.a,{style:[{flexDirection:"row",height:"100%"},n],children:function(e){var n=e.hovered;return Object(d.jsx)(l,{hovered:n,children:t||Object(d.jsx)(u.a,{name:"more-vert"})})}})}},908:function(e,t,n){"use strict";n.r(t);var r,c,a,o=n(0),i=n(101),s=n(906),l=n(864),u=n(1),d=n(17),j=n(856),b=n(860),O=n(43),h=n.n(O),f=n(251),m=n.n(f),x=n(868),p=n(185),y=n(46),v=n(250),g=n(873),w=n(871),k=n(874),S=n(865),C=n(377),_=n(3),D=function(e){var t=e.item;return Object(_.jsx)(C.a,{src:t.thumbnail,style:{width:100,height:100}})},P=n(4),B=n.n(P),R=n(12),N=n(141),A=function(e){var t=e.item,n=function(){var e=Object(R.a)(B.a.mark((function e(n){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.atomicPatch({name:n});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(_.jsx)(N.a,{label:"Name",value:t.name,onChange:n,hideLabel:!0})},E=n(875),I=n(876),T=n(866),L=function(e){var t=e.item,n=e.column;return Object(_.jsx)(T.a.Currency,{symbol:"$",children:t[n.key]})},V=n(373),G=n(454),M=n.n(G),H=n(22),$=n(23),F=n(184),q=n(145),U=H.c.View(r||(r=Object($.a)([""]))),Q=Object(H.c)(F.a)(c||(c=Object($.a)(["\n\tpadding: 5px 10px;\n"]))),z=Object(H.c)(q.a)(a||(a=Object($.a)(["\n\t","\n"])),(function(e){var t=e.hovered,n=e.theme,r=e.type;return t&&"critical"===r|"warning"===r&&"\n    color: ".concat(n.TEXT_COLOR_INVERSE,";\n  ")})),W=function(e){var t=e.children,n=e.label,r=void 0===n?"":n,c=e.onPress,a=e.action,i=e.type,s=e.style,l=Object(H.d)(),u=o.useCallback((function(){"function"===typeof a&&a(),"function"===typeof c&&c(r)}),[a,r,c]),d=o.useCallback((function(e){var t=e.hovered,n=l.MENU_ITEM_HOVER_BACKGROUND_COLOR;if(i){var r="color_".concat(i).toUpperCase();n=l[r]}return[{backgroundColor:t?n:"transparent"},s]}),[s,l,i]);return Object(_.jsx)(Q,{onPress:u,style:d,children:function(e){var n=e.hovered;return Object(_.jsx)(z,{type:i,hovered:n,children:t||r})}})},K=function(e){var t=e.items,n=e.onSelect,r=void 0===n?function(){}:n;return Object(_.jsx)(U,{children:t.map((function(e,t){var n="string"===typeof e?{label:e}:e;return Object(_.jsx)(W,Object(u.a)(Object(u.a)({},n),{},{onPress:function(){r(n)}}),M()("".concat(n.label,"_").concat(t)))}))})};K.Item=W;var X,J,Y,Z,ee,te=n(872),ne=function(e){var t=e.items,n=e.onSelect,r=e.activator,c=o.useState(!1),a=Object(d.a)(c,2),i=a[0],s=a[1],l=o.useCallback((function(){return s(!0)}),[]),u=o.useCallback((function(){return s(!1)}),[]),j=o.useMemo((function(){return"string"===typeof r?Object(_.jsxs)(y.a,{onPress:l,style:{alignItems:"center"},children:[r,Object(_.jsx)(te.a,{direction:i?"up":"down"})]}):o.isValidElement(r)&&"Icon"===h()(r,"type.name")?o.cloneElement(r,{onPress:l}):Object(_.jsxs)(F.a,{onPress:l,style:{alignItems:"center"},children:[r,Object(_.jsx)(te.a,{direction:i?"up":"down"})]})}),[r,i,l]);return Object(_.jsx)(V.a,{activator:j,onRequestClose:u,open:i,hideBackdrop:!0,placement:"bottom-end",popoverStyle:{paddingLeft:0,paddingRight:0},children:Object(_.jsx)(K,{items:t,onSelect:n})})},re=n(80),ce=n(111),ae=n(867),oe=n(869),ie=n(129),se=n(375),le=n(475),ue=function(e){var t,n=e.label,r=e.choices,c=e.selected,a=void 0===c?null:c,i=e.onChange,s=e.placeholder,l=e.helpText,u=e.error,j=void 0!==u&&u,b=e.disabled,O=void 0!==b&&b,h=o.useState(!1),f=Object(d.a)(h,2),m=f[0],x=f[1],p=o.useCallback((function(){return x(!0)}),[]),y=o.useCallback((function(){return x(!1)}),[]),v=Object(se.b)(a,i),g=Object(d.a)(v,2),w=g[0],k=g[1],S=o.useMemo((function(){return r.map((function(e){return"string"===typeof e?{label:e,value:e}:e}))}),[r]),C=o.useMemo((function(){return S.find((function(e){return e.value===w}))}),[S,w]),D=o.useMemo((function(){return S.map((function(e){return Object(_.jsx)(V.a.Item,{label:e.label,disabled:e.disabled,onSelect:function(){return t=e.value,k(t),void x(!1);var t}},e.value)}))}),[S,k]);return Object(_.jsx)(le.a,{label:n,disabled:O,helpText:l,error:j,onLabelClick:p,children:Object(_.jsx)(V.a,{open:m,activator:Object(_.jsx)(le.b,{value:null!==(t=null===C||void 0===C?void 0:C.label)&&void 0!==t?t:"",placeholder:s,disabled:O,focused:m,onPress:p,rightAccessory:Object(_.jsx)(te.a,{direction:m?"up":"down"}),style:{minWidth:"100px"}}),onRequestClose:y,popoverStyle:{maxHeight:300},placement:"bottom",hideBackdrop:!0,matchWidth:!0,children:Object(_.jsx)(ie.a,{children:D})})})},de=n(870),je=function(e){var t=e.product,n=e.onClose,r=o.useState(0),c=Object(d.a)(r,2),a=c[0],i=c[1],s=0===a?Object(_.jsxs)(ce.a.Section,{children:[Object(_.jsx)(N.a,{label:"Name",value:t.name}),Object(_.jsx)(ue,{label:"Status",choices:["draft","pending","private","publish"],selected:t.status}),Object(_.jsx)(N.a,{label:"Price",value:t.price}),Object(_.jsx)(N.a,{label:"Regular Price",value:t.regularPrice}),Object(_.jsx)(N.a,{label:"Sale Price",value:t.salePrice}),Object(_.jsx)(de.a,{label:"On Sale",checked:t.onSale})]}):Object(_.jsx)(ce.a.Section,{children:Object(_.jsx)(oe.a,{data:t.toJSON()})});return Object(_.jsx)(ce.a,{title:t.name,open:!0,onClose:n,primaryAction:{label:"Save"},children:Object(_.jsx)(ae.a,{tabs:["Product","JSON"],selected:a,onSelect:i,children:s})})},be=function(e){var t=e.product,n=e.onClose;return Object(_.jsx)(ce.a,{title:"Confirm",open:!0,onClose:n,primaryAction:{label:"Delete",action:function(){console.log("delete locally and on server")},type:"critical"},secondaryActions:[{label:"Delete locally",action:t.remove},{label:"Cancel",action:n}],children:Object(_.jsx)(ce.a.Section,{children:Object(_.jsxs)(y.a,{children:["You are about to delete ",t.name]})})})},Oe=function(e){var t=e.item,n=o.useState(!1),r=Object(d.a)(n,2),c=r[0],a=r[1],i=o.useState(!1),s=Object(d.a)(i,2),l=s[0],u=s[1];return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(ne,{items:[{label:"Show",action:function(){return a(!0)}},{label:"Sync",action:function(){t.syncRestApi({push:{}}).run(!1)}},{label:"Delete",action:function(){return u(!0)},type:"critical"}],activator:Object(_.jsx)(re.a,{name:"more"})}),l&&Object(_.jsx)(be,{product:t,onClose:function(){return u(!1)}}),c&&Object(_.jsx)(je,{product:t,onClose:function(){return a(!1)}})]})},he=function(e){var t=e.item,n=e.column;return t[n.key]?Object(_.jsx)(T.a.Date,{value:t[n.key]}):null},fe={image:D,name:A,categories:E.a,tags:I.a,regularPrice:L,salePrice:L,actions:Oe,dateCreated:he},me=H.c.View(X||(X=Object($.a)(["\n\theight: 100%;\n\tflex-direction: row;\n\tflex: 1;\n\tpadding: ",";\n"])),(function(e){var t=e.theme;return"".concat(t.PAGE_MAIN_PADDING_Y," ").concat(t.PAGE_MAIN_PADDING_X)})),xe=function(){var e=Object(v.a)().storeDB,t=Object(j.a)(Object(g.a)("products")),n=Object(b.a)((function(){return t.get$("columns")}),t.get("columns")),r=Object(d.a)(n,1)[0],c=Object(b.a)(null===e||void 0===e?void 0:e.collections.products.totalRecords$),a=o.useState(!1),i=Object(d.a)(a,2),s=(i[0],i[1],o.useState(0)),l=Object(d.a)(s,2),O=l[0],f=(l[1],Object(x.a)("products",{search:"",sortBy:"name",sortDirection:"asc",filters:{category:null,tag:null}})),C=f.data$,D=f.query,P=f.setQuery,B=o.useCallback((function(e){P((function(t){return Object(u.a)(Object(u.a)({},t),{},{search:e})}))}),[P]);if(!e)throw Error("something went wrong");var R=o.useMemo((function(){var e=[];return h()(D,"filters.category")&&e.push({label:h()(D,"filters.category.name"),onRemove:function(){P((function(e){return m()(Object(u.a)({},e),"filters.category",null)}))}}),h()(D,"filters.tag")&&e.push({label:h()(D,"filters.tag.name"),onRemove:function(){P((function(e){return m()(Object(u.a)({},e),"filters.tag",null)}))}}),e}),[D,P]);return Object(_.jsx)(me,{children:Object(_.jsxs)(p.a.Group,{children:[Object(_.jsx)(p.a,{children:Object(_.jsx)(w.a,{label:"Search Products",placeholder:"Search Products",value:D.search,onSearch:B,actions:[Object(_.jsx)(S.a,{ui:t})],filters:R})}),Object(_.jsx)(p.a,{grow:!0,children:Object(_.jsx)(k.a,{collection:e.collections.products,columns:r,data$:C,setQuery:P,sortBy:D.sortBy,sortDirection:D.sortDirection,cells:fe})}),Object(_.jsx)(p.a,{style:{alignItems:"flex-end"},children:Object(_.jsx)(_.Fragment,{children:Object(_.jsxs)(y.a,{children:["Showing ",O," of ",c]})})})]})})},pe=n(192),ye=function(e){var t=e.order,n=e.onClose,r=o.useState(0),c=Object(d.a)(r,2),a=c[0],i=c[1],s=0===a?Object(_.jsx)(ce.a.Section,{children:Object(_.jsx)(N.a,{label:"Order Number",value:t.number})}):Object(_.jsx)(ce.a.Section,{children:Object(_.jsx)(oe.a,{data:t.toJSON()})});return Object(_.jsx)(ce.a,{open:!0,title:"Order",onClose:n,primaryAction:{label:"Save "},children:Object(_.jsx)(ae.a,{tabs:["Order","JSON"],selected:a,onSelect:i,children:s})})},ve=function(e){var t=e.item,n=o.useState(!1),r=Object(d.a)(n,2),c=r[0],a=r[1],s=Object(i.p)(),l=o.useCallback((function(){t.atomicPatch({status:"pos-open"}),s.navigate("POS",{currentOrder:t})}),[s,t]);return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(ne,{items:[{label:"Show",action:function(){return a(!0)}},{label:"Open in Cart",action:l},{label:"Sync",action:function(){console.log("sync")}},{label:"Delete",action:t.remove}],activator:Object(_.jsx)(re.a,{name:"more"})}),c&&Object(_.jsx)(ye,{order:t,onClose:function(){return a(!1)}})]})},ge=function(e){var t=e.item[e.column.key];return t?Object(_.jsx)(T.a.Address,{address:t,showName:!1}):Object(_.jsx)(y.a.Skeleton,{})},we=function(e){var t=e.item;return t.customer_id?Object(_.jsx)(y.a,{children:t.customer_id}):Object(_.jsx)(y.a.Skeleton,{})},ke=n(378),Se={actions:ve,billing:ge,shipping:ge,customer:we,customerNote:function(e){var t=e.item;return t.note?Object(_.jsx)(ke.a,{content:t.note,children:Object(_.jsx)(re.a,{name:"note"})}):null},status:function(e){var t=e.item;return t.status?Object(_.jsx)(ke.a,{content:t.status,children:Object(_.jsx)(re.a,{name:t.status})}):Object(_.jsx)(re.a.Skeleton,{})}},Ce=H.c.View(J||(J=Object($.a)(["\n\theight: 100%;\n\tflex-direction: row;\n\tflex: 1;\n\tpadding: ",";\n"])),(function(e){var t=e.theme;return"".concat(t.PAGE_MAIN_PADDING_Y," ").concat(t.PAGE_MAIN_PADDING_X)})),_e=function(){var e=Object(v.a)().storeDB,t=Object(j.a)(Object(g.a)("orders")),n=Object(b.a)((function(){return t.get$("columns")}),t.get("columns")),r=Object(d.a)(n,1)[0],c=Object(x.a)("orders",{search:"",sortBy:"dateCreatedGmt",sortDirection:"desc"}),a=c.data$,i=c.query,s=c.setQuery,l=o.useCallback((function(e){s((function(t){return Object(u.a)(Object(u.a)({},t),{},{search:e})}))}),[s]);if(!e)throw Error("something went wrong");return Object(_.jsx)(Ce,{children:Object(_.jsx)(o.Suspense,{fallback:Object(_.jsx)(pe.a,{children:"loading orders..."}),children:Object(_.jsxs)(p.a.Group,{children:[Object(_.jsx)(p.a,{children:Object(_.jsx)(w.a,{label:"Search Orders",placeholder:"Search Orders",value:i.search,onSearch:l,actions:[Object(_.jsx)(S.a,{ui:t})]})}),Object(_.jsx)(p.a,{grow:!0,children:Object(_.jsx)(k.a,{collection:e.collections.orders,columns:r,data$:a,setQuery:s,sortBy:i.sortBy,sortDirection:i.sortDirection,cells:Se})}),Object(_.jsx)(p.a,{})]})})})},De=n(372),Pe=function(e){var t=e.onClose,n=e.customer,r=Object(v.a)().storeDB,c=o.useState(null===n||void 0===n?void 0:n.firstName),a=Object(d.a)(c,2),i=a[0],s=a[1],l=o.useState(null===n||void 0===n?void 0:n.email),u=Object(d.a)(l,2),j=u[0],b=u[1],O=o.useState(0),h=Object(d.a)(O,2),f=h[0],m=h[1],x=n?"Edit Customer":"Add Customer",p=function(){var e=Object(R.a)(B.a.mark((function e(){var t,c,a;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n){e.next=8;break}return c=null===r||void 0===r?void 0:r.collections.customers,e.next=5,null===c||void 0===c?void 0:c.insert({firstName:i,email:j});case 5:e.sent,e.next=9;break;case 8:t.atomicPatch({firstName:i,email:j});case 9:t&&((a=t.syncRestApi({push:{}})).error$.subscribe((function(e){401===e.code&&console.log("need to login")})),a.run(!1));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=0===f?Object(_.jsxs)(ce.a.Section,{children:[Object(_.jsx)(N.a,{label:"First Name",value:i,onChange:s}),Object(_.jsx)(N.a,{label:"Email",value:j,onChange:b})]}):Object(_.jsx)(ce.a.Section,{children:n?Object(_.jsx)(oe.a,{data:n.toJSON()}):null});return Object(_.jsx)(ce.a,{title:x,open:!0,onClose:t,primaryAction:{label:"Save",action:p},children:Object(_.jsx)(ae.a,{tabs:["Form","JSON"],selected:f,onSelect:m,children:y})})},Be=function(e){var t=e.item,n=e.column;return Object(_.jsx)(T.a.Address,{address:t[n.key],showName:!1})},Re=function(e){var t=e.item[e.column.key];return void 0!==t?Object(_.jsx)(y.a,{children:t}):Object(_.jsx)(y.a.Skeleton,{})},Ne={avatarUrl:function(e){var t=e.item;return Object(_.jsx)(C.a,{src:t.avatarUrl,style:{width:100,height:100}})},firstName:Re,lastName:Re,email:function(e){var t=e.item;return void 0!==t.email?Object(_.jsx)(y.a,{children:t.email}):Object(_.jsx)(y.a.Skeleton,{})},billing:Be,shipping:Be,actions:function(e){var t=e.item,n=o.useState(!1),r=Object(d.a)(n,2),c=r[0],a=r[1];return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(ne,{activator:Object(_.jsx)(re.a,{name:"more"}),items:[{label:"Edit",action:function(){return a(!0)}},{label:"Sync",action:function(){t.syncRestApi({push:{}}).run(!1)}},{label:"Delete",action:function(){t.remove()}}]}),c&&Object(_.jsx)(Pe,{onClose:function(){return a(!1)},customer:t})]})}},Ae=H.c.View(Y||(Y=Object($.a)(["\n\theight: 100%;\n\tflex-direction: row;\n\tflex: 1;\n\tpadding: ",";\n"])),(function(e){var t=e.theme;return"".concat(t.PAGE_MAIN_PADDING_Y," ").concat(t.PAGE_MAIN_PADDING_X)})),Ee=function(e){var t=e.navigation,n=Object(v.a)().storeDB,r=Object(j.a)(Object(g.a)("customers")),c=Object(b.a)((function(){return r.get$("columns")}),r.get("columns")),a=Object(d.a)(c,1)[0],i=Object(x.a)("customers",{search:"",sortBy:"lastName",sortDirection:"asc"}),s=i.data$,l=i.query,O=i.setQuery,h=o.useCallback((function(e){O((function(t){return Object(u.a)(Object(u.a)({},t),{},{search:e})}))}),[O]);if(!n)throw Error("something went wrong");return Object(De.a)("Customer Page",{data$:s,query:l,ui:r,columns:a,storeDB:n,navigation:t}),Object(_.jsx)(Ae,{children:Object(_.jsx)(o.Suspense,{fallback:Object(_.jsx)(pe.a,{children:"loading customers..."}),children:Object(_.jsxs)(p.a.Group,{children:[Object(_.jsx)(p.a,{children:Object(_.jsx)(w.a,{label:"Search Customers",placeholder:"Search Customers",value:l.search,onSearch:h,actions:[{name:"add",action:function(){console.log("show modal")}},Object(_.jsx)(S.a,{ui:r})]})}),Object(_.jsx)(p.a,{grow:!0,children:Object(_.jsx)(k.a,{collection:n.collections.customers,columns:a,data$:s,setQuery:O,sortBy:l.sortBy,sortDirection:l.sortDirection,cells:Ne})}),Object(_.jsx)(p.a,{})]})})})},Ie=n(21),Te=n(863),Le=n(86),Ve=function(){var e=o.useState([]),t=Object(d.a)(e,2),n=t[0];t[1];o.useEffect((function(){!function(){var e=Object(R.a)(B.a.mark((function e(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[]);var r=function(){var e=Object(R.a)(B.a.mark((function e(t){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c=function(){var e=Object(R.a)(B.a.mark((function e(t){var n;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,userDB.collections[t].find().exec();case 2:n=e.sent,console.log(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a=[{key:"name",label:"Name"},{key:"count",label:"Count"},{key:"actions",label:""}];return Object(_.jsxs)(Te.a,{columns:a,data:n,children:[Object(_.jsx)(Te.a.Header,{children:Object(_.jsx)(Te.a.Header.Row,{children:a.map((function(e){var t=e.key,n=e.label;return Object(_.jsx)(Te.a.Header.Row.Cell,{dataKey:t,sort:function(){console.log("sort")},sortBy:"name",sortDirection:"asc",children:n},t)}))})}),Object(_.jsx)(Te.a.Body,{children:function(e){var t=e.item;return Object(_.jsx)(Te.a.Body.Row,{rowData:t,columns:a,children:function(e){var n=e.column,a=e.getCellProps;return"actions"===n.key?Object(_.jsxs)(Te.a.Body.Row.Cell,{children:[Object(_.jsx)(Le.a,{title:"Delete All",onPress:function(){r(t.name)}}),Object(_.jsx)(Le.a,{title:"Info",onPress:function(){c(t.name)}})]}):Object(_.jsx)(Te.a.Body.Row.Cell,Object(u.a)({},a()))}})}})]})},Ge=function(e){var t=e.item,n=e.columns,r=Object(b.a)(t.totalRecords$);return Object(_.jsx)(Te.a.Body.Row,{rowData:t,columns:n,children:function(e){switch(e.column.key){case"name":return Object(_.jsx)(Te.a.Body.Row.Cell,{cellData:t.name});case"count":return Object(_.jsx)(Te.a.Body.Row.Cell,{cellData:r});case"actions":return Object(_.jsx)(Te.a.Body.Row.Cell,{children:Object(_.jsx)(Le.a,{title:"Delete All",onPress:function(){t.remove()}})});default:return null}}})},Me=function(){var e=Object(v.a)().storeDB,t=[{key:"name",label:"Name"},{key:"count",label:"Count"},{key:"actions",label:""}];return Object(_.jsxs)(Te.a,{columns:t,data:Object.values(e.collections),children:[Object(_.jsx)(Te.a.Header,{children:Object(_.jsx)(Te.a.Header.Row,{children:t.map((function(e){var t=e.key,n=e.label;return Object(_.jsx)(Te.a.Header.Row.Cell,{dataKey:t,sort:function(){console.log("sort")},sortBy:"name",sortDirection:"asc",children:n},t)}))})}),Object(_.jsx)(Te.a.Body,{children:function(e){var n=e.item;return Object(_.jsx)(Ge,{item:n,columns:t})}})]})},He=function(){return Object(_.jsxs)(Ie.a,{style:{flexDirection:"row"},children:[Object(_.jsxs)(p.a.Group,{style:{width:"50%"},children:[Object(_.jsx)(p.a,{children:"Authentication Database"}),Object(_.jsx)(p.a,{children:Object(_.jsx)(Ve,{})})]}),Object(_.jsxs)(p.a.Group,{style:{width:"50%"},children:[Object(_.jsx)(p.a,{children:"Store Database"}),Object(_.jsx)(p.a,{children:Object(_.jsx)(Me,{})})]})]})},$e=n(479),Fe=n(911),qe=n(853),Ue=function(e){var t=e.onClose,n=Object(v.a)().storeDB,r=o.useState("GB"),c=Object(d.a)(r,2),a=c[0],i=(c[1],Object(Fe.a)((function(e){return e.pipe(Object(qe.a)((function(e){return(null===n||void 0===n?void 0:n.collections.taxes.find().where("country").eq(a)).$})))}),[a])),s=Object(b.a)(i,[]);return console.log(s),Object(_.jsx)(ce.a,{sectioned:!0,title:"Settings",open:!0,onClose:t,primaryAction:{label:"Save",action:t},children:Object(_.jsxs)(Ie.a,{style:{zIndex:999999},children:[Object(_.jsx)(y.a,{children:"Store location: "}),Object(_.jsx)(ue,{label:"Country",placeholder:"GB",choices:[{label:"GB",value:"GB"},{label:"US",value:"US"}]}),Object(_.jsx)(Te.a,{columns:[{key:"country",label:"Country"},{key:"name",label:"Name"},{key:"rate",label:"Rate"}],data:s})]})})},Qe=H.c.View(Z||(Z=Object($.a)(["\n\tflex-direction: row;\n\talign-items: center;\n"]))),ze=function(){var e=o.useState(!1),t=Object(d.a)(e,2),n=t[0],r=t[1],c=Object(i.p)();return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(ne,{activator:Object(_.jsxs)(Qe,{children:[Object(_.jsx)(y.a,{type:"inverse",children:"Test"}),Object(_.jsx)($e.a,{src:"https://secure.gravatar.com/avatar/a2a53c07cdd4a8aa81c043baafd0915f",size:"small"})]}),items:[{label:"Logout",action:function(){var e=Object(R.a)(B.a.mark((function e(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c.navigate("Auth");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),type:"warning"},{label:"Settings",action:function(){return r(!0)}},{label:"Modal",action:function(){return c.dispatch(i.b.navigate({name:"Modal",params:{foo:"bar"}}))}}]}),n&&Object(_.jsx)(Ue,{onClose:function(){return r(!1)}})]})},We=function(){var e=Object(v.a)().online;return Object(_.jsx)(re.a,{name:"circle",size:"x-small",color:e?"green":"red"})},Ke=function(){return Object(_.jsx)(_.Fragment,{children:Object(_.jsx)(re.a,{name:"notifications",onPress:function(){}})})},Xe=H.c.View(ee||(ee=Object($.a)(["\n\tflex-direction: row;\n\talign-items: center;\n"]))),Je=function(){return Object(_.jsxs)(Xe,{children:[Object(_.jsx)(We,{}),Object(_.jsx)(Ke,{}),Object(_.jsx)(ze,{})]})},Ye=Object(s.a)();t.default=function(e){var t=e.navigation,n=(e.route,o.useCallback((function(){t.dispatch(i.c.openDrawer())}),[])),r=o.useMemo((function(){return{headerStyle:{backgroundColor:"#f4511e",height:"40px"},headerTintColor:"#fff",headerTitleStyle:{fontWeight:"bold",textAlign:"center",margin:0},headerBackgroundContainerStyle:{},headerLeftContainerStyle:{padding:"5px",flexGrow:1,flexShrink:1,flexBasis:"20%"},headerRightContainerStyle:{padding:"5px",flexGrow:1,flexShrink:1,flexBasis:"20%"},headerTitleContainerStyle:{padding:"5px",flexGrow:1,flexShrink:1,flexBasis:"100%"},headerLeft:function(){return Object(_.jsx)(Le.a,{onPress:n,title:"Menu"})},headerRight:Je}}),[n]);return Object(_.jsxs)(Ye.Navigator,{screenOptions:r,children:[Object(_.jsx)(Ye.Screen,{name:"POS",component:l.b}),Object(_.jsx)(Ye.Screen,{name:"Products",component:xe}),Object(_.jsx)(Ye.Screen,{name:"Orders",component:_e}),Object(_.jsx)(Ye.Screen,{name:"Customers",component:Ee}),Object(_.jsx)(Ye.Screen,{name:"Support",component:He})]})}}}]);
//# sourceMappingURL=1.4db1b5b7.chunk.js.map