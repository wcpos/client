(this["webpackJsonp@wcpos/web"]=this["webpackJsonp@wcpos/web"]||[]).push([[4],{861:function(e,t,n){"use strict";var r,c,a,o,i,s=n(1),l=n(24),u=n(0),d=n(544),j=n(46),b=n.n(j),O=n(22),f=n(19),m=f.c.View(r||(r=Object(O.a)(["\n\tflex-direction: row;\n\tborder-bottom-width: 1px;\n\tborder-style: solid;\n\tborder-bottom-color: #000000;\n"]))),h=f.c.View(c||(c=Object(O.a)(["\n\tpadding: 5px;\n\talign-items: flex-start;\n"]))),x=f.c.View(a||(a=Object(O.a)(["\n\tflex-direction: row;\n\tborder-bottom-width: 2px;\n\tborder-style: solid;\n\tborder-bottom-color: #000000;\n\tbackground-color: #ffffff;\n"]))),p=f.c.View(o||(o=Object(O.a)(["\n\tpadding: 5px;\n"]))),y=f.c.View(i||(i=Object(O.a)(["\n\tflex-direction: row;\n\talign-items: center;\n"]))),v=n(42),g=n(2),w=u.memo((function(e){var t=e.children,n=e.cellData,r=e.flexGrow,c=void 0===r?1:r,a=e.flexShrink,o=void 0===a?1:a,i=e.flexBasis,s=void 0===i?"auto":i,l=e.width,u=void 0===l?"100%":l,d=e.style;e.rowData,e.dataKey;return t?Object(g.jsx)(h,{style:[{flexGrow:c,flexShrink:o,flexBasis:s,width:u},d],children:"function"===typeof t?t({cellData:n}):t}):Object(g.jsx)(h,{style:[{flexGrow:c,flexShrink:o,flexBasis:s,width:u},d],children:Object(g.jsx)(v.a,{children:String(null!==n&&void 0!==n?n:"")})})}));w.displayName="Table.Body.Row.Cell";var k=w,S=u.memo((function(e){var t=e.rowData,n=e.columns,r=e.style,c=e.children;return Object(g.jsx)(m,{style:r,children:n&&n.map((function(e,n){if(!e.hide){var r=e.key||n,a=t[r],o=e.flexGrow,i=e.flexShrink,l=e.flexBasis,u=e.width,d=function(){return{cellData:a,column:e,dataKey:r,flexGrow:o,flexShrink:i,flexBasis:l,width:u,rowData:t,index:n,key:r}};return"function"===typeof c?c({cellData:a,column:e,getCellProps:d}):Object(g.jsx)(k,Object(s.a)({},d()))}}))})}));S.displayName="Table.Row",S.Cell=k;var C,_,D,P=S,B=n(178),R=f.c.View(C||(C=Object(O.a)(["\n\tpadding: 3px;\n\topacity: 0.6;\n"]))),N=f.c.View(_||(_=Object(O.a)(["\n\tborder-left-width: 4px;\n\tborder-right-width: 4px;\n\tborder-bottom-width: 4px;\n\tborder-bottom-color: ",";\n\tborder-left-color: transparent;\n\tborder-right-color: transparent;\n\tmargin-bottom: 2px;\n"])),(function(e){var t=e.active,n=e.theme;return t?n.COLOR_PRIMARY:n.COLOR_DISABLED})),A=f.c.View(D||(D=Object(O.a)(["\n\tborder-left-width: 4px;\n\tborder-right-width: 4px;\n\tborder-top-width: 4px;\n\tborder-top-color: ",";\n\tborder-left-color: transparent;\n\tborder-right-color: transparent;\n"])),(function(e){var t=e.active,n=e.theme;return t?n.COLOR_PRIMARY:n.COLOR_DISABLED})),E=function(e){var t=e.direction;e.visible;return Object(g.jsxs)(R,{children:[Object(g.jsx)(N,{active:"asc"===t}),Object(g.jsx)(A,{active:"desc"===t})]})},I=u.memo((function(e){var t=e.children,n=e.sort,r=e.sortBy,c=e.dataKey,a=e.defaultSortDirection,o=void 0===a?"asc":a,i=e.sortDirection,s=e.label,l=e.style,u=e.flexGrow,d=void 0===u?1:u,j=e.flexShrink,b=void 0===j?1:j,O=e.flexBasis,f=void 0===O?"auto":O,m=e.width,h=void 0===m?"100%":m,x=e.disableSort,w=void 0!==x&&x,k=e.hideLabel,S=void 0!==k&&k,C=!w&&"function"===typeof n,_=C&&r===c,D=r!==c?o:"desc"===i?"asc":"desc";return Object(g.jsx)(p,{style:[{flexGrow:d,flexShrink:b,flexBasis:f,width:h},l],children:C?Object(g.jsx)(B.a,{onPress:function(e){"function"===typeof n&&n({defaultSortDirection:o,event:e,sortBy:c,sortDirection:D})},children:function(e){var n=e.hovered;return Object(g.jsxs)(y,{children:[Object(g.jsx)(v.a,{children:t||s}),Object(g.jsx)(E,{visible:n||_,direction:_?i:void 0})]})}}):!S&&Object(g.jsx)(v.a,{children:t||s})})}));I.displayName="Table.Header.Row.Cell";var L=I,T=u.memo((function(e){var t=e.columns,n=e.sort,r=e.sortBy,c=e.sortDirection,a=e.children;e.style;return Object(g.jsx)(x,{children:t&&t.map((function(e,t){if(!e.hide){var o=e.key||t,i=e.defaultSortDirection,l=e.disableSort,u=e.label,d=e.flexGrow,j=e.flexShrink,b=e.flexBasis,O=e.width,f=e.hideLabel,m=function(){return{column:e,dataKey:o,defaultSortDirection:i,disableSort:l,flexGrow:d,flexShrink:j,flexBasis:b,label:u,sort:n,sortBy:r,sortDirection:c,width:O,hideLabel:f,key:o}};return"function"===typeof a?a({column:e,getHeaderCellProps:m}):Object(g.jsx)(L,Object(s.a)({},m()))}}))})}));T.displayName="Table.Header.Row",T.Cell=L;var V=T,G=function(e){var t=e.children;return Object(g.jsx)(g.Fragment,{children:t})};G.displayName="Table.Body";var M=Object.assign(G,{Row:P}),H=function(e){var t=e.children;return Object(g.jsx)(g.Fragment,{children:t})};H.displayName="Table.Header";var $=Object.assign(H,{Row:V}),F=function(e){var t=e.message,n=void 0===t?"No results found":t;return Object(g.jsx)(v.a,{children:n})},q=u.memo(F);F.displayName="Table.Row.Empty";var Q=q,U=["children","columns","data","empty","footer","sort","sortBy","sortDirection"],z={minimumViewTime:500,viewAreaCoveragePercentThreshold:0},K=[0],W=u.memo((function(e){var t=e.children,n=e.columns,r=e.data,c=(e.empty,e.footer),a=e.sort,o=e.sortBy,i=e.sortDirection,j=Object(l.a)(e,U),O=u.useCallback((function(e,t){return b()(e,"_id")||t}),[]),f=u.Children.count(t),m=u.useMemo((function(){if(Array.isArray(t)&&f>0){var e=t.find((function(e){return e.type===M}));if(u.isValidElement(e))return function(t){var r=t.item,c=t.index;return e.props.children({item:r,columns:n,index:c})}}return"function"===typeof t?function(e){var r=e.item,c=e.index;return t({item:r,columns:n,index:c})}:function(e){var t=e.item;return Object(g.jsx)(P,{rowData:t,columns:n})}}),[t,f,n]),h=u.useCallback(m,[m]),x=u.useMemo((function(){if(Array.isArray(t)&&f>0){var e=t.find((function(e){return e.type===$}));if(u.isValidElement(e))return u.cloneElement(e.props.children,{columns:n,sort:a,sortBy:o,sortDirection:i})}return Object(g.jsx)(V,{columns:n,sort:a,sortBy:o,sortDirection:i})}),[t,f,n,a,o,i]);return Object(g.jsx)(d.a,Object(s.a)({data:r,renderItem:h,keyExtractor:O,ListHeaderComponent:x,ListFooterComponent:c,ListEmptyComponent:Q,stickyHeaderIndices:K,viewabilityConfig:z},j))}));W.displayName="Table",W.Header=$,W.Body=M;var X=W;t.a=X},862:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return w}));var r=n(13),c=n(0),a=n(185),o=n(907),i=n(858),s=n(484),l=n(243),u=n(100),d=n(870),j=n(268),b=n(879),O=n(899),f=n(880),m=n(50),h=n(881),x=n.n(h),p=n(896),y=n(897),v=n(890),g=n(2),w=c.createContext({currentOrder:void 0,setCurrentOrder:void 0,currentCustomer:void 0,setCurrentCustomer:void 0});t.b=function(){var t=Object(u.b)().storeDB,n=Object(o.a)(Object(d.a)("posProducts")),h=Object(o.a)(Object(d.a)("cart")),k=c.useState(),S=Object(r.a)(k,2),C=S[0],_=S[1],D=c.useState(),P=Object(r.a)(D,2),B=P[0],R=P[1],N=c.useRef(!1),A=Object(m.g)(n.get("width")),E=Object(f.a)(),I=Object(r.a)(E,2),L=I[0],T=I[1],V=Object(f.a)(),G=Object(r.a)(V,2),M=G[0],H=G[1],$=c.useCallback((function(e,t){t.productColumnWidth=A.value}),[]),F=c.useCallback((function(e,t){M&&L?(N.current=!0,A.value=Object(m.j)(x()((M.width+e.translationX)/L.width,.2,.8))):console.log("@TODO - why null?",M)}),[L,M]),q=c.useCallback((function(e,t){N.current=!1,n.atomicPatch({width:A.value})}),[]),Q=Object(m.e)(function(){const t=function(){return{flexBasis:"".concat(100*A.value,"%")}};return t._closure={productColumnWidth:A},t.asString='function _f(){const{productColumnWidth}=jsThis._closure;{return{flexBasis:"".concat(productColumnWidth.value*100,"%")};}}',t.__workletHash=0xe295e26f59b,t.__location="/home/runner/work/client/client/packages/common/src/screens/pos/pos.tsx (78:46)",e.__reanimatedWorkletInit(t),t}()),U=function(e){N.current||T(e)},z=function(e){N.current||H(e)},K=t.collections.orders.find().where("status").eq("pending"),W=Object(i.a)(K.$.pipe(Object(s.a)((function(e){return(null===W||void 0===W?void 0:W.length)!==e.length}))),[]);return Object(l.a)("POS",{storeDB:t,productsUI:n,cartUI:h,currentOrder:C,orderQuery:K,orders:W,handleColumnResize:F,handleStartColumnResize:$,handleEndColumnResize:q,productsColumnStyle:Q,handleContainerLayout:U,handleProductColumnLayout:z}),Object(g.jsx)(w.Provider,{value:{currentOrder:C,setCurrentOrder:_,currentCustomer:B,setCurrentCustomer:R},children:Object(g.jsxs)(v.b,{onLayout:U,children:[Object(g.jsx)(v.c,{as:m.a.View,onLayout:z,style:Q,children:Object(g.jsx)(j.a,{children:Object(g.jsx)(c.Suspense,{fallback:Object(g.jsx)(a.a,{children:"Loading products..."}),children:Object(g.jsx)(y.a,{ui:n,storeDB:t})})})}),Object(g.jsx)(b.a,{onStart:$,onActive:F,onEnd:q,children:Object(g.jsx)(m.a.View,{children:Object(g.jsx)(O.a,{})})}),Object(g.jsx)(v.a,{children:Object(g.jsx)(j.a,{children:Object(g.jsx)(c.Suspense,{fallback:Object(g.jsx)(a.a,{children:"Loading cart..."}),children:Object(g.jsx)(p.a,{ui:h,orders:W})})})})]})})}}).call(this,n(37))},863:function(e,t,n){"use strict";var r=n(1),c=n(13),a=n(0),o=n(913),i=n(343),s=n(73),l=n(864),u=n(85),d=n(42),j=n(2);t.a=function(e){var t=e.ui,n=Object(o.a)().t,b=t.id.split("_")[1],O=t.get("columns"),f=a.useState(!1),m=Object(c.a)(f,2),h=m[0],x=m[1];return Object(j.jsxs)(i.a,{open:h,activator:Object(j.jsx)(s.a,{name:"cog",onPress:function(){return x(!0)},tooltip:"Table Settings"}),onRequestClose:function(){return x(!1)},children:[Object(j.jsx)(d.a,{children:"Columns"}),O.map((function(e,c){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(l.a,{label:n("".concat(b,".column.label.").concat(e.key)),checked:!e.hide,onChange:function(n){O[c]=Object(r.a)(Object(r.a)({},e),{},{hide:!n}),t.atomicSet("columns",O)}},e.key),e.display?e.display.map((function(c,a){return Object(j.jsx)(l.a,{label:n("".concat(b,".column.label.").concat(c.key)),checked:!c.hide,onChange:function(n){e.display[a]=Object(r.a)(Object(r.a)({},c),{},{hide:!n}),t.atomicSet("columns",O)}},c.key)})):null]})})),Object(j.jsx)(u.a,{title:"Restore Default Settings",onPress:t.reset})]})}},864:function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var r,c,a,o,i,s=n(13),l=n(0),u=n(346),d=n(42),j=n(22),b=n(19),O=n(73),f=n(178),m=Object(b.c)(f.a)(r||(r=Object(j.a)(["\n\tdisplay: flex;\n\tflex-direction: row;\n\t","\n"])),(function(e){return e.disabled&&Object(b.b)(c||(c=Object(j.a)(["\n\t\t\topacity: 0.5;\n\t\t"])))})),h=b.c.View(a||(a=Object(j.a)(["\n\tflex: 0 1 auto;\n\talign-items: center;\n\tjustify-content: center;\n\tborder-style: solid;\n\tbackground-color: ",";\n\twidth: ",";\n\theight: ",";\n\tborder-width: ",";\n\tborder-color: ",";\n\tborder-radius: ",";\n"])),(function(e){var t=e.theme;return e.checked?t.CHECKBOX_BACKGROUND_COLOR:"transparent"}),(function(e){return e.theme.CHECKBOX_WIDTH}),(function(e){return e.theme.CHECKBOX_HEIGHT}),(function(e){return e.theme.CHECKBOX_BORDER_WIDTH}),(function(e){return e.theme.CHECKBOX_BORDER_COLOR}),(function(e){return e.theme.CHECKBOX_BORDER_RADIUS})),x=Object(b.c)(O.a)(o||(o=Object(j.a)(["\n\tcolor: #fff;\n"]))),p=b.c.View(i||(i=Object(j.a)(["\n\tflex: 1;\n\tdisplay: flex;\n\tflex-direction: column;\n\tpadding: 0 5px;\n"]))),y=n(2),v=function(e){var t=e.label,n=(e.checked,e.info);return Object(y.jsxs)(p,{children:[Object(y.jsx)(d.a,{children:t}),n&&Object(y.jsx)(d.a,{children:n})]})};function g(e){var t=e.checked,n=(e.hasError,e.disabled);e.focused,e.hovered,e.pressed;return Object(y.jsx)(h,{checked:t,children:t&&Object(y.jsx)(x,{name:"check",size:"small",disabled:n,color:"#FFF"})})}var w=function(e){var t=e.label,n=e.disabled,r=e.helpText,c=e.checked,a=void 0!==c&&c,o=e.onChange,i=Object(u.a)(a,o),d=Object(s.a)(i,2),j=d[0],b=d[1],O=l.useCallback((function(){return null===b||void 0===b?void 0:b(!j)}),[j,b]);return Object(y.jsxs)(m,{disabled:n,onPress:O,children:[Object(y.jsx)(g,{checked:j,disabled:n}),Object(y.jsx)(v,{label:t,checked:j,info:r})]})}},865:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(13),c=n(0),a=n(914),o=n(455),i=n(851),s=n(857),l=n(906),u=n(912),d=n(102),j=n(100),b=function(e,t){var n=Object(j.b)(),b=n.storeDB,O=null===b||void 0===b?void 0:b.collections[e],f=c.useState(t),m=Object(r.a)(f,2),h=m[0],x=m[1],p=Object(d.p)();if(!O)throw Error("Collection not found");var y=Object(a.a)((function(e){return e.pipe(Object(i.a)((function(e){var t=Object(r.a)(e,1)[0];return O.query(t).$})),Object(s.a)(1),Object(l.a)((function(e){return console.error(e),e})))}),[h]);return Object(o.a)(y.pipe(Object(u.a)()),(function(e){0===e.length&&O.audit().catch((function(e){e&&e.response&&401===e.response.status&&p.navigate("Modal",{login:!0}),console.warn(e)}))})),c.useEffect((function(){O.restApiQuery(h).then((function(e){e.error$.subscribe((function(e){401===e.code&&p.navigate("Modal",{login:!0})}))}))}),[O,h]),{data$:y,query:h,setQuery:x}}},866:function(e,t,n){"use strict";n.d(t,"a",(function(){return P}));var r,c,a,o,i=n(13),s=n(0),l=n(22),u=n(19),d=u.c.TextInput(r||(r=Object(l.a)(["\n\tmax-height: 300px;\n"]))),j=u.c.View(c||(c=Object(l.a)(["\n\tposition: relative;\n\twidth: 100%;\n"]))),b=u.c.View(a||(a=Object(l.a)(["\n\tposition: absolute;\n\ttop: 0;\n\tright: 0;\n"]))),O=n(2),f=function(e){var t=e.data,n=JSON.stringify(t,null,"  ");return Object(O.jsx)(d,{multiline:!0,numberOfLines:n.split("\n").length,editable:!1,value:n})},m=n(42),h=u.c.View(o||(o=Object(l.a)(["\n\tpadding-left: 20px;\n"]))),x=function(e){var t=e.name,n=e.value;e.keyPath,e.deep;return Object(O.jsxs)(h,{style:{flexDirection:"row"},children:[Object(O.jsxs)(m.a,{type:"info",children:[t," : "]}),Object(O.jsx)(m.a,{children:String(n)})]})},p=n(25),y=n(21),v=n(869),g=n(178),w=function(e){var t=e.data,n=e.name,r=e.isCollapsed,c=e.onExpand,a=e.keyPath,o=void 0===a?[]:a,l=e.deep,u=void 0===l?0:l,d=-1===u?[]:[].concat(Object(p.a)(o),[n]),j=u+1,b=s.useState(r(d,u,t)),f=Object(i.a)(b,2),x=f[0],w=f[1];return Object(O.jsxs)(h,{children:[Object(O.jsxs)(y.a,{style:{flexDirection:"row"},children:[Object(O.jsxs)(g.a,{onPress:function(){x&&c(d,u,t),w(!x)},style:{flexDirection:"row",alignItems:"center"},children:[Object(O.jsx)(v.a,{direction:x?"right":"down"}),Object(O.jsxs)(m.a,{type:"info",children:[n," :"]})]}),x?function(){var e=Object.getOwnPropertyNames(t).length,n=0===e||e>1?"keys":"key";return Object(O.jsxs)(m.a,{type:"secondary",children:[" {...}"," ",e," ",n]})}():Object(O.jsx)(m.a,{children:" {"})]}),!x&&function(){var e=Object.getOwnPropertyNames(t).map((function(e){return Object(O.jsx)(C,{name:e,data:t[e],keyPath:d,deep:j,isCollapsed:r,onExpand:c},e)}));return Object(O.jsx)(y.a,{children:e})}(),!x&&Object(O.jsx)(m.a,{children:"}"})]})},k=function(e){var t=e.data,n=e.name,r=e.isCollapsed,c=e.onExpand,a=e.keyPath,o=void 0===a?[]:a,l=e.deep,u=void 0===l?0:l,d=-1===u?[]:[].concat(Object(p.a)(o),[n]),j=u+1,b=s.useState(r(d,u,t)),f=Object(i.a)(b,2),x=f[0],w=f[1];return Object(O.jsxs)(h,{children:[Object(O.jsxs)(y.a,{style:{flexDirection:"row"},children:[Object(O.jsxs)(g.a,{onPress:function(){x&&c(d,u,t),w(!x)},style:{flexDirection:"row",alignItems:"center"},children:[Object(O.jsx)(v.a,{direction:x?"right":"down"}),Object(O.jsxs)(m.a,{type:"info",children:[n," :"]})]}),x?function(){var e=t.length,n=0===e||e>1?"items":"item";return Object(O.jsxs)(m.a,{type:"secondary",children:[" [...]"," ",e," ",n]})}():Object(O.jsx)(m.a,{children:" ["})]}),!x&&function(){Object.getOwnPropertyNames(t);var e=t.map((function(e,t){return Object(O.jsx)(C,{name:"".concat(t),data:e,keyPath:d,deep:j,isCollapsed:r,onExpand:c},t)}));return Object(O.jsx)(y.a,{children:e})}(),!x&&Object(O.jsx)(m.a,{children:"]"})]})},S=n(889),C=function(e){var t=e.data,n=e.name,r=e.isCollapsed,c=void 0===r?function(e){return e.length>0}:r,a=e.onExpand,o=void 0===a?function(){}:a,i=e.keyPath,s=void 0===i?[]:i,l=e.deep,u=void 0===l?0:l;switch(Object(S.a)(t)){case"String":return Object(O.jsx)(x,{name:n,value:'"'.concat(t,'"'),originalValue:t,keyPath:s,deep:u,isCollapsed:c,onExpand:o});case"Number":return Object(O.jsx)(x,{name:n,value:t,originalValue:t,keyPath:s,deep:u,isCollapsed:c,onExpand:o});case"Boolean":return Object(O.jsx)(x,{name:n,value:!!t,originalValue:t,keyPath:s,deep:u,isCollapsed:c,onExpand:o});case"Date":return Object(O.jsx)(x,{name:n,value:t.toISOString(),originalValue:t,keyPath:s,deep:u,isCollapsed:c,onExpand:o});case"Null":return Object(O.jsx)(x,{name:n,value:"null",originalValue:"null",keyPath:s,deep:u,isCollapsed:c,onExpand:o});case"Undefined":return Object(O.jsx)(x,{name:n,value:"undefined",originalValue:"undefined",keyPath:s,deep:u,isCollapsed:c,onExpand:o});case"Object":return Object(O.jsx)(w,{name:n,data:t,keyPath:s,deep:u,isCollapsed:c,onExpand:o});case"Array":return Object(O.jsx)(k,{name:n,data:t,keyPath:s,deep:u,isCollapsed:c,onExpand:o});default:return null}},_=n(85),D=n(73),P=function(e){var t=e.data,n=e.rootName,r=void 0===n?"root":n,c=e.isCollapsed,a=e.onExpand,o=(e.fallback,s.useState(!1)),l=Object(i.a)(o,2),u=l[0],d=l[1];return Object(O.jsxs)(j,{children:[u?Object(O.jsx)(f,{data:t}):Object(O.jsx)(C,{data:t,name:r,deep:-1,isCollapsed:c,onExpand:a}),Object(O.jsx)(b,{children:Object(O.jsx)(_.a,{title:"raw",type:"secondary",background:"outline",size:"small",onPress:function(){return d(!u)},accessoryLeft:u?Object(O.jsx)(D.a,{size:"small",name:"visibility-off"}):Object(O.jsx)(D.a,{size:"small",name:"visibility"})})})]})}},867:function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var r,c,a,o,i=n(0),s=n(22),l=n(19),u=n(142),d=n(178),j=l.c.View(r||(r=Object(s.a)([""]))),b=l.c.View(c||(c=Object(s.a)(["\n\tflex-direction: row;\n"]))),O=Object(l.c)(d.a)(a||(a=Object(s.a)(["\n\talign-items: center;\n\tjustify-content: center;\n\tpadding: 5px;\n"]))),f=Object(l.c)(u.a)(o||(o=Object(s.a)(["\n\tcolor: ",";\n"])),(function(e){var t=e.selected,n=e.theme;return t?n.TEXT_COLOR:n.TEXT_COLOR_SECONDARY})),m=n(2),h=function(e){var t=e.label,n=e.selected,r=e.onSelect;return Object(m.jsx)(O,{selected:n,onPress:r,children:Object(m.jsx)(f,{selected:n,children:t})})},x=function(e){var t=e.tabs,n=e.selected,r=e.onSelect,c=e.children,a=Object(i.useMemo)((function(){return t.map((function(e,t){return Object(m.jsx)(h,{label:e,selected:n===t,onSelect:function(){return r(t)}},e)}))}),[t,n,r]);return Object(m.jsxs)(j,{children:[Object(m.jsx)(b,{children:a}),c]})}},868:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r,c,a,o=n(1),i=n(24),s=n(0),l=n(110),u=n(73),d=n(345),j=n(22),b=n(19),O=b.c.View(r||(r=Object(j.a)(["\n\tflex-direction: row;\n\twidth: 100%;\n\talign-items: center;\n"]))),f=b.c.View(c||(c=Object(j.a)(["\n\tflex: 1;\n"]))),m=b.c.View(a||(a=Object(j.a)(["\n\tflex-direction: row;\n"]))),h=n(2),x=["actions","onSearch","filters"],p=function(e){var t=e.actions,n=e.onSearch,r=e.filters,c=Object(i.a)(e,x),a=s.useMemo((function(){if(r)return r.map((function(e){var t=e.label,n=e.onRemove;return Object(h.jsx)(d.a,{removable:!0,onRemove:n,children:t})}))}),[r]);return Object(h.jsxs)(O,{children:[Object(h.jsx)(f,{children:Object(h.jsx)(l.a,Object(o.a)({hideLabel:!0,clearable:!0,onChange:n,leftAccessory:a},c))}),t&&Object(h.jsx)(m,{children:t.map((function(e){return s.isValidElement(e)?e:Object(h.jsx)(u.a,{name:e.name,onPress:e.action})}))})]})}},869:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));n(0);var r,c,a,o,i,s=n(22),l=n(19),u=l.c.View(r||(r=Object(s.a)(["\n\twidth: 8px;\n\theight: 8px;\n"]))),d=l.c.View(c||(c=Object(s.a)(["\n\tborder-top-width: 4px;\n\tborder-bottom-width: 4px;\n\tborder-right-width: 4px;\n\tborder-right-color: ",";\n\tborder-top-color: transparent;\n\tborder-bottom-color: transparent;\n"])),(function(e){return e.theme.COLOR_PRIMARY})),j=l.c.View(a||(a=Object(s.a)(["\n\tborder-top-width: 4px;\n\tborder-bottom-width: 4px;\n\tborder-left-width: 4px;\n\tborder-left-color: ",";\n\tborder-top-color: transparent;\n\tborder-bottom-color: transparent;\n"])),(function(e){return e.theme.COLOR_PRIMARY})),b=l.c.View(o||(o=Object(s.a)(["\n\tborder-left-width: 4px;\n\tborder-right-width: 4px;\n\tborder-bottom-width: 4px;\n\tborder-bottom-color: ",";\n\tborder-left-color: transparent;\n\tborder-right-color: transparent;\n"])),(function(e){return e.theme.COLOR_PRIMARY})),O=l.c.View(i||(i=Object(s.a)(["\n\tborder-left-width: 4px;\n\tborder-right-width: 4px;\n\tborder-top-width: 4px;\n\tborder-top-color: ",";\n\tborder-left-color: transparent;\n\tborder-right-color: transparent;\n"])),(function(e){return e.theme.COLOR_PRIMARY})),f=n(2),m=function(e){var t=e.direction,n=void 0===t?"down":t;e.size;return Object(f.jsx)(u,{children:function(){switch(n){case"left":return Object(f.jsx)(d,{});case"right":return Object(f.jsx)(j,{});case"up":return Object(f.jsx)(b,{});default:return Object(f.jsx)(O,{})}}()})}},870:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(484),c=n(905),a=n(100),o=n(878),i={posProducts:void 0,cart:void 0,products:void 0,orders:void 0,customers:void 0},s=function(e){var t=Object(a.b)().storeDB;if(i[e])return i[e];var n=t.getLocal$("ui_".concat(e)).pipe(Object(r.a)((function(n){return!n&&o[e]?(t.insertLocal("ui_".concat(e),o[e]),!1):(n.reset=function(){t.upsertLocal("ui_".concat(e),o[e])},n)})));return i[e]=new c.a(n),i[e]}},871:function(e,t,n){"use strict";var r=n(1),c=n(0),a=n(858),o=n(913),i=n(262),s=n.n(i),l=n(263),u=n.n(l),d=n(861),j=n(243),b=n(42),O=n(2),f=function(e){var t=e.item,n=e.column;return Object(O.jsx)(b.a,{children:String(t[n.key])})},m=c.memo((function(e){var t=e.item,n=e.columns,c=e.cells,o=e.setQuery,i=Object(a.a)(t.$);return Object(j.a)("Common Table Row",{forceRender:i,item:t,columns:n,cells:c}),Object(O.jsx)(d.a.Body.Row,{rowData:t,columns:n,children:function(e){var n=e.column,a=e.getCellProps,i=c[n.key]?c[n.key]:f;return Object(O.jsx)(d.a.Body.Row.Cell,Object(r.a)(Object(r.a)({},a()),{},{children:Object(O.jsx)(i,{item:t,column:n,setQuery:o})}))}})}));t.a=c.memo((function(e){var t=e.collection,n=e.columns,i=e.data$,l=e.setQuery,b=e.sortBy,f=e.sortDirection,h=e.cells,x=Object(o.a)().t,p=Object(a.a)(i,[]),y=c.useCallback((function(e){var t=e.sortBy,n=e.sortDirection;l((function(e){return Object(r.a)(Object(r.a)({},e),{},{sortBy:t,sortDirection:n})}))}),[l]),v=c.useMemo((function(){return s()(t.schema.indexes).includes(b)?p:u()(p,[b],[f])}),[b,f,t.schema.indexes,p]),g=c.useCallback((function(e,t){return{length:100,offset:100*t,index:t}}),[]);return Object(j.a)("Common Table",{collection:t,columns:n,data:p,maybeSortedData:v,setQuery:l,_sortBy:b,_sortDirection:f,cells:h,t:x}),Object(O.jsxs)(d.a,{columns:n,data:v,sort:y,sortBy:b,sortDirection:f,getItemLayout:g,children:[Object(O.jsx)(d.a.Header,{children:Object(O.jsx)(d.a.Header.Row,{children:function(e){var n=e.getHeaderCellProps,c=n().column;return Object(O.jsx)(d.a.Header.Row.Cell,Object(r.a)(Object(r.a)({},n()),{},{children:x("".concat(t.name,".column.label.").concat(c.key))}))}})}),Object(O.jsx)(d.a.Body,{children:function(e){var t=e.item;return Object(O.jsx)(m,{item:t,columns:n,cells:h,setQuery:l})}})]})}))},872:function(e,t,n){"use strict";var r=n(1),c=n(0),a=n(345),o=n(344),i=n.n(o),s=n(2);t.a=function(e){var t=e.item,n=e.setQuery,o=t.categories,l=c.useCallback((function(e){n((function(t){return i()(Object(r.a)({},t),"filters.category",e)}))}),[n]),u=c.useMemo((function(){return Array.isArray(o)?o.map((function(e){return{key:e.id,label:e.name,action:function(){return l(e)}}})):[]}),[o,l]);return o?Object(s.jsx)(a.a.Group,{tags:u}):Object(s.jsx)(a.a.Group.Skeleton,{numberOfTags:2})}},873:function(e,t,n){"use strict";var r=n(1),c=n(0),a=n(345),o=n(344),i=n.n(o),s=n(2);t.a=function(e){var t=e.item,n=e.setQuery,o=t.tags,l=c.useCallback((function(e){n((function(t){return i()(Object(r.a)({},t),"filters.tag",e)}))}),[n]),u=c.useMemo((function(){return Array.isArray(o)?o.map((function(e){return{key:e.id,label:e.name,action:function(){return l(e)}}})):[]}),[o,l]);return o?Object(s.jsx)(a.a.Group,{tags:u}):Object(s.jsx)(a.a.Group.Skeleton,{numberOfTags:2})}},874:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return o}));n(0);var r=n(50),c=n(544),a=n(2),o=(function(){var t=function(e,t,n){return Math.min(Math.max(t,e),n)};t._closure={},t.asString="function _f(value,lowerBound,upperBound){return Math.min(Math.max(lowerBound,value),upperBound);}",t.__workletHash=5192855762164,t.__location="/home/runner/work/client/client/packages/common/src/components/draggable/draggable.tsx (11:14)",e.__reanimatedWorkletInit(t)}(),function(t){var n=t.children,o=t.onStart,i=t.onActive,s=t.onEnd,l=(t.minX,t.minY,t.maxX,t.maxY,Object(r.d)({onStart:function(){const t=function(e,t){o&&o(e,t)};return t._closure={_onStart:o},t.asString="function onStart(event,ctx){const{_onStart}=jsThis._closure;{if(_onStart){_onStart(event,ctx);}}}",t.__workletHash=0xdec80fc8533,t.__location="/home/runner/work/client/client/packages/common/src/components/draggable/draggable.tsx",e.__reanimatedWorkletInit(t),t}(),onActive:function(){const t=function(e,t){i&&i(e,t)};return t._closure={_onActive:i},t.asString="function onActive(event,ctx){const{_onActive}=jsThis._closure;{if(_onActive){_onActive(event,ctx);}}}",t.__workletHash=0xc1905c1c1d3,t.__location="/home/runner/work/client/client/packages/common/src/components/draggable/draggable.tsx",e.__reanimatedWorkletInit(t),t}(),onEnd:function(){const t=function(e,t){s&&s(e,t)};return t._closure={_onEnd:s},t.asString="function onEnd(event,ctx){const{_onEnd}=jsThis._closure;{if(_onEnd){_onEnd(event,ctx);}}}",t.__workletHash=5282268739699,t.__location="/home/runner/work/client/client/packages/common/src/components/draggable/draggable.tsx",e.__reanimatedWorkletInit(t),t}()}));return Object(a.jsx)(c.b,{onGestureEvent:l,children:n})})}).call(this,n(37))},878:function(e){e.exports=JSON.parse('{"posProducts":{"sortBy":"name","sortDirection":"asc","width":0.6,"columns":[{"key":"image","disableSort":true,"order":1,"width":"15%","flexShrink":0,"hideLabel":true},{"key":"name","order":2,"display":[{"key":"sku","hide":true,"order":1},{"key":"categories","order":2},{"key":"tags","hide":true,"order":3}]},{"key":"sku","hide":true,"order":3,"width":"20%","flexShrink":0},{"key":"price","order":4,"width":"90px","flexShrink":0,"align":"right"},{"key":"actions","disableSort":true,"order":5,"width":"38px","flexShrink":0,"hideLabel":true}]},"cart":{"sortBy":"id","sortDirection":"asc","columns":[{"key":"quantity","order":0},{"key":"name","order":1},{"key":"sku","hide":true,"order":2},{"key":"price","order":3},{"key":"subtotal","hide":true,"order":4},{"key":"subtotalTax","hide":true,"order":5},{"key":"totalTax","hide":true,"order":6},{"key":"total","order":7},{"key":"actions","order":8}]},"products":{"sortBy":"name","sortDirection":"asc","columns":[{"key":"image","width":"15%","disableSort":true,"order":1,"flexShrink":0,"hideLabel":true},{"key":"id","order":2,"width":"50px","flexShrink":0,"hide":true},{"key":"name","width":"30%","order":3},{"key":"sku","order":4,"width":"80px","flexShrink":0,"hide":true},{"key":"categories","width":"20%","order":5,"disableSort":true},{"key":"tags","width":"20%","order":6,"hide":true,"disableSort":true},{"key":"regularPrice","width":"100px","order":7},{"key":"salePrice","width":"100px","order":8},{"key":"dateCreated","width":"100px","order":9,"hide":true},{"key":"dateModified","width":"100px","order":10,"hide":true},{"key":"actions","disableSort":true,"order":11,"width":"38px","flexShrink":0,"hideLabel":true}]},"orders":{"sortBy":"number","sortDirection":"desc","columns":[{"key":"status","width":"38px","order":1,"hideLabel":true},{"key":"number","width":"38px","order":2,"hideLabel":true},{"key":"customer","width":"20%","order":3},{"key":"billing","width":"20%","order":4},{"key":"shipping","width":"20%","order":5},{"key":"customerNote","width":"38px","order":6},{"key":"dateCreated","width":"100px","order":7},{"key":"dateModified","hide":true,"width":"100px","order":8},{"key":"dateCompleted","hide":true,"width":"100px","order":9},{"key":"total","width":"90px","order":10},{"key":"actions","disableSort":true,"width":"38px","order":11,"hideLabel":true}]},"customers":{"sortBy":"lastName","sortDirection":"asc","columns":[{"key":"avatarUrl","disableSort":true,"width":"15%","order":1,"hideLabel":true},{"key":"firstName","width":"20%","order":2},{"key":"lastName","width":"20%","order":3},{"key":"email","width":"20%","order":4},{"key":"role","width":"20%","hide":true,"order":5},{"key":"username","width":"20%","hide":true,"order":6},{"key":"billing","width":"20%","order":7},{"key":"shipping","width":"20%","order":8},{"key":"actions","disableSort":true,"width":"38px","order":9,"hideLabel":true}]}}')},879:function(e,t,n){"use strict";var r=n(874);n.d(t,"a",(function(){return r.a}))},880:function(e,t,n){"use strict";var r=n(13),c=n(0);t.a=function(){var e=c.useState(null),t=Object(r.a)(e,2),n=t[0],a=t[1];return[n,c.useCallback((function(e){var t=e.nativeEvent;a(t.layout)}),[a])]}},889:function(module,__webpack_exports__,__webpack_require__){"use strict";function getObjectType(e){return null===e||"object"!==typeof e||Array.isArray(e)||"function"!==typeof e[Symbol.iterator]?Object.prototype.toString.call(e).slice(8,-1):"Iterable"}function parse(string){var result=string;if(0===result.indexOf("function"))return eval("(".concat(result,")"));try{result=JSON.parse(string)}catch(e){}return result}__webpack_require__.d(__webpack_exports__,"a",(function(){return getObjectType}))},890:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return u}));var r,c,a,o=n(22),i=n(19),s=i.c.View(r||(r=Object(o.a)(["\n\theight: 100%;\n\tflex-direction: row;\n\tpadding: ",";\n"])),(function(e){var t=e.theme;return"".concat(t.PAGE_MAIN_PADDING_Y," ").concat(t.PAGE_MAIN_PADDING_X)})),l=i.c.View(c||(c=Object(o.a)(["\n\theight: 100%;\n\tflex-grow: 0;\n\tflex-shrink: 0;\n\tflex-basis: 60%;\n"]))),u=i.c.View(a||(a=Object(o.a)(["\n\theight: 100%;\n\tflex: 1;\n"])))},896:function(e,t,n){"use strict";n.d(t,"a",(function(){return Pe}));var r,c,a,o,i,s,l,u,d,j,b=n(1),O=n(13),f=n(0),m=n(21),h=n(858),x=n(914),p=n(484),y=n(851),v=n(88),g=n(179),w=n(42),k=n(345),S=n(243),C=n(913),_=n(861),D=n(4),P=n.n(D),B=n(12),R=n(110),N=n(343),A=n(73),E=n(22),I=n(19),L=n(178),T=n(142),V=I.c.View(r||(r=Object(E.a)([""]))),G=I.c.View(c||(c=Object(E.a)(["\n\tflex-direction: row;\n"]))),M=Object(I.c)(T.a)(a||(a=Object(E.a)(["\n\tflex: 1;\n"]))),H=I.c.View(o||(o=Object(E.a)(["\n\tjustify-content: space-between;\n\tflex-wrap: wrap;\n\tflex-direction: row;\n"]))),$=Object(I.c)(L.a)(i||(i=Object(E.a)(["\n\tflex-grow: 1;\n\tflex-shrink: 0;\n\tflex-basis: 30%;\n\talign-items: center;\n\tmargin: 1px;\n"]))),F=Object(I.c)(T.a)(s||(s=Object(E.a)([""]))),q=n(2),Q=["7","8","9","4","5","6","1","2","3","-","0","."],U=function(e){e.display;var t=e.placeholder,n=void 0===t?"0":t,r=f.useState(n),c=Object(O.a)(r,2),a=c[0],o=c[1];return Object(q.jsxs)(V,{children:[Object(q.jsxs)(G,{children:[Object(q.jsx)(M,{children:a}),Object(q.jsx)(A.a,{name:"backspace",onPress:function(){o(a)}})]}),Object(q.jsx)(H,{children:Q.map((function(e){return Object(q.jsx)($,{onPress:function(){return function(e){o(a+e)}(e)},children:Object(q.jsx)(F,{children:e})},"button-".concat(e))}))})]})},z=function(e){var t=e.lineItem,n=f.useState(!1),r=Object(O.a)(n,2),c=r[0],a=r[1],o=Object(h.a)(t.quantity$,t.quantity),i=function(){var e=Object(B.a)(P.a.mark((function e(n){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.atomicPatch({quantity:Number(n)});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(q.jsx)(N.a,{open:c,onRequestClose:function(){return a(!1)},activator:Object(q.jsx)(R.a,{label:"Quantity",hideLabel:!0,autosize:!0,value:String(o),onChange:i,onFocus:function(){return a(!0)}}),children:Object(q.jsx)(U,{placeholder:String(o)})})},K=function(e){var t=e.lineItem,n=Object(h.a)(t.price$,t.price),r=function(){var e=Object(B.a)(P.a.mark((function e(n){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.atomicPatch({price:Number(n)});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(q.jsx)(R.a,{label:"Price",hideLabel:!0,autosize:!0,value:String(n),onChange:r})},W=function(e){var t=e.item,n=e.type,r=void 0===n?"total":n,c=Object(h.a)(t["".concat(r,"$")],t[r]);return Object(S.a)("CartLineItemTotal",{item:t,total:c}),Object(q.jsx)(w.a,{children:c})},X=function(e){var t=e.item,n=e.type,r=void 0===n?"totalTax":n,c=Object(h.a)(t["".concat(r,"$")],t[r]);return Object(q.jsx)(w.a,{children:c})},J=n(439),Y=n(862),Z=n(89),ee=n(864),te=I.c.View(l||(l=Object(E.a)([""]))),ne=I.c.View(u||(u=Object(E.a)(["\n\tflex-direction: row;\n"]))),re=I.c.View(d||(d=Object(E.a)(["\n\tflex: 1;\n\tpadding: 5px;\n"]))),ce=function(e){var t=e.data,n=function(){console.log("hi")};return Object(q.jsx)(te,{children:null===t||void 0===t?void 0:t.map((function(e){return Object(q.jsxs)(ne,{children:[Object(q.jsx)(re,{children:Object(q.jsx)(R.a,{label:"Key",value:e.key})}),Object(q.jsx)(re,{children:Object(q.jsx)(R.a,{label:"Value",value:e.value})}),Object(q.jsx)(A.a,{name:"add",onPress:n})]},e.key)}))})},ae=function(e){var t=e.item,n=e.onClose;Object(h.a)(t.$);var r=function(){var e=Object(B.a)(P.a.mark((function e(n){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.atomicPatch({taxClass:n});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c=function(e){return t.collection.schema.topLevelFields.includes(e)};return Object(q.jsx)(Z.a,{title:t.name||t.methodTitle,open:!0,onClose:n,primaryAction:{label:"Save",action:n},children:Object(q.jsxs)(Z.a.Section,{children:[c("name")&&Object(q.jsx)(R.a,{label:"Name",value:t.name}),c("taxStatus")&&Object(q.jsx)(ee.a,{label:"Taxable",checked:"taxable"===t.taxStatus,onChange:function(e){return t.atomicPatch({taxStatus:e?"taxable":"none"})}}),c("taxClass")&&Object(q.jsx)(R.a,{label:"Tax Class",value:t.taxClass,onChange:r}),Object(q.jsx)(ce,{data:t.metaData})]})})},oe=function(e){var t=e.item,n=f.useState(!1),r=Object(O.a)(n,2),c=r[0],a=r[1],o=f.useContext(Y.a).currentOrder,i=function(e){var t=f.useContext(J.a);return f.useCallback((function(){return t.show(e)}),[t,e])}({message:"Item removed",dismissable:!0,action:{label:"Undo",action:function(){console.log("Undo remove",t)}}});return Object(q.jsxs)(m.a,{style:{flexDirection:"row"},children:[Object(q.jsx)(A.a,{name:"more-vert",size:"large",onPress:function(){return a(!0)}}),Object(q.jsx)(A.a,{name:"remove",size:"large",onPress:function(){null===o||void 0===o||o.removeCartLine(t),i()}}),c&&Object(q.jsx)(ae,{item:t,onClose:function(){return a(!1)}})]})},ie=function(e){var t=e.item,n=e.columns;return Object(S.a)("CartLineItem",{item:t,columns:n}),Object(q.jsx)(_.a.Body.Row,{rowData:t,columns:n,children:function(e){var n=e.getCellProps,r=n(),c=(r.cellData,r.column);return Object(q.jsx)(_.a.Body.Row.Cell,Object(b.a)(Object(b.a)({},n()),{},{children:function(){switch(c.key){case"quantity":return Object(q.jsx)(z,{lineItem:t});case"price":return Object(q.jsx)(K,{lineItem:t});case"subtotalTax":return Object(q.jsx)(X,{item:t,type:"subtotalTax"});case"subtotal":return Object(q.jsx)(W,{item:t,type:"subtotal"});case"totalTax":return Object(q.jsx)(X,{item:t});case"total":return Object(q.jsx)(W,{item:t});case"actions":return Object(q.jsx)(oe,{item:t});default:return null}}()}))}})},se=function(e){var t=e.item,n=Object(h.a)(t.total$,t.total),r=function(){var e=Object(B.a)(P.a.mark((function e(n){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.atomicPatch({total:n});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(q.jsx)(R.a,{label:"Price",hideLabel:!0,autosize:!0,value:n,onChange:r})},le=function(e){var t=e.fee,n=e.columns;return Object(q.jsx)(_.a.Body.Row,{rowData:t,columns:n,children:function(e){var n=e.getCellProps,r=n(),c=(r.cellData,r.column);return Object(q.jsx)(_.a.Body.Row.Cell,Object(b.a)(Object(b.a)({},n()),{},{children:function(){switch(c.key){case"quantity":return Object(q.jsx)(q.Fragment,{});case"price":return Object(q.jsx)(se,{item:t});case"totalTax":return Object(q.jsx)(X,{item:t});case"actions":return Object(q.jsx)(oe,{item:t});default:return null}}()}))}})},ue=function(e){var t=e.shipping,n=e.columns;return Object(q.jsx)(_.a.Body.Row,{rowData:t,columns:n,children:function(e){var n=e.getCellProps,r=n(),c=(r.cellData,r.column);return Object(q.jsx)(_.a.Body.Row.Cell,Object(b.a)(Object(b.a)({},n()),{},{children:function(){switch(c.key){case"quantity":return Object(q.jsx)(q.Fragment,{});case"price":return Object(q.jsx)(se,{item:t});case"name":return Object(q.jsx)(w.a,{children:t.methodTitle});case"totalTax":return Object(q.jsx)(X,{item:t});case"actions":return Object(q.jsx)(oe,{item:t});default:return null}}()}))}})},de=n(85),je=function(e){var t=e.columns,n=e.ui,r=Object(C.a)(),c=Object(O.a)(r,1)[0],a=f.useState(!1),o=Object(O.a)(a,2),i=o[0],s=o[1];return Object(q.jsxs)(N.a,{hideBackdrop:!0,open:i,onRequestClose:function(){return s(!1)},activator:Object(q.jsx)(A.a,{name:"cog",onPress:function(){return s(!0)}}),children:[Object(q.jsx)(w.a,{children:"Columns"}),t.map((function(e,r){return Object(q.jsx)(ee.a,{label:c("cart.column.label.".concat(e.key)),checked:!e.hide,onChange:function(c){t[r]=Object(b.a)(Object(b.a)({},e),{},{hide:!c}),n.atomicSet("columns",t)}},e.key)})),Object(q.jsx)(de.a,{title:"Restore Default Settings",onPress:function(){n.reset()}})]})},be=function(e){var t=e.columns,n=e.items,r=e.query,c=e.onSort,a=e.ui,o=Object(C.a)().t;return Object(S.a)("CartTable",{columns:t,items:n,query:r,onSort:c,ui:a}),Object(q.jsxs)(_.a,{columns:t,data:n,sort:c,sortBy:r.sortBy,sortDirection:r.sortDirection,children:[Object(q.jsx)(_.a.Header,{children:Object(q.jsx)(_.a.Header.Row,{columns:t,children:function(e){var n=e.getHeaderCellProps,r=n().column;return Object(q.jsx)(_.a.Header.Row.Cell,Object(b.a)(Object(b.a)({},n()),{},{children:"actions"===r.key?Object(q.jsx)(je,{columns:t,ui:a}):o("cart.column.label.".concat(r.key))}))}})}),Object(q.jsx)(_.a.Body,{children:function(e){var n=e.item;switch(n.collection.name){case"line_items":return Object(q.jsx)(ie,{item:n,columns:t});case"fee_lines":return Object(q.jsx)(le,{fee:n,columns:t});case"shipping_lines":return Object(q.jsx)(ue,{shipping:n,columns:t});default:return null}}})]})},Oe=n(263),fe=n.n(Oe),me=n(865),he=n(346),xe=I.c.ScrollView(j||(j=Object(E.a)(["\n\tmax-height: 200px;\n"]))),pe=function(e){var t=e.label,n=e.choices,r=e.selected,c=void 0===r?null:r,a=e.onChange,o=e.placeholder,i=e.searchValue,s=e.onSearch,l=e.hideLabel,u=f.useState(!1),d=Object(O.a)(u,2),j=d[0],b=d[1],m=f.useCallback((function(){return b(!0)}),[]),h=Object(he.b)(c,a),x=Object(O.a)(h,2),p=x[0],y=x[1],v=f.useMemo((function(){return n.map((function(e){return Object(q.jsx)(N.a.Item,{label:e.label,disabled:e.disabled,onSelect:function(){return y(e.value)}},e.key)}))}),[n,y]);return Object(q.jsx)(N.a,{open:j,activator:Object(q.jsx)(R.a,{label:t,hideLabel:l,onFocus:m,placeholder:o,onChange:s,value:i||p,clearable:!0,onClear:function(){return y(null)}}),onRequestClose:function(){b(!1)},hideBackdrop:!0,matchWidth:!0,children:Object(q.jsx)(xe,{children:v})})},ye=function(e){var t=e.selectedCustomer,n=e.onSelectCustomer,r=Object(C.a)().t,c=Object(me.a)("customers",{search:"",sortBy:"lastName",sortDirection:"asc"}),a=c.data$,o=c.query,i=c.setQuery,s=f.useCallback((function(e){i((function(t){return Object(b.a)(Object(b.a)({},t),{},{search:e})}))}),[i]),l=Object(h.a)(a,[]),u=f.useMemo((function(){return fe()(l,"lastName").map((function(e){return{label:"".concat(e.firstName," ").concat(e.lastName),value:e,key:e._id}}))}),[l]);return Object(S.a)("Customer Select",{selectedCustomer:t,onSelectCustomer:n,customers:l,onSearch:s,query:o,setQuery:i,data$:a}),Object(q.jsx)(pe,{label:"Search customers",hideLabel:!0,choices:u,placeholder:r("customers.search.placeholder"),selected:t?"".concat(t.firstName," ").concat(t.lastName):"",onSearch:s,searchValue:o.search,onChange:n})},ve=n(100),ge=n(867),we=n(866),ke=function(e){var t=e.customer,n=Object(ve.b)().storeDB,r=f.useState(!1),c=Object(O.a)(r,2),a=c[0],o=c[1],i=f.useState(null===t||void 0===t?void 0:t.firstName),s=Object(O.a)(i,2),l=s[0],u=s[1],d=f.useState(null===t||void 0===t?void 0:t.email),j=Object(O.a)(d,2),b=j[0],m=j[1],h=f.useState(0),x=Object(O.a)(h,2),p=x[0],y=x[1],v=f.useCallback((function(){return o(!0)}),[]),g=f.useCallback((function(){return o(!1)}),[]),w=t?"Edit Customer":"Add Customer",k=function(){var e=Object(B.a)(P.a.mark((function e(){var r,c,a;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t){e.next=8;break}return c=null===n||void 0===n?void 0:n.collections.customers,e.next=5,null===c||void 0===c?void 0:c.insert({firstName:l,email:b});case 5:e.sent,e.next=9;break;case 8:r.atomicPatch({firstName:l,email:b});case 9:r&&((a=r.syncRestApi({push:{}})).error$.subscribe((function(e){401===e.code&&console.log("need to login")})),a.run(!1));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=0===p?Object(q.jsxs)(Z.a.Section,{children:[Object(q.jsx)(R.a,{label:"First Name",value:l,onChange:u}),Object(q.jsx)(R.a,{label:"Email",value:b,onChange:m})]}):Object(q.jsx)(Z.a.Section,{children:t?Object(q.jsx)(we.a,{data:t.toJSON()}):null});return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(A.a,{name:"add",onPress:v,tooltip:"Add new customer"}),a&&Object(q.jsx)(Z.a,{title:w,open:!0,onClose:g,primaryAction:{label:"Save",action:k},children:Object(q.jsx)(ge.a,{tabs:["Form","JSON"],selected:p,onSelect:y,children:S})})]})},Se=n(863),Ce=function(e){var t=e.order,n=Object(h.a)(t.total$,t.total),r=Object(h.a)(t.totalTax$,t.totalTax);return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsxs)(m.a,{style:{flexDirection:"row"},children:[Object(q.jsx)(m.a,{style:{flex:1},children:Object(q.jsx)(w.a,{children:"Total Tax:"})}),Object(q.jsx)(m.a,{children:Object(q.jsx)(w.a,{children:r})})]}),Object(q.jsxs)(m.a,{style:{flexDirection:"row"},children:[Object(q.jsx)(m.a,{style:{flex:1},children:Object(q.jsx)(w.a,{children:"Order Total:"})}),Object(q.jsx)(m.a,{children:Object(q.jsx)(w.a,{children:n})})]})]})},_e=n(452),De=function(e){var t=e.order,n=f.useContext(Y.a).setCurrentOrder,r=f.useState(!1),c=Object(O.a)(r,2),a=c[0],o=c[1],i=Object(_e.b)();return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsxs)(de.a.Group,{children:[Object(q.jsx)(de.a,{title:"Add Fee",onPress:function(){t.addFeeLine({name:"Fee",total:"10"})}}),Object(q.jsx)(de.a,{title:"Add Shipping",onPress:function(){t.addShippingLine({methodTitle:"Shipping",methodId:"test",total:"5"})}}),Object(q.jsx)(de.a,{title:"Add Note",onPress:function(){t.atomicPatch({customerNote:"This is a note!"})}}),Object(q.jsx)(de.a,{title:"Options",onPress:function(){o(!0)}}),Object(q.jsx)(de.a,{title:"Save",onPress:Object(B.a)(P.a.mark((function e(){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=t.syncRestApi({push:{}})).error$.subscribe((function(e){401===e.code&&i()})),n.run(!1);case 3:case"end":return e.stop()}}),e)})))}),Object(q.jsx)(de.a,{title:"Void",type:"critical",onPress:Object(B.a)(P.a.mark((function e(){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.remove(),n(void 0);case 2:case"end":return e.stop()}}),e)})))})]}),a&&Object(q.jsx)(Z.a,{title:"Order Data",open:!0,onClose:function(){return o(!1)},primaryAction:{label:"Save",action:function(){return o(!1)}},children:Object(q.jsxs)(Z.a.Section,{children:[Object(q.jsx)(R.a,{label:"Order Number",value:t.number}),Object(q.jsx)(ee.a,{label:"Price Includes Tax",checked:t.pricesIncludeTax,onChange:function(e){return t.atomicPatch({pricesIncludeTax:e})}}),Object(q.jsx)(ce,{data:t.metaData}),Object(q.jsx)(R.a,{label:"Currency Symbol",value:t.currencySymbol})]})})]})},Pe=function(e){var t=e.ui,n=e.orders,r=void 0===n?[]:n;Object(S.a)("Cart",{ui:t,orders:r});var c=f.useContext(Y.a),a=c.currentOrder,o=c.setCurrentOrder,i=c.currentCustomer,s=c.setCurrentCustomer,l=Object(h.a)((function(){return t.get$("columns")}),t.get("columns")),u=Object(O.a)(l,1)[0],d=f.useState({sortBy:"id",sortDirection:"asc"}),j=Object(O.a)(d,2),C=j[0],_=j[1],D=f.useCallback((function(e){var t=e.sortBy,n=e.sortDirection;_(Object(b.a)(Object(b.a)({},C),{},{sortBy:t,sortDirection:n}))}),[C]),P=Object(x.a)((function(e){return e.pipe(Object(p.a)((function(e){var t=Object(O.a)(e,2),n=t[0];t[1];return Object(v.c)(n)})),Object(y.a)((function(e){var t=Object(O.a)(e,2),n=t[0];t[1];return n.cart$})))}),[a,C]),B=Object(h.a)(P,[]),R=f.useCallback((function(e){a&&a.addCustomer(e),s(e)}),[a,s]);return Object(q.jsxs)(g.a.Group,{children:[Object(q.jsxs)(g.a,{style:{flexDirection:"row",alignItems:"center"},children:[Object(q.jsx)(m.a,{style:{flex:1},children:i?Object(q.jsxs)(m.a,{style:{flexDirection:"row",alignItems:"center"},children:[Object(q.jsx)(w.a,{children:"Customer: "}),Object(q.jsx)(k.a,{removable:!0,onPress:function(){console.log("edit customer")},onRemove:function(){s(void 0)},children:"".concat(i.firstName," ").concat(i.lastName)})]}):Object(q.jsx)(ye,{onSelectCustomer:R})}),Object(q.jsx)(Se.a,{ui:t}),Object(q.jsx)(ke,{})]}),a?Object(q.jsxs)(g.a.Group,{children:[Object(q.jsx)(g.a,{grow:!0,children:Object(q.jsx)(be,{items:B,columns:u,query:C,onSort:D,ui:t})}),Object(q.jsx)(g.a,{children:Object(q.jsx)(Ce,{order:a})}),Object(q.jsx)(g.a,{children:Object(q.jsx)(De,{order:a})})]}):Object(q.jsx)(g.a,{content:"Add item to cart"}),Object(q.jsxs)(g.a,{children:[r.map((function(e){return Object(q.jsx)(w.a,{onPress:function(){o(e)},children:"".concat(e.id,": ").concat(e.total)},e._id)})),Object(q.jsx)(w.a,{onPress:function(){o(void 0)},children:"New"})]})]})}},897:function(e,t,n){"use strict";n.d(t,"a",(function(){return M}));var r=n(1),c=n(13),a=n(0),o=n(858),i=n(46),s=n.n(i),l=n(344),u=n.n(l),d=n(865),j=n(179),b=n(868),O=n(42),f=n(871),m=n(863),h=n(4),x=n.n(h),p=n(12),y=n(73),v=n(85),g=n(343),w=n(100),k=n(21),S=n(2),C=function(e){var t=e.product,n=Object(w.b)(),r=(n.user,n.storeDB,a.useState([])),o=Object(c.a)(r,2),i=o[0],s=(o[1],function(){var e=Object(p.a)(x.a.mark((function e(n){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.collections().orders.findOne().exec();case 2:e.sent.addOrUpdateLineItem(n,t);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),l=function(){var e=Object(p.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return 0===i.length?Object(S.jsx)(v.a,{title:"Fetch variations",onPress:function(){l("products/".concat(t.id,"/variations"))}}):Object(S.jsx)(S.Fragment,{children:i.map((function(e){return Object(S.jsxs)(k.a,{children:[Object(S.jsxs)(O.a,{children:[e.id," -",e.attributes.map((function(e){return Object(S.jsxs)(O.a,{children:[e.name," -",e.option,","]},e.id)})),"- ",e.price]}),Object(S.jsx)(v.a,{title:"Add to Cart",onPress:function(){return s(e)}})]},e.id)}))})},_=n(862),D=function(e){var t=e.item,n=a.useContext(_.a),r=n.currentOrder,o=n.setCurrentOrder,i=Object(w.b)().storeDB,s=a.useState(!1),l=Object(c.a)(s,2),u=l[0],d=l[1],j=function(){var e=Object(p.a)(x.a.mark((function e(){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=2;break}return e.abrupt("return",r.addOrUpdateLineItem(t));case 2:return e.next=4,null===i||void 0===i?void 0:i.collections.orders.createNewOrderWithProduct(t);case 4:return n=e.sent,o(n),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return t.isSynced()?t.isVariable()?Object(S.jsx)(g.a,{open:u,onRequestClose:function(){return d(!1)},activator:Object(S.jsx)(v.a,{title:"->",onPress:function(){return d(!0)}}),children:Object(S.jsx)(C,{product:t})}):Object(S.jsx)(y.a,{name:"addCircle",size:"x-large",backgroundStyle:"none",onPress:function(){j()}}):Object(S.jsx)(y.a.Skeleton,{size:"x-large"})},P=n(872),B=n(347),R=function(e){var t=e.item.thumbnail;return Object(S.jsx)(B.a,{src:t})},N=n(143),A=n.n(N),E=n(873),I=function(e){var t=e.item,n=e.column,r=e.setQuery,c=n.display,o=a.useCallback((function(e){var t=A()(c,{key:e});return!(t&&t.hide)}),[c]);return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(O.a,{children:t.name}),o("sku")&&Object(S.jsx)(O.a,{size:"small",children:t.sku}),o("categories")&&Object(S.jsx)(P.a,{item:t,setQuery:r}),o("tags")&&Object(S.jsx)(E.a,{item:t,setQuery:r}),"variable"===t.type&&Object(S.jsx)(k.a,{children:t.attributes.filter((function(e){return e.variation})).map((function(e){return Object(S.jsxs)(O.a,{size:"small",children:[Object(S.jsxs)(O.a,{size:"small",type:"secondary",children:[e.name,":"]}),e.options.join(", ")]},e.id)}))})]})},L=function(e){var t=e.item;return t.isSynced()?Object(S.jsx)(O.a,{children:t.price}):Object(S.jsx)(O.a.Skeleton,{length:"short"})},T=function(e){var t=e.item;return Object(S.jsx)(O.a,{children:t.regular_price})},V=function(e){var t=e.item;return t.isSynced()?Object(S.jsx)(O.a,{children:t.sku}):Object(S.jsx)(O.a.Skeleton,{length:"short"})},G={actions:D,categories:P.a,image:R,name:I,price:L,regularPrice:T,sku:V,tag:E.a},M=function(e){var t=e.ui,n=e.storeDB,i=Object(o.a)((function(){return t.get$("columns")}),t.get("columns")),l=Object(c.a)(i,1)[0],h=Object(o.a)(null===n||void 0===n?void 0:n.collections.products.totalRecords$),x=a.useState(!1),p=Object(c.a)(x,2),y=(p[0],p[1],a.useState(0)),v=Object(c.a)(y,2),g=v[0],w=(v[1],Object(d.a)("products",{search:"",sortBy:"name",sortDirection:"asc",filters:{category:null,tag:null}})),k=w.data$,C=w.query,_=w.setQuery,D=a.useCallback((function(e){_((function(t){return Object(r.a)(Object(r.a)({},t),{},{search:e})}))}),[_]),P=a.useMemo((function(){var e=[];return s()(C,"filters.category")&&e.push({label:s()(C,"filters.category.name"),onRemove:function(){_((function(e){return u()(Object(r.a)({},e),"filters.category",null)}))}}),s()(C,"filters.tag")&&e.push({label:s()(C,"filters.tag.name"),onRemove:function(){_((function(e){return u()(Object(r.a)({},e),"filters.tag",null)}))}}),e}),[C,_]);return Object(S.jsxs)(j.a.Group,{children:[Object(S.jsx)(j.a,{children:Object(S.jsx)(b.a,{label:"Search Products",placeholder:"Search Products",value:C.search,onSearch:D,actions:[Object(S.jsx)(m.a,{ui:t})],filters:P})}),Object(S.jsx)(j.a,{grow:!0,children:Object(S.jsx)(f.a,{collection:n.collections.products,columns:l,data$:k,setQuery:_,sortBy:C.sortBy,sortDirection:C.sortDirection,cells:G})}),Object(S.jsx)(j.a,{style:{alignItems:"flex-end"},children:Object(S.jsx)(S.Fragment,{children:Object(S.jsxs)(O.a,{children:["Showing ",g," of ",h]})})})]})}},899:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));n(0);var r,c,a=n(331),o=n(22),i=n(19),s=n(90),l=i.c.View(r||(r=Object(o.a)(["\n\theight: 100%;\n\talign-items: center;\n\tjustify-content: center;\n\tbackground-color: ",";\n\twidth: 10px;\n\n\t","}\n"])),(function(e){return e.hovered?"#f5f5f5":"transparent"}),"ios"!==s.a.OS&&"android"!==s.a.OS&&Object(i.b)(c||(c=Object(o.a)(["\n\t\t\tcursor: col-resize;\n\t\t"])))),u=n(73),d=n(2),j=function(e){var t=e.children,n=e.style;return Object(d.jsx)(a.a,{style:[{flexDirection:"row",height:"100%"},n],children:function(e){var n=e.hovered;return Object(d.jsx)(l,{hovered:n,children:t||Object(d.jsx)(u.a,{name:"more-vert"})})}})}},910:function(e,t,n){"use strict";n.r(t);var r,c,a,o=n(0),i=n(102),s=n(908),l=n(862),u=n(1),d=n(13),j=n(907),b=n(858),O=n(46),f=n.n(O),m=n(344),h=n.n(m),x=n(865),p=n(179),y=n(42),v=n(100),g=n(870),w=n(868),k=n(871),S=n(863),C=n(347),_=n(2),D=function(e){var t=e.item;return Object(_.jsx)(C.a,{src:t.thumbnail,style:{width:100,height:100}})},P=n(4),B=n.n(P),R=n(12),N=n(110),A=function(e){var t=e.item,n=function(){var e=Object(R.a)(B.a.mark((function e(n){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.atomicPatch({name:n});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(_.jsx)(N.a,{label:"Name",value:t.name,onChange:n,hideLabel:!0})},E=n(872),I=n(873),L=n(21),T={default:"{name}\n{company}\n{address_1}\n{address_2}\n{city}\n{state}\n{postcode}\n{country}",AU:"{name}\n{company}\n{address_1}\n{address_2}\n{city} {state} {postcode}\n{country}",AT:"{company}\n{name}\n{address_1}\n{address_2}\n{postcode} {city}\n{country}",BE:"{company}\n{name}\n{address_1}\n{address_2}\n{postcode} {city}\n{country}",CA:"{company}\n{name}\n{address_1}\n{address_2}\n{city} {state_code}&nbsp;&nbsp;{postcode}\n{country}",CH:"{company}\n{name}\n{address_1}\n{address_2}\n{postcode} {city}\n{country}",CL:"{company}\n{name}\n{address_1}\n{address_2}\n{state}\n{postcode} {city}\n{country}",CN:"{country} {postcode}\n{state}, {city}, {address_2}, {address_1}\n{company}\n{name}",CZ:"{company}\n{name}\n{address_1}\n{address_2}\n{postcode} {city}\n{country}",DE:"{company}\n{name}\n{address_1}\n{address_2}\n{postcode} {city}\n{country}",EE:"{company}\n{name}\n{address_1}\n{address_2}\n{postcode} {city}\n{country}",FI:"{company}\n{name}\n{address_1}\n{address_2}\n{postcode} {city}\n{country}",DK:"{company}\n{name}\n{address_1}\n{address_2}\n{postcode} {city}\n{country}",FR:"{company}\n{name}\n{address_1}\n{address_2}\n{postcode} {city_upper}\n{country}",HK:"{company}\n{first_name} {last_name_upper}\n{address_1}\n{address_2}\n{city_upper}\n{state_upper}\n{country}",HU:"{name}\n{company}\n{city}\n{address_1}\n{address_2}\n{postcode}\n{country}",IN:"{company}\n{name}\n{address_1}\n{address_2}\n{city} {postcode}\n{state}, {country}",IS:"{company}\n{name}\n{address_1}\n{address_2}\n{postcode} {city}\n{country}",IT:"{company}\n{name}\n{address_1}\n{address_2}\n{postcode}\n{city}\n{state_upper}\n{country}",JP:"{postcode}\n{state} {city} {address_1}\n{address_2}\n{company}\n{last_name} {first_name}\n{country}",TW:"{company}\n{last_name} {first_name}\n{address_1}\n{address_2}\n{state}, {city} {postcode}\n{country}",LI:"{company}\n{name}\n{address_1}\n{address_2}\n{postcode} {city}\n{country}",NL:"{company}\n{name}\n{address_1}\n{address_2}\n{postcode} {city}\n{country}",NZ:"{name}\n{company}\n{address_1}\n{address_2}\n{city} {postcode}\n{country}",NO:"{company}\n{name}\n{address_1}\n{address_2}\n{postcode} {city}\n{country}",PL:"{company}\n{name}\n{address_1}\n{address_2}\n{postcode} {city}\n{country}",PT:"{company}\n{name}\n{address_1}\n{address_2}\n{postcode} {city}\n{country}",SK:"{company}\n{name}\n{address_1}\n{address_2}\n{postcode} {city}\n{country}",RS:"{name}\n{company}\n{address_1}\n{address_2}\n{postcode} {city}\n{country}",SI:"{company}\n{name}\n{address_1}\n{address_2}\n{postcode} {city}\n{country}",ES:"{name}\n{company}\n{address_1}\n{address_2}\n{postcode} {city}\n{state}\n{country}",SE:"{company}\n{name}\n{address_1}\n{address_2}\n{postcode} {city}\n{country}",TR:"{name}\n{company}\n{address_1}\n{address_2}\n{postcode} {city} {state}\n{country}",UG:"{name}\n{company}\n{address_1}\n{address_2}\n{city}\n{state}, {country}",US:"{name}\n{company}\n{address_1}\n{address_2}\n{city}, {state_code} {postcode}\n{country}",VN:"{name}\n{company}\n{address_1}\n{city}\n{country}"},V=n(911),G={Name:function(e){var t=e.firstName,n=e.lastName;return Object(_.jsxs)(y.a,{children:[t," ",n]})},Number:function(e){var t=e.children,n=e.prefix,r=e.suffix;return Object(_.jsxs)(y.a,{children:[n," ",t," ",r]})},List:function(e){var t=e.array;return Object(_.jsx)(_.Fragment,{children:null===t||void 0===t?void 0:t.map((function(e,t){return"string"===typeof e?Object(_.jsxs)(y.a,{children:[e,", "]}):e}))})},Address:function(e){var t,n,r=e.address,c=e.showName,a=Object(u.a)({},r),o=a.country&&T.hasOwnProperty(a.country)?T[a.country]:T.default;Object.assign(a,{name:c&&"".concat(a.first_name," ").concat(a.last_name),state_code:a.state,state_upper:null===(t=a.state)||void 0===t?void 0:t.toUpperCase(),city_upper:null===(n=a.city)||void 0===n?void 0:n.toUpperCase()});var i=o.match(/\{[\w]+\}/g);return i&&i.forEach((function(e){var t=new RegExp(e,"g"),n=e.split(/{|}/g)[1];o=o.replace(t,a[n]||"")})),Object(_.jsx)(L.a,{children:o.split("\n").map((function(e,t){if(e.trim())return Object(_.jsx)(y.a,{children:e},t)}))})},Date:o.memo((function(e){var t=e.value;return Object(_.jsx)(y.a,{children:Object(V.a)(new Date(t||""),"dd/MM/yyyy")})})),Currency:o.memo((function(e){var t=e.children,n=e.symbol;return Object(_.jsxs)(y.a,{children:[n," ",t]})}))},M=function(e){var t=e.item,n=e.column;return Object(_.jsx)(G.Currency,{symbol:"$",children:t[n.key]})},H=n(343),$=n(425),F=n.n($),q=n(19),Q=n(22),U=n(178),z=n(142),K=q.c.View(r||(r=Object(Q.a)([""]))),W=Object(q.c)(U.a)(c||(c=Object(Q.a)(["\n\tpadding: 5px 10px;\n"]))),X=Object(q.c)(z.a)(a||(a=Object(Q.a)(["\n\t","\n"])),(function(e){var t=e.hovered,n=e.theme,r=e.type;return t&&"critical"===r|"warning"===r&&"\n    color: ".concat(n.TEXT_COLOR_INVERSE,";\n  ")})),J=function(e){var t=e.children,n=e.label,r=void 0===n?"":n,c=e.onPress,a=e.action,i=e.type,s=e.style,l=Object(q.d)(),u=o.useCallback((function(){"function"===typeof a&&a(),"function"===typeof c&&c(r)}),[a,r,c]),d=o.useCallback((function(e){var t=e.hovered,n=l.MENU_ITEM_HOVER_BACKGROUND_COLOR;if(i){var r="color_".concat(i).toUpperCase();n=l[r]}return[{backgroundColor:t?n:"transparent"},s]}),[s,l,i]);return Object(_.jsx)(W,{onPress:u,style:d,children:function(e){var n=e.hovered;return Object(_.jsx)(X,{type:i,hovered:n,children:t||r})}})},Y=function(e){var t=e.items,n=e.onSelect,r=void 0===n?function(){}:n;return Object(_.jsx)(K,{children:t.map((function(e,t){var n="string"===typeof e?{label:e}:e;return Object(_.jsx)(J,Object(u.a)(Object(u.a)({},n),{},{onPress:function(){r(n)}}),F()("".concat(n.label,"_").concat(t)))}))})};Y.Item=J;var Z,ee,te,ne,re,ce=n(869),ae=function(e){var t=e.items,n=e.onSelect,r=e.activator,c=o.useState(!1),a=Object(d.a)(c,2),i=a[0],s=a[1],l=o.useCallback((function(){return s(!0)}),[]),u=o.useCallback((function(){return s(!1)}),[]),j=o.useMemo((function(){return"string"===typeof r?Object(_.jsxs)(y.a,{onPress:l,style:{alignItems:"center"},children:[r,Object(_.jsx)(ce.a,{direction:i?"up":"down"})]}):o.isValidElement(r)&&"Icon"===f()(r,"type.name")?o.cloneElement(r,{onPress:l}):Object(_.jsxs)(U.a,{onPress:l,style:{alignItems:"center"},children:[r,Object(_.jsx)(ce.a,{direction:i?"up":"down"})]})}),[r,i,l]);return Object(_.jsx)(H.a,{activator:j,onRequestClose:u,open:i,hideBackdrop:!0,placement:"bottom-end",popoverStyle:{paddingLeft:0,paddingRight:0},children:Object(_.jsx)(Y,{items:t,onSelect:n})})},oe=n(73),ie=n(89),se=n(867),le=n(866),ue=n(129),de=n(346),je=n(450),be=function(e){var t,n=e.label,r=e.choices,c=e.selected,a=void 0===c?null:c,i=e.onChange,s=e.placeholder,l=e.helpText,u=e.error,j=void 0!==u&&u,b=e.disabled,O=void 0!==b&&b,f=o.useState(!1),m=Object(d.a)(f,2),h=m[0],x=m[1],p=o.useCallback((function(){return x(!0)}),[]),y=o.useCallback((function(){return x(!1)}),[]),v=Object(de.b)(a,i),g=Object(d.a)(v,2),w=g[0],k=g[1],S=o.useMemo((function(){return r.map((function(e){return"string"===typeof e?{label:e,value:e}:e}))}),[r]),C=o.useMemo((function(){return S.find((function(e){return e.value===w}))}),[S,w]),D=o.useMemo((function(){return S.map((function(e){return Object(_.jsx)(H.a.Item,{label:e.label,disabled:e.disabled,onSelect:function(){return t=e.value,k(t),void x(!1);var t}},e.value)}))}),[S,k]);return Object(_.jsx)(je.a,{label:n,disabled:O,helpText:l,error:j,onLabelClick:p,children:Object(_.jsx)(H.a,{open:h,activator:Object(_.jsx)(je.b,{value:null!==(t=null===C||void 0===C?void 0:C.label)&&void 0!==t?t:"",placeholder:s,disabled:O,focused:h,onPress:p,rightAccessory:Object(_.jsx)(ce.a,{direction:h?"up":"down"}),style:{minWidth:"100px"}}),onRequestClose:y,popoverStyle:{maxHeight:300},placement:"bottom",hideBackdrop:!0,matchWidth:!0,children:Object(_.jsx)(ue.a,{children:D})})})},Oe=n(864),fe=function(e){var t=e.product,n=e.onClose,r=o.useState(0),c=Object(d.a)(r,2),a=c[0],i=c[1],s=0===a?Object(_.jsxs)(ie.a.Section,{children:[Object(_.jsx)(N.a,{label:"Name",value:t.name}),Object(_.jsx)(be,{label:"Status",choices:["draft","pending","private","publish"],selected:t.status}),Object(_.jsx)(N.a,{label:"Price",value:t.price}),Object(_.jsx)(N.a,{label:"Regular Price",value:t.regularPrice}),Object(_.jsx)(N.a,{label:"Sale Price",value:t.salePrice}),Object(_.jsx)(Oe.a,{label:"On Sale",checked:t.onSale})]}):Object(_.jsx)(ie.a.Section,{children:Object(_.jsx)(le.a,{data:t.toJSON()})});return Object(_.jsx)(ie.a,{title:t.name,open:!0,onClose:n,primaryAction:{label:"Save"},children:Object(_.jsx)(se.a,{tabs:["Product","JSON"],selected:a,onSelect:i,children:s})})},me=function(e){var t=e.product,n=e.onClose;return Object(_.jsx)(ie.a,{title:"Confirm",open:!0,onClose:n,primaryAction:{label:"Delete",action:function(){console.log("delete locally and on server")},type:"critical"},secondaryActions:[{label:"Delete locally",action:t.remove},{label:"Cancel",action:n}],children:Object(_.jsx)(ie.a.Section,{children:Object(_.jsxs)(y.a,{children:["You are about to delete ",t.name]})})})},he=function(e){var t=e.item,n=o.useState(!1),r=Object(d.a)(n,2),c=r[0],a=r[1],i=o.useState(!1),s=Object(d.a)(i,2),l=s[0],u=s[1];return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(ae,{items:[{label:"Show",action:function(){return a(!0)}},{label:"Sync",action:function(){t.syncRestApi({push:{}}).run(!1)}},{label:"Delete",action:function(){return u(!0)},type:"critical"}],activator:Object(_.jsx)(oe.a,{name:"more"})}),l&&Object(_.jsx)(me,{product:t,onClose:function(){return u(!1)}}),c&&Object(_.jsx)(fe,{product:t,onClose:function(){return a(!1)}})]})},xe=function(e){var t=e.item,n=e.column;return t[n.key]?Object(_.jsx)(G.Date,{value:t[n.key]}):null},pe={image:D,name:A,categories:E.a,tags:I.a,regularPrice:M,salePrice:M,actions:he,dateCreated:xe},ye=q.c.View(Z||(Z=Object(Q.a)(["\n\theight: 100%;\n\tflex-direction: row;\n\tflex: 1;\n\tpadding: ",";\n"])),(function(e){var t=e.theme;return"".concat(t.PAGE_MAIN_PADDING_Y," ").concat(t.PAGE_MAIN_PADDING_X)})),ve=function(){var e=Object(v.b)().storeDB,t=Object(j.a)(Object(g.a)("products")),n=Object(b.a)((function(){return t.get$("columns")}),t.get("columns")),r=Object(d.a)(n,1)[0],c=Object(b.a)(null===e||void 0===e?void 0:e.collections.products.totalRecords$),a=o.useState(!1),i=Object(d.a)(a,2),s=(i[0],i[1],o.useState(0)),l=Object(d.a)(s,2),O=l[0],m=(l[1],Object(x.a)("products",{search:"",sortBy:"name",sortDirection:"asc",filters:{category:null,tag:null}})),C=m.data$,D=m.query,P=m.setQuery,B=o.useCallback((function(e){P((function(t){return Object(u.a)(Object(u.a)({},t),{},{search:e})}))}),[P]);if(!e)throw Error("something went wrong");var R=o.useMemo((function(){var e=[];return f()(D,"filters.category")&&e.push({label:f()(D,"filters.category.name"),onRemove:function(){P((function(e){return h()(Object(u.a)({},e),"filters.category",null)}))}}),f()(D,"filters.tag")&&e.push({label:f()(D,"filters.tag.name"),onRemove:function(){P((function(e){return h()(Object(u.a)({},e),"filters.tag",null)}))}}),e}),[D,P]);return Object(_.jsx)(ye,{children:Object(_.jsxs)(p.a.Group,{children:[Object(_.jsx)(p.a,{children:Object(_.jsx)(w.a,{label:"Search Products",placeholder:"Search Products",value:D.search,onSearch:B,actions:[Object(_.jsx)(S.a,{ui:t})],filters:R})}),Object(_.jsx)(p.a,{grow:!0,children:Object(_.jsx)(k.a,{collection:e.collections.products,columns:r,data$:C,setQuery:P,sortBy:D.sortBy,sortDirection:D.sortDirection,cells:pe})}),Object(_.jsx)(p.a,{style:{alignItems:"flex-end"},children:Object(_.jsx)(_.Fragment,{children:Object(_.jsxs)(y.a,{children:["Showing ",O," of ",c]})})})]})})},ge=n(185),we=function(e){var t=e.order,n=e.onClose,r=o.useState(0),c=Object(d.a)(r,2),a=c[0],i=c[1],s=0===a?Object(_.jsx)(ie.a.Section,{children:Object(_.jsx)(N.a,{label:"Order Number",value:t.number})}):Object(_.jsx)(ie.a.Section,{children:Object(_.jsx)(le.a,{data:t.toJSON()})});return Object(_.jsx)(ie.a,{open:!0,title:"Order",onClose:n,primaryAction:{label:"Save "},children:Object(_.jsx)(se.a,{tabs:["Order","JSON"],selected:a,onSelect:i,children:s})})},ke=function(e){var t=e.item,n=o.useState(!1),r=Object(d.a)(n,2),c=r[0],a=r[1];return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(ae,{items:[{label:"Show",action:function(){return a(!0)}},{label:"Sync",action:function(){console.log("sync")}},{label:"Delete",action:function(){t.remove()}}],activator:Object(_.jsx)(oe.a,{name:"more"})}),c&&Object(_.jsx)(we,{order:t,onClose:function(){return a(!1)}})]})},Se=function(e){var t=e.item[e.column.key];return t?Object(_.jsx)(G.Address,{address:t,showName:!1}):Object(_.jsx)(y.a.Skeleton,{})},Ce=function(e){var t=e.item;return t.customer_id?Object(_.jsx)(y.a,{children:t.customer_id}):Object(_.jsx)(y.a.Skeleton,{})},_e=n(350),De={actions:ke,billing:Se,shipping:Se,customer:Ce,customerNote:function(e){var t=e.item;return t.note?Object(_.jsx)(_e.a,{content:t.note,children:Object(_.jsx)(oe.a,{name:"note"})}):null},status:function(e){var t=e.item;return t.status?Object(_.jsx)(_e.a,{content:t.status,children:Object(_.jsx)(oe.a,{name:t.status})}):Object(_.jsx)(oe.a.Skeleton,{})}},Pe=q.c.View(ee||(ee=Object(Q.a)(["\n\theight: 100%;\n\tflex-direction: row;\n\tflex: 1;\n\tpadding: ",";\n"])),(function(e){var t=e.theme;return"".concat(t.PAGE_MAIN_PADDING_Y," ").concat(t.PAGE_MAIN_PADDING_X)})),Be=function(){var e=Object(v.b)().storeDB,t=Object(j.a)(Object(g.a)("orders")),n=Object(b.a)((function(){return t.get$("columns")}),t.get("columns")),r=Object(d.a)(n,1)[0],c=Object(x.a)("orders",{search:"",sortBy:"dateCreatedGmt",sortDirection:"desc"}),a=c.data$,i=c.query,s=c.setQuery,l=o.useCallback((function(e){s((function(t){return Object(u.a)(Object(u.a)({},t),{},{search:e})}))}),[s]);if(!e)throw Error("something went wrong");return Object(_.jsx)(Pe,{children:Object(_.jsx)(o.Suspense,{fallback:Object(_.jsx)(ge.a,{children:"loading orders..."}),children:Object(_.jsxs)(p.a.Group,{children:[Object(_.jsx)(p.a,{children:Object(_.jsx)(w.a,{label:"Search Orders",placeholder:"Search Orders",value:i.search,onSearch:l,actions:[Object(_.jsx)(S.a,{ui:t})]})}),Object(_.jsx)(p.a,{grow:!0,children:Object(_.jsx)(k.a,{collection:e.collections.orders,columns:r,data$:a,setQuery:s,sortBy:i.sortBy,sortDirection:i.sortDirection,cells:De})}),Object(_.jsx)(p.a,{})]})})})},Re=n(243),Ne=function(e){var t=e.onClose,n=e.customer,r=Object(v.b)().storeDB,c=o.useState(null===n||void 0===n?void 0:n.firstName),a=Object(d.a)(c,2),i=a[0],s=a[1],l=o.useState(null===n||void 0===n?void 0:n.email),u=Object(d.a)(l,2),j=u[0],b=u[1],O=o.useState(0),f=Object(d.a)(O,2),m=f[0],h=f[1],x=n?"Edit Customer":"Add Customer",p=function(){var e=Object(R.a)(B.a.mark((function e(){var t,c,a;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n){e.next=8;break}return c=null===r||void 0===r?void 0:r.collections.customers,e.next=5,null===c||void 0===c?void 0:c.insert({firstName:i,email:j});case 5:e.sent,e.next=9;break;case 8:t.atomicPatch({firstName:i,email:j});case 9:t&&((a=t.syncRestApi({push:{}})).error$.subscribe((function(e){401===e.code&&console.log("need to login")})),a.run(!1));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=0===m?Object(_.jsxs)(ie.a.Section,{children:[Object(_.jsx)(N.a,{label:"First Name",value:i,onChange:s}),Object(_.jsx)(N.a,{label:"Email",value:j,onChange:b})]}):Object(_.jsx)(ie.a.Section,{children:n?Object(_.jsx)(le.a,{data:n.toJSON()}):null});return Object(_.jsx)(ie.a,{title:x,open:!0,onClose:t,primaryAction:{label:"Save",action:p},children:Object(_.jsx)(se.a,{tabs:["Form","JSON"],selected:m,onSelect:h,children:y})})},Ae=function(e){var t=e.item,n=e.column;return Object(_.jsx)(G.Address,{address:t[n.key],showName:!1})},Ee=function(e){var t=e.item[e.column.key];return void 0!==t?Object(_.jsx)(y.a,{children:t}):Object(_.jsx)(y.a.Skeleton,{})},Ie={avatarUrl:function(e){var t=e.item;return Object(_.jsx)(C.a,{src:t.avatarUrl,style:{width:100,height:100}})},firstName:Ee,lastName:Ee,email:function(e){var t=e.item;return void 0!==t.email?Object(_.jsx)(y.a,{children:t.email}):Object(_.jsx)(y.a.Skeleton,{})},billing:Ae,shipping:Ae,actions:function(e){var t=e.item,n=o.useState(!1),r=Object(d.a)(n,2),c=r[0],a=r[1];return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(ae,{activator:Object(_.jsx)(oe.a,{name:"more"}),items:[{label:"Edit",action:function(){return a(!0)}},{label:"Sync",action:function(){t.syncRestApi({push:{}}).run(!1)}},{label:"Delete",action:function(){t.remove()}}]}),c&&Object(_.jsx)(Ne,{onClose:function(){return a(!1)},customer:t})]})}},Le=q.c.View(te||(te=Object(Q.a)(["\n\theight: 100%;\n\tflex-direction: row;\n\tflex: 1;\n\tpadding: ",";\n"])),(function(e){var t=e.theme;return"".concat(t.PAGE_MAIN_PADDING_Y," ").concat(t.PAGE_MAIN_PADDING_X)})),Te=function(e){var t=e.navigation,n=Object(v.b)(),r=(n.user,n.storeDB),c=Object(j.a)(Object(g.a)("customers")),a=Object(b.a)((function(){return c.get$("columns")}),c.get("columns")),i=Object(d.a)(a,1)[0],s=Object(x.a)("customers",{search:"",sortBy:"lastName",sortDirection:"asc"}),l=s.data$,O=s.query,f=s.setQuery,m=o.useCallback((function(e){f((function(t){return Object(u.a)(Object(u.a)({},t),{},{search:e})}))}),[f]);if(!r)throw Error("something went wrong");return Object(Re.a)("Customer Page",{data$:l,query:O,ui:c,columns:i,storeDB:r,navigation:t}),Object(_.jsx)(Le,{children:Object(_.jsx)(o.Suspense,{fallback:Object(_.jsx)(ge.a,{children:"loading customers..."}),children:Object(_.jsxs)(p.a.Group,{children:[Object(_.jsx)(p.a,{children:Object(_.jsx)(w.a,{label:"Search Customers",placeholder:"Search Customers",value:O.search,onSearch:m,actions:[{name:"add",action:function(){console.log("show modal")}},Object(_.jsx)(S.a,{ui:c})]})}),Object(_.jsx)(p.a,{grow:!0,children:Object(_.jsx)(k.a,{collection:r.collections.customers,columns:i,data$:l,setQuery:f,sortBy:O.sortBy,sortDirection:O.sortDirection,cells:Ie})}),Object(_.jsx)(p.a,{})]})})})},Ve=n(861),Ge=n(85),Me=n(44),He=n.n(Me),$e=n(47),Fe=n.n($e),qe=function(){var e=Object(v.b)().userDB,t=o.useState([]),n=Object(d.a)(t,2),r=n[0],c=n[1];He()(e.collections,(function(e,t){e.$.subscribe((function(e){return console.log(t,e)}))})),o.useEffect((function(){!function(){var t=Object(R.a)(B.a.mark((function t(){var n,r;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Fe()(e.collections,function(){var e=Object(R.a)(B.a.mark((function e(t,n){var r;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.find().exec();case 2:return r=e.sent,e.abrupt("return",{name:n,count:r.length});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),t.next=3,Promise.all(n);case 3:r=t.sent,c(r);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()()}),[]);var a=function(){var e=Object(R.a)(B.a.mark((function e(t){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i=function(){var t=Object(R.a)(B.a.mark((function t(n){var r;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.collections[n].find().exec();case 2:r=t.sent,console.log(r);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),s=[{key:"name",label:"Name"},{key:"count",label:"Count"},{key:"actions",label:""}];return Object(_.jsxs)(Ve.a,{columns:s,data:r,children:[Object(_.jsx)(Ve.a.Header,{children:Object(_.jsx)(Ve.a.Header.Row,{children:s.map((function(e){var t=e.key,n=e.label;return Object(_.jsx)(Ve.a.Header.Row.Cell,{dataKey:t,sort:function(){console.log("sort")},sortBy:"name",sortDirection:"asc",children:n},t)}))})}),Object(_.jsx)(Ve.a.Body,{children:function(e){var t=e.item;return Object(_.jsx)(Ve.a.Body.Row,{rowData:t,columns:s,children:function(e){var n=e.column,r=e.getCellProps;return"actions"===n.key?Object(_.jsxs)(Ve.a.Body.Row.Cell,{children:[Object(_.jsx)(Ge.a,{title:"Delete All",onPress:function(){a(t.name)}}),Object(_.jsx)(Ge.a,{title:"Info",onPress:function(){i(t.name)}})]}):Object(_.jsx)(Ve.a.Body.Row.Cell,Object(u.a)({},r()))}})}})]})},Qe=function(e){var t=e.item,n=e.columns,r=Object(b.a)(t.totalRecords$);return Object(_.jsx)(Ve.a.Body.Row,{rowData:t,columns:n,children:function(e){switch(e.column.key){case"name":return Object(_.jsx)(Ve.a.Body.Row.Cell,{cellData:t.name});case"count":return Object(_.jsx)(Ve.a.Body.Row.Cell,{cellData:r});case"actions":return Object(_.jsx)(Ve.a.Body.Row.Cell,{children:Object(_.jsx)(Ge.a,{title:"Delete All",onPress:function(){t.remove()}})});default:return null}}})},Ue=function(){var e=Object(v.b)().storeDB,t=[{key:"name",label:"Name"},{key:"count",label:"Count"},{key:"actions",label:""}];return Object(_.jsxs)(Ve.a,{columns:t,data:Object.values(e.collections),children:[Object(_.jsx)(Ve.a.Header,{children:Object(_.jsx)(Ve.a.Header.Row,{children:t.map((function(e){var t=e.key,n=e.label;return Object(_.jsx)(Ve.a.Header.Row.Cell,{dataKey:t,sort:function(){console.log("sort")},sortBy:"name",sortDirection:"asc",children:n},t)}))})}),Object(_.jsx)(Ve.a.Body,{children:function(e){var n=e.item;return Object(_.jsx)(Qe,{item:n,columns:t})}})]})},ze=function(){return Object(_.jsxs)(L.a,{style:{flexDirection:"row"},children:[Object(_.jsxs)(p.a.Group,{style:{width:"50%"},children:[Object(_.jsx)(p.a,{children:"Authentication Database"}),Object(_.jsx)(p.a,{children:Object(_.jsx)(qe,{})})]}),Object(_.jsxs)(p.a.Group,{style:{width:"50%"},children:[Object(_.jsx)(p.a,{children:"Store Database"}),Object(_.jsx)(p.a,{children:Object(_.jsx)(Ue,{})})]})]})},Ke=n(454),We=n(914),Xe=n(851),Je=function(e){var t=e.onClose,n=Object(v.b)().storeDB,r=o.useState("GB"),c=Object(d.a)(r,2),a=c[0],i=(c[1],Object(We.a)((function(e){return e.pipe(Object(Xe.a)((function(e){return(null===n||void 0===n?void 0:n.collections.taxes.find().where("country").eq(a)).$})))}),[a])),s=Object(b.a)(i,[]);return console.log(s),Object(_.jsx)(ie.a,{sectioned:!0,title:"Settings",open:!0,onClose:t,primaryAction:{label:"Save",action:t},children:Object(_.jsxs)(L.a,{style:{zIndex:999999},children:[Object(_.jsx)(y.a,{children:"Store location: "}),Object(_.jsx)(be,{label:"Country",placeholder:"GB",choices:[{label:"GB",value:"GB"},{label:"US",value:"US"}]}),Object(_.jsx)(Ve.a,{columns:[{key:"country",label:"Country"},{key:"name",label:"Name"},{key:"rate",label:"Rate"}],data:s})]})})},Ye=q.c.View(ne||(ne=Object(Q.a)(["\n\tflex-direction: row;\n\talign-items: center;\n"]))),Ze=function(){var e=Object(v.b)(),t=e.user,n=e.unsetLastUser,r=o.useState(!1),c=Object(d.a)(r,2),a=c[0],s=c[1],l=Object(i.p)();return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(ae,{activator:Object(_.jsxs)(Ye,{children:[Object(_.jsx)(y.a,{type:"inverse",children:null===t||void 0===t?void 0:t.displayName}),Object(_.jsx)(Ke.a,{src:"https://secure.gravatar.com/avatar/a2a53c07cdd4a8aa81c043baafd0915f",size:"small"})]}),items:[{label:"Logout",action:function(){var e=Object(R.a)(B.a.mark((function e(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l.navigate("Auth"),e.next=3,n();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),type:"warning"},{label:"Settings",action:function(){return s(!0)}},{label:"Modal",action:function(){return l.dispatch(i.b.navigate({name:"Modal",params:{foo:"bar"}}))}}]}),a&&Object(_.jsx)(Je,{onClose:function(){return s(!1)}})]})},et=function(){var e=Object(v.b)().online;return Object(_.jsx)(oe.a,{name:"circle",size:"x-small",color:e?"green":"red"})},tt=function(){return Object(_.jsx)(_.Fragment,{children:Object(_.jsx)(oe.a,{name:"notifications",onPress:function(){}})})},nt=q.c.View(re||(re=Object(Q.a)(["\n\tflex-direction: row;\n\talign-items: center;\n"]))),rt=function(){return Object(_.jsxs)(nt,{children:[Object(_.jsx)(et,{}),Object(_.jsx)(tt,{}),Object(_.jsx)(Ze,{})]})},ct=Object(s.a)();t.default=function(e){var t=e.navigation,n=(e.route,o.useCallback((function(){t.dispatch(i.c.openDrawer())}),[])),r=o.useMemo((function(){return{headerStyle:{backgroundColor:"#f4511e",height:"40px"},headerTintColor:"#fff",headerTitleStyle:{fontWeight:"bold",textAlign:"center",margin:0},headerBackgroundContainerStyle:{},headerLeftContainerStyle:{padding:"5px",flexGrow:1,flexShrink:1,flexBasis:"20%"},headerRightContainerStyle:{padding:"5px",flexGrow:1,flexShrink:1,flexBasis:"20%"},headerTitleContainerStyle:{padding:"5px",flexGrow:1,flexShrink:1,flexBasis:"100%"},headerLeft:function(){return Object(_.jsx)(Ge.a,{onPress:n,title:"Menu"})},headerRight:rt}}),[n]);return Object(_.jsxs)(ct.Navigator,{screenOptions:r,children:[Object(_.jsx)(ct.Screen,{name:"POS",component:l.b}),Object(_.jsx)(ct.Screen,{name:"Products",component:ve}),Object(_.jsx)(ct.Screen,{name:"Orders",component:Be}),Object(_.jsx)(ct.Screen,{name:"Customers",component:Te}),Object(_.jsx)(ct.Screen,{name:"Support",component:ze})]})}}}]);
//# sourceMappingURL=4.64c0caee.chunk.js.map