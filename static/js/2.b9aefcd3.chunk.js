(this["webpackJsonp@wcpos/web"]=this["webpackJsonp@wcpos/web"]||[]).push([[2],{815:function(e,t,n){"use strict";var r,c,a,o,s,i=n(1),l=n(25),u=n(0),d=n(521),j=n(40),b=n.n(j),O=n(23),f=n(21),m=f.c.View(r||(r=Object(O.a)(["\n\tflex-direction: row;\n\talign-items: center;\n\tborder-bottom-width: 1px;\n\tborder-style: solid;\n\tborder-bottom-color: #000000;\n"]))),h=f.c.View(c||(c=Object(O.a)(["\n\tpadding: 5px;\n\talign-items: flex-start;\n"]))),x=f.c.View(a||(a=Object(O.a)(["\n\tflex-direction: row;\n\tborder-bottom-width: 2px;\n\tborder-style: solid;\n\tborder-bottom-color: #000000;\n\tbackground-color: #ffffff;\n"]))),p=f.c.View(o||(o=Object(O.a)(["\n\tpadding: 5px;\n"]))),y=f.c.View(s||(s=Object(O.a)(["\n\tflex-direction: row;\n\talign-items: center;\n"]))),v=n(46),g=n(3),w=u.memo((function(e){var t=e.children,n=e.cellData,r=e.flexGrow,c=void 0===r?1:r,a=e.flexShrink,o=void 0===a?1:a,s=e.flexBasis,i=void 0===s?"auto":s,l=e.width,u=void 0===l?"100%":l,d=e.style;e.rowData,e.dataKey;return t?Object(g.jsx)(h,{style:[{flexGrow:c,flexShrink:o,flexBasis:i,width:u},d],children:"function"===typeof t?t({cellData:n}):t}):Object(g.jsx)(h,{style:[{flexGrow:c,flexShrink:o,flexBasis:i,width:u},d],children:Object(g.jsx)(v.a,{children:String(null!==n&&void 0!==n?n:"")})})}));w.displayName="Table.Body.Row.Cell";var C=w,_=u.memo((function(e){var t=e.rowData,n=e.columns,r=e.style,c=e.children;return Object(g.jsx)(m,{style:r,children:n&&n.map((function(e,n){if(!e.hide){var r=e.key||n,a=t[r],o=e.flexGrow,s=e.flexShrink,l=e.flexBasis,u=e.width,d=function(){return{cellData:a,column:e,dataKey:r,flexGrow:o,flexShrink:s,flexBasis:l,width:u,rowData:t,index:n,key:r}};return"function"===typeof c?c({cellData:a,column:e,getCellProps:d}):Object(g.jsx)(C,Object(i.a)({},d()))}}))})}));_.displayName="Table.Row",_.Cell=C;var S,k,D,P=_,B=n(171),R=f.c.View(S||(S=Object(O.a)(["\n\tpadding: 3px;\n\topacity: 0.6;\n"]))),A=f.c.View(k||(k=Object(O.a)(["\n\tborder-left-width: 4px;\n\tborder-right-width: 4px;\n\tborder-bottom-width: 4px;\n\tborder-bottom-color: ",";\n\tborder-left-color: transparent;\n\tborder-right-color: transparent;\n\tmargin-bottom: 2px;\n"])),(function(e){var t=e.active,n=e.theme;return t?n.COLOR_PRIMARY:n.COLOR_DISABLED})),E=f.c.View(D||(D=Object(O.a)(["\n\tborder-left-width: 4px;\n\tborder-right-width: 4px;\n\tborder-top-width: 4px;\n\tborder-top-color: ",";\n\tborder-left-color: transparent;\n\tborder-right-color: transparent;\n"])),(function(e){var t=e.active,n=e.theme;return t?n.COLOR_PRIMARY:n.COLOR_DISABLED})),N=function(e){var t=e.direction;e.visible;return Object(g.jsxs)(R,{children:[Object(g.jsx)(A,{active:"asc"===t}),Object(g.jsx)(E,{active:"desc"===t})]})},I=u.memo((function(e){var t=e.children,n=e.sort,r=e.sortBy,c=e.dataKey,a=e.defaultSortDirection,o=void 0===a?"asc":a,s=e.sortDirection,i=e.label,l=e.style,u=e.flexGrow,d=void 0===u?1:u,j=e.flexShrink,b=void 0===j?1:j,O=e.flexBasis,f=void 0===O?"auto":O,m=e.width,h=void 0===m?"100%":m,x=e.disableSort,w=void 0!==x&&x,C=e.hideLabel,_=void 0!==C&&C,S=!w&&"function"===typeof n,k=S&&r===c,D=r!==c?o:"desc"===s?"asc":"desc";return Object(g.jsx)(p,{style:[{flexGrow:d,flexShrink:b,flexBasis:f,width:h},l],children:S?Object(g.jsx)(B.a,{onPress:function(e){"function"===typeof n&&n({defaultSortDirection:o,event:e,sortBy:c,sortDirection:D})},children:function(e){var n=e.hovered;return Object(g.jsxs)(y,{children:[Object(g.jsx)(v.a,{children:t||i}),Object(g.jsx)(N,{visible:n||k,direction:k?s:void 0})]})}}):!_&&Object(g.jsx)(v.a,{children:t||i})})}));I.displayName="Table.Header.Row.Cell";var T=I,V=u.memo((function(e){var t=e.columns,n=e.sort,r=e.sortBy,c=e.sortDirection,a=e.children;e.style;return Object(g.jsx)(x,{children:t&&t.map((function(e,t){if(!e.hide){var o=e.key||t,s=e.defaultSortDirection,l=e.disableSort,u=e.label,d=e.flexGrow,j=e.flexShrink,b=e.flexBasis,O=e.width,f=e.hideLabel,m=function(){return{column:e,dataKey:o,defaultSortDirection:s,disableSort:l,flexGrow:d,flexShrink:j,flexBasis:b,label:u,sort:n,sortBy:r,sortDirection:c,width:O,hideLabel:f,key:o}};return"function"===typeof a?a({column:e,getHeaderCellProps:m}):Object(g.jsx)(T,Object(i.a)({},m()))}}))})}));V.displayName="Table.Header.Row",V.Cell=T;var L=V,G=function(e){var t=e.children;return Object(g.jsx)(g.Fragment,{children:t})};G.displayName="Table.Body";var M=Object.assign(G,{Row:P}),H=function(e){var t=e.children;return Object(g.jsx)(g.Fragment,{children:t})};H.displayName="Table.Header";var $=Object.assign(H,{Row:L}),F=function(e){var t=e.message,n=void 0===t?"No results found":t;return Object(g.jsx)(v.a,{children:n})},q=u.memo(F);F.displayName="Table.Row.Empty";var U=q,W=["children","columns","data","empty","footer","sort","sortBy","sortDirection"],Q={minimumViewTime:500,viewAreaCoveragePercentThreshold:0},K=[0],X=u.memo((function(e){var t=e.children,n=e.columns,r=e.data,c=(e.empty,e.footer),a=e.sort,o=e.sortBy,s=e.sortDirection,j=Object(l.a)(e,W),O=u.useCallback((function(e,t){return b()(e,"localID")||t}),[]),f=u.Children.count(t),m=u.useMemo((function(){if(Array.isArray(t)&&f>0){var e=t.find((function(e){return e.type===M}));if(u.isValidElement(e))return function(t){var r=t.item,c=t.index;return e.props.children({item:r,columns:n,index:c})}}return"function"===typeof t?function(e){var r=e.item,c=e.index;return t({item:r,columns:n,index:c})}:function(e){var t=e.item;return Object(g.jsx)(P,{rowData:t,columns:n})}}),[t,f,n]),h=u.useCallback(m,[m]),x=u.useMemo((function(){if(Array.isArray(t)&&f>0){var e=t.find((function(e){return e.type===$}));if(u.isValidElement(e))return u.cloneElement(e.props.children,{columns:n,sort:a,sortBy:o,sortDirection:s})}return Object(g.jsx)(L,{columns:n,sort:a,sortBy:o,sortDirection:s})}),[t,f,n,a,o,s]);return Object(g.jsx)(d.a,Object(i.a)({data:r,renderItem:h,keyExtractor:O,ListHeaderComponent:x,ListFooterComponent:c,ListEmptyComponent:U,stickyHeaderIndices:K,viewabilityConfig:Q},j))}));X.displayName="Table",X.Header=$,X.Body=M;var z=X;t.a=z},816:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return C}));var r=n(16),c=n(0),a=n(179),o=n(808),s=n(812),i=n(806),l=n(334),u=n(108),d=n(338),j=n(259),b=n(830),O=n(851),f=n(831),m=n(50),h=n(832),x=n.n(h),p=n(848),y=n(852),v=n(850),g=n(842),w=n(3),C=c.createContext({currentOrder:void 0,setCurrentOrder:void 0,currentCustomer:void 0,setCurrentCustomer:void 0});t.b=function(){var t=Object(u.b)().storeDB,n=Object(d.b)(),h=Object(o.a)(n.posProducts),_=Object(o.a)(n.cart),S=c.useState(),k=Object(r.a)(S,2),D=k[0],P=k[1],B=c.useState(),R=Object(r.a)(B,2),A=R[0],E=R[1],N=c.useRef(!1),I=Object(m.i)(h.get("width")),T=Object(f.a)(),V=Object(r.a)(T,2),L=V[0],G=V[1],M=Object(f.a)(),H=Object(r.a)(M,2),$=H[0],F=H[1],q=c.useCallback((function(e,t){t.productColumnWidth=I.value}),[]),U=c.useCallback((function(e,t){$&&L?(N.current=!0,I.value=Object(m.l)(x()(($.width+e.translationX)/L.width,.2,.8))):console.log("@TODO - why null?",$)}),[L,$]),W=c.useCallback((function(e,t){N.current=!1,h.atomicPatch({width:I.value})}),[]),Q=Object(m.g)(function(){const t=function(){return{flexBasis:"".concat(100*I.value,"%")}};return t._closure={productColumnWidth:I},t.asString='function _f(){const{productColumnWidth}=jsThis._closure;{return{flexBasis:"".concat(productColumnWidth.value*100,"%")};}}',t.__workletHash=0xe295e26f59b,t.__location="/home/runner/work/client/client/packages/common/src/screens/pos/pos.tsx (81:46)",e.__reanimatedWorkletInit(t),t}()),K=function(e){N.current||G(e)},X=function(e){N.current||F(e)},z=t.collections.orders.find().where("status").eq("pos-open"),Y=Object(s.a)(z.$.pipe(Object(i.a)((function(e){return(null===Y||void 0===Y?void 0:Y.length)!==e.length}))),[]);return Object(l.a)("POS",{storeDB:t,productsUI:h,cartUI:_,currentOrder:D,orderQuery:z,orders:Y,handleColumnResize:U,handleStartColumnResize:q,handleEndColumnResize:W,productsColumnStyle:Q,handleContainerLayout:K,handleProductColumnLayout:X}),Object(w.jsx)(C.Provider,{value:{currentOrder:D,setCurrentOrder:P,currentCustomer:A,setCurrentCustomer:E},children:Object(w.jsxs)(g.c,{onLayout:K,children:[Object(w.jsx)(g.d,{as:m.a.View,onLayout:X,style:Q,children:Object(w.jsx)(j.a,{children:Object(w.jsx)(c.Suspense,{fallback:Object(w.jsx)(a.a,{children:"Loading products..."}),children:Object(w.jsx)(y.a,{ui:h,storeDB:t})})})}),Object(w.jsx)(b.a,{onStart:q,onActive:U,onEnd:W,children:Object(w.jsx)(m.a.View,{children:Object(w.jsx)(O.a,{})})}),D&&"pos-checkout"===D.status?Object(w.jsx)(g.b,{children:Object(w.jsx)(v.a,{})}):Object(w.jsx)(g.a,{children:Object(w.jsx)(j.a,{children:Object(w.jsx)(c.Suspense,{fallback:Object(w.jsx)(a.a,{children:"Loading cart..."}),children:Object(w.jsx)(p.a,{ui:_,orders:Y})})})})]})})}}).call(this,n(38))},817:function(e,t,n){"use strict";var r=n(1),c=n(16),a=n(0),o=n(863),s=n(335),i=n(75),l=n(821),u=n(80),d=n(46),j=n(3);t.a=function(e){var t=e.ui,n=Object(o.a)().t,b=t.id.split("_")[1],O=t.get("columns"),f=a.useState(!1),m=Object(c.a)(f,2),h=m[0],x=m[1];return Object(j.jsxs)(s.a,{open:h,activator:Object(j.jsx)(i.a,{name:"cog",onPress:function(){return x(!0)},tooltip:"Table Settings"}),onRequestClose:function(){return x(!1)},children:[Object(j.jsx)(d.a,{children:"Columns"}),O.map((function(e,c){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(l.a,{label:n("".concat(b,".column.label.").concat(e.key)),checked:!e.hide,onChange:function(n){O[c]=Object(r.a)(Object(r.a)({},e),{},{hide:!n}),t.atomicSet("columns",O)}},e.key),e.display?e.display.map((function(c,a){return Object(j.jsx)(l.a,{label:n("".concat(b,".column.label.").concat(c.key)),checked:!c.hide,onChange:function(n){e.display[a]=Object(r.a)(Object(r.a)({},c),{},{hide:!n}),t.atomicSet("columns",O)}},c.key)})):null]})})),Object(j.jsx)(u.a,{title:"Restore Default Settings",onPress:t.reset})]})}},818:function(e,t,n){"use strict";var r=n(0),c=n(46),a=n(3),o=n(1),s=n(20),i={default:"{name}\n{company}\n{address_1}\n{address_2}\n{city}\n{state}\n{postcode}\n{country}",AU:"{name}\n{company}\n{address_1}\n{address_2}\n{city} {state} {postcode}\n{country}",AT:"{company}\n{name}\n{address_1}\n{address_2}\n{postcode} {city}\n{country}",BE:"{company}\n{name}\n{address_1}\n{address_2}\n{postcode} {city}\n{country}",CA:"{company}\n{name}\n{address_1}\n{address_2}\n{city} {state_code}&nbsp;&nbsp;{postcode}\n{country}",CH:"{company}\n{name}\n{address_1}\n{address_2}\n{postcode} {city}\n{country}",CL:"{company}\n{name}\n{address_1}\n{address_2}\n{state}\n{postcode} {city}\n{country}",CN:"{country} {postcode}\n{state}, {city}, {address_2}, {address_1}\n{company}\n{name}",CZ:"{company}\n{name}\n{address_1}\n{address_2}\n{postcode} {city}\n{country}",DE:"{company}\n{name}\n{address_1}\n{address_2}\n{postcode} {city}\n{country}",EE:"{company}\n{name}\n{address_1}\n{address_2}\n{postcode} {city}\n{country}",FI:"{company}\n{name}\n{address_1}\n{address_2}\n{postcode} {city}\n{country}",DK:"{company}\n{name}\n{address_1}\n{address_2}\n{postcode} {city}\n{country}",FR:"{company}\n{name}\n{address_1}\n{address_2}\n{postcode} {city_upper}\n{country}",HK:"{company}\n{first_name} {last_name_upper}\n{address_1}\n{address_2}\n{city_upper}\n{state_upper}\n{country}",HU:"{name}\n{company}\n{city}\n{address_1}\n{address_2}\n{postcode}\n{country}",IN:"{company}\n{name}\n{address_1}\n{address_2}\n{city} {postcode}\n{state}, {country}",IS:"{company}\n{name}\n{address_1}\n{address_2}\n{postcode} {city}\n{country}",IT:"{company}\n{name}\n{address_1}\n{address_2}\n{postcode}\n{city}\n{state_upper}\n{country}",JP:"{postcode}\n{state} {city} {address_1}\n{address_2}\n{company}\n{last_name} {first_name}\n{country}",TW:"{company}\n{last_name} {first_name}\n{address_1}\n{address_2}\n{state}, {city} {postcode}\n{country}",LI:"{company}\n{name}\n{address_1}\n{address_2}\n{postcode} {city}\n{country}",NL:"{company}\n{name}\n{address_1}\n{address_2}\n{postcode} {city}\n{country}",NZ:"{name}\n{company}\n{address_1}\n{address_2}\n{city} {postcode}\n{country}",NO:"{company}\n{name}\n{address_1}\n{address_2}\n{postcode} {city}\n{country}",PL:"{company}\n{name}\n{address_1}\n{address_2}\n{postcode} {city}\n{country}",PT:"{company}\n{name}\n{address_1}\n{address_2}\n{postcode} {city}\n{country}",SK:"{company}\n{name}\n{address_1}\n{address_2}\n{postcode} {city}\n{country}",RS:"{name}\n{company}\n{address_1}\n{address_2}\n{postcode} {city}\n{country}",SI:"{company}\n{name}\n{address_1}\n{address_2}\n{postcode} {city}\n{country}",ES:"{name}\n{company}\n{address_1}\n{address_2}\n{postcode} {city}\n{state}\n{country}",SE:"{company}\n{name}\n{address_1}\n{address_2}\n{postcode} {city}\n{country}",TR:"{name}\n{company}\n{address_1}\n{address_2}\n{postcode} {city} {state}\n{country}",UG:"{name}\n{company}\n{address_1}\n{address_2}\n{city}\n{state}, {country}",US:"{name}\n{company}\n{address_1}\n{address_2}\n{city}, {state_code} {postcode}\n{country}",VN:"{name}\n{company}\n{address_1}\n{city}\n{country}"},l=n(862),u=r.memo((function(e){var t=e.value;return Object(a.jsx)(c.a,{children:Object(l.a)(new Date(t||""),"dd/MM/yyyy")})})),d=r.memo((function(e){var t=e.children,n=e.symbol;return Object(a.jsxs)(c.a,{children:[n," ",t]})}));t.a={Name:function(e){var t=e.firstName,n=e.lastName;return Object(a.jsxs)(c.a,{children:[t," ",n]})},Number:function(e){var t=e.children,n=e.prefix,r=e.suffix;return Object(a.jsxs)(c.a,{children:[n," ",t," ",r]})},List:function(e){var t=e.array;return Object(a.jsx)(a.Fragment,{children:null===t||void 0===t?void 0:t.map((function(e,t){return"string"===typeof e?Object(a.jsxs)(c.a,{children:[e,", "]}):e}))})},Address:function(e){var t,n,r=e.address,l=e.showName,u=Object(o.a)({},r),d=u.country&&i.hasOwnProperty(u.country)?i[u.country]:i.default;Object.assign(u,{name:l&&"".concat(u.first_name," ").concat(u.last_name),state_code:u.state,state_upper:null===(t=u.state)||void 0===t?void 0:t.toUpperCase(),city_upper:null===(n=u.city)||void 0===n?void 0:n.toUpperCase()});var j=d.match(/\{[\w]+\}/g);return j&&j.forEach((function(e){var t=new RegExp(e,"g"),n=e.split(/{|}/g)[1];d=d.replace(t,u[n]||"")})),Object(a.jsx)(s.a,{children:d.split("\n").map((function(e,t){if(e.trim())return Object(a.jsx)(c.a,{children:e},t)}))})},Date:u,Currency:d}},819:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r,c,a,o,s=n(0),i=n.n(s),l=n(23),u=n(21),d=n(135),j=n(171),b=u.c.View(r||(r=Object(l.a)(["\n\theight: 100%;\n"]))),O=u.c.View(c||(c=Object(l.a)(["\n\tflex-direction: row;\n"]))),f=Object(u.c)(j.a)(a||(a=Object(l.a)(["\n\talign-items: center;\n\tjustify-content: center;\n\tpadding: 5px;\n"]))),m=Object(u.c)(d.a)(o||(o=Object(l.a)(["\n\tcolor: ",";\n"])),(function(e){var t=e.selected,n=e.theme;return t?n.TEXT_COLOR:n.TEXT_COLOR_SECONDARY})),h=n(3),x=function(e){var t=e.label,n=e.selected,r=e.onSelect;return Object(h.jsx)(f,{selected:n,onPress:r,children:Object(h.jsx)(m,{selected:n,children:t})})},p=function(e){var t=e.tabs,n=e.selected,r=e.onSelect,c=e.children,a=e.position,o=void 0===a?"top":a,s=i.a.useMemo((function(){return t.map((function(e,t){return Object(h.jsx)(x,{label:e,selected:n===t,onSelect:function(){return r(t)}},e)}))}),[t,n,r]);return Object(h.jsxs)(b,{children:["bottom"===o&&c,Object(h.jsx)(O,{children:s}),"top"===o&&c]})}},820:function(e,t,n){"use strict";n.d(t,"a",(function(){return P}));var r,c,a,o,s=n(16),i=n(0),l=n(23),u=n(21),d=u.c.TextInput(r||(r=Object(l.a)(["\n\tmax-height: 300px;\n"]))),j=u.c.View(c||(c=Object(l.a)(["\n\tposition: relative;\n\twidth: 100%;\n"]))),b=u.c.View(a||(a=Object(l.a)(["\n\tposition: absolute;\n\ttop: 0;\n\tright: 0;\n"]))),O=n(3),f=function(e){var t=e.data,n=JSON.stringify(t,null,"  ");return Object(O.jsx)(d,{multiline:!0,numberOfLines:n.split("\n").length,editable:!1,value:n})},m=n(46),h=u.c.View(o||(o=Object(l.a)(["\n\tpadding-left: 20px;\n"]))),x=function(e){var t=e.name,n=e.value;e.keyPath,e.deep;return Object(O.jsxs)(h,{style:{flexDirection:"row"},children:[Object(O.jsxs)(m.a,{type:"info",children:[t," : "]}),Object(O.jsx)(m.a,{children:String(n)})]})},p=n(27),y=n(20),v=n(823),g=n(171),w=function(e){var t=e.data,n=e.name,r=e.isCollapsed,c=e.onExpand,a=e.keyPath,o=void 0===a?[]:a,l=e.deep,u=void 0===l?0:l,d=-1===u?[]:[].concat(Object(p.a)(o),[n]),j=u+1,b=i.useState(r(d,u,t)),f=Object(s.a)(b,2),x=f[0],w=f[1];return Object(O.jsxs)(h,{children:[Object(O.jsxs)(y.a,{style:{flexDirection:"row"},children:[Object(O.jsxs)(g.a,{onPress:function(){x&&c(d,u,t),w(!x)},style:{flexDirection:"row",alignItems:"center"},children:[Object(O.jsx)(v.a,{direction:x?"right":"down"}),Object(O.jsxs)(m.a,{type:"info",children:[n," :"]})]}),x?function(){var e=Object.getOwnPropertyNames(t).length,n=0===e||e>1?"keys":"key";return Object(O.jsxs)(m.a,{type:"secondary",children:[" {...}"," ",e," ",n]})}():Object(O.jsx)(m.a,{children:" {"})]}),!x&&function(){var e=Object.getOwnPropertyNames(t).map((function(e){return Object(O.jsx)(S,{name:e,data:t[e],keyPath:d,deep:j,isCollapsed:r,onExpand:c},e)}));return Object(O.jsx)(y.a,{children:e})}(),!x&&Object(O.jsx)(m.a,{children:"}"})]})},C=function(e){var t=e.data,n=e.name,r=e.isCollapsed,c=e.onExpand,a=e.keyPath,o=void 0===a?[]:a,l=e.deep,u=void 0===l?0:l,d=-1===u?[]:[].concat(Object(p.a)(o),[n]),j=u+1,b=i.useState(r(d,u,t)),f=Object(s.a)(b,2),x=f[0],w=f[1];return Object(O.jsxs)(h,{children:[Object(O.jsxs)(y.a,{style:{flexDirection:"row"},children:[Object(O.jsxs)(g.a,{onPress:function(){x&&c(d,u,t),w(!x)},style:{flexDirection:"row",alignItems:"center"},children:[Object(O.jsx)(v.a,{direction:x?"right":"down"}),Object(O.jsxs)(m.a,{type:"info",children:[n," :"]})]}),x?function(){var e=t.length,n=0===e||e>1?"items":"item";return Object(O.jsxs)(m.a,{type:"secondary",children:[" [...]"," ",e," ",n]})}():Object(O.jsx)(m.a,{children:" ["})]}),!x&&function(){Object.getOwnPropertyNames(t);var e=t.map((function(e,t){return Object(O.jsx)(S,{name:"".concat(t),data:e,keyPath:d,deep:j,isCollapsed:r,onExpand:c},t)}));return Object(O.jsx)(y.a,{children:e})}(),!x&&Object(O.jsx)(m.a,{children:"]"})]})},_=n(840),S=function(e){var t=e.data,n=e.name,r=e.isCollapsed,c=void 0===r?function(e){return e.length>0}:r,a=e.onExpand,o=void 0===a?function(){}:a,s=e.keyPath,i=void 0===s?[]:s,l=e.deep,u=void 0===l?0:l;switch(Object(_.a)(t)){case"String":return Object(O.jsx)(x,{name:n,value:'"'.concat(t,'"'),originalValue:t,keyPath:i,deep:u,isCollapsed:c,onExpand:o});case"Number":return Object(O.jsx)(x,{name:n,value:t,originalValue:t,keyPath:i,deep:u,isCollapsed:c,onExpand:o});case"Boolean":return Object(O.jsx)(x,{name:n,value:!!t,originalValue:t,keyPath:i,deep:u,isCollapsed:c,onExpand:o});case"Date":return Object(O.jsx)(x,{name:n,value:t.toISOString(),originalValue:t,keyPath:i,deep:u,isCollapsed:c,onExpand:o});case"Null":return Object(O.jsx)(x,{name:n,value:"null",originalValue:"null",keyPath:i,deep:u,isCollapsed:c,onExpand:o});case"Undefined":return Object(O.jsx)(x,{name:n,value:"undefined",originalValue:"undefined",keyPath:i,deep:u,isCollapsed:c,onExpand:o});case"Object":return Object(O.jsx)(w,{name:n,data:t,keyPath:i,deep:u,isCollapsed:c,onExpand:o});case"Array":return Object(O.jsx)(C,{name:n,data:t,keyPath:i,deep:u,isCollapsed:c,onExpand:o});default:return null}},k=n(80),D=n(75),P=function(e){var t=e.data,n=e.rootName,r=void 0===n?"root":n,c=e.isCollapsed,a=e.onExpand,o=(e.fallback,i.useState(!1)),l=Object(s.a)(o,2),u=l[0],d=l[1];return Object(O.jsxs)(j,{children:[u?Object(O.jsx)(f,{data:t}):Object(O.jsx)(S,{data:t,name:r,deep:-1,isCollapsed:c,onExpand:a}),Object(O.jsx)(b,{children:Object(O.jsx)(k.a,{title:"raw",type:"secondary",background:"outline",size:"small",onPress:function(){return d(!u)},accessoryLeft:u?Object(O.jsx)(D.a,{size:"small",name:"visibility-off"}):Object(O.jsx)(D.a,{size:"small",name:"visibility"})})})]})}},821:function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var r,c,a,o,s,i=n(16),l=n(0),u=n(339),d=n(46),j=n(23),b=n(21),O=n(75),f=n(171),m=Object(b.c)(f.a)(r||(r=Object(j.a)(["\n\tdisplay: flex;\n\tflex-direction: row;\n\t","\n"])),(function(e){return e.disabled&&Object(b.b)(c||(c=Object(j.a)(["\n\t\t\topacity: 0.5;\n\t\t"])))})),h=b.c.View(a||(a=Object(j.a)(["\n\tflex: 0 1 auto;\n\talign-items: center;\n\tjustify-content: center;\n\tborder-style: solid;\n\tbackground-color: ",";\n\twidth: ",";\n\theight: ",";\n\tborder-width: ",";\n\tborder-color: ",";\n\tborder-radius: ",";\n"])),(function(e){var t=e.theme;return e.checked?t.CHECKBOX_BACKGROUND_COLOR:"transparent"}),(function(e){return e.theme.CHECKBOX_WIDTH}),(function(e){return e.theme.CHECKBOX_HEIGHT}),(function(e){return e.theme.CHECKBOX_BORDER_WIDTH}),(function(e){return e.theme.CHECKBOX_BORDER_COLOR}),(function(e){return e.theme.CHECKBOX_BORDER_RADIUS})),x=Object(b.c)(O.a)(o||(o=Object(j.a)(["\n\tcolor: #fff;\n"]))),p=b.c.View(s||(s=Object(j.a)(["\n\tflex: 1;\n\tdisplay: flex;\n\tflex-direction: column;\n\tpadding: 0 5px;\n"]))),y=n(3),v=function(e){var t=e.label,n=(e.checked,e.info);return Object(y.jsxs)(p,{children:[Object(y.jsx)(d.a,{children:t}),n&&Object(y.jsx)(d.a,{children:n})]})};function g(e){var t=e.checked,n=(e.hasError,e.disabled);e.focused,e.hovered,e.pressed;return Object(y.jsx)(h,{checked:t,children:t&&Object(y.jsx)(x,{name:"check",size:"small",disabled:n,color:"#FFF"})})}var w=function(e){var t=e.label,n=e.disabled,r=e.helpText,c=e.checked,a=void 0!==c&&c,o=e.onChange,s=Object(u.a)(a,o),d=Object(i.a)(s,2),j=d[0],b=d[1],O=l.useCallback((function(){return null===b||void 0===b?void 0:b(!j)}),[j,b]);return Object(y.jsxs)(m,{disabled:n,onPress:O,children:[Object(y.jsx)(g,{checked:j,disabled:n}),Object(y.jsx)(v,{label:t,checked:j,info:r})]})}},822:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r,c,a,o=n(1),s=n(25),i=n(0),l=n(131),u=n(75),d=n(337),j=n(23),b=n(21),O=b.c.View(r||(r=Object(j.a)(["\n\tflex-direction: row;\n\twidth: 100%;\n\talign-items: center;\n"]))),f=b.c.View(c||(c=Object(j.a)(["\n\tflex: 1;\n"]))),m=b.c.View(a||(a=Object(j.a)(["\n\tflex-direction: row;\n"]))),h=n(3),x=["actions","onSearch","filters"],p=function(e){var t=e.actions,n=e.onSearch,r=e.filters,c=Object(s.a)(e,x),a=i.useMemo((function(){if(r)return r.map((function(e){var t=e.label,n=e.onRemove;return Object(h.jsx)(d.a,{removable:!0,onRemove:n,children:t})}))}),[r]);return Object(h.jsxs)(O,{children:[Object(h.jsx)(f,{children:Object(h.jsx)(l.a,Object(o.a)({hideLabel:!0,clearable:!0,onChange:n,leftAccessory:a},c))}),t&&Object(h.jsx)(m,{children:t.map((function(e){return i.isValidElement(e)?e:Object(h.jsx)(u.a,{name:e.name,onPress:e.action})}))})]})}},823:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));n(0);var r,c,a,o,s,i=n(23),l=n(21),u=l.c.View(r||(r=Object(i.a)(["\n\twidth: 8px;\n\theight: 8px;\n"]))),d=l.c.View(c||(c=Object(i.a)(["\n\tborder-top-width: 4px;\n\tborder-bottom-width: 4px;\n\tborder-right-width: 4px;\n\tborder-right-color: ",";\n\tborder-top-color: transparent;\n\tborder-bottom-color: transparent;\n"])),(function(e){return e.theme.COLOR_PRIMARY})),j=l.c.View(a||(a=Object(i.a)(["\n\tborder-top-width: 4px;\n\tborder-bottom-width: 4px;\n\tborder-left-width: 4px;\n\tborder-left-color: ",";\n\tborder-top-color: transparent;\n\tborder-bottom-color: transparent;\n"])),(function(e){return e.theme.COLOR_PRIMARY})),b=l.c.View(o||(o=Object(i.a)(["\n\tborder-left-width: 4px;\n\tborder-right-width: 4px;\n\tborder-bottom-width: 4px;\n\tborder-bottom-color: ",";\n\tborder-left-color: transparent;\n\tborder-right-color: transparent;\n"])),(function(e){return e.theme.COLOR_PRIMARY})),O=l.c.View(s||(s=Object(i.a)(["\n\tborder-left-width: 4px;\n\tborder-right-width: 4px;\n\tborder-top-width: 4px;\n\tborder-top-color: ",";\n\tborder-left-color: transparent;\n\tborder-right-color: transparent;\n"])),(function(e){return e.theme.COLOR_PRIMARY})),f=n(3),m=function(e){var t=e.direction,n=void 0===t?"down":t;e.size;return Object(f.jsx)(u,{children:function(){switch(n){case"left":return Object(f.jsx)(d,{});case"right":return Object(f.jsx)(j,{});case"up":return Object(f.jsx)(b,{});default:return Object(f.jsx)(O,{})}}()})}},824:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(16),c=n(0),a=n(864),o=n(805),s=n(811),i=n(858),l=n(94),u=n(108),d=function(e,t){var n=Object(u.b)(),d=n.storeDB,j=d.collections[e],b=c.useState(t),O=Object(r.a)(b,2),f=O[0],m=O[1];Object(l.p)();if(!j)throw Error("Collection not found");var h=Object(a.a)((function(e){return e.pipe(Object(o.a)((function(e){var t=Object(r.a)(e,1)[0];return j.query(t).$})),Object(s.a)(1),Object(i.a)((function(e){return console.error(e),e})))}),[f]);return{data$:h,query:f,setQuery:m}}},825:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return o}));n(0);var r=n(50),c=n(521),a=n(3),o=(function(){var t=function(e,t,n){return Math.min(Math.max(t,e),n)};t._closure={},t.asString="function _f(value,lowerBound,upperBound){return Math.min(Math.max(lowerBound,value),upperBound);}",t.__workletHash=5192855762164,t.__location="/home/runner/work/client/client/packages/common/src/components/draggable/draggable.tsx (11:14)",e.__reanimatedWorkletInit(t)}(),function(t){var n=t.children,o=t.onStart,s=t.onActive,i=t.onEnd,l=(t.minX,t.minY,t.maxX,t.maxY,Object(r.d)({onStart:function(){const t=function(e,t){o&&o(e,t)};return t._closure={_onStart:o},t.asString="function onStart(event,ctx){const{_onStart}=jsThis._closure;{if(_onStart){_onStart(event,ctx);}}}",t.__workletHash=0xdec80fc8533,t.__location="/home/runner/work/client/client/packages/common/src/components/draggable/draggable.tsx",e.__reanimatedWorkletInit(t),t}(),onActive:function(){const t=function(e,t){s&&s(e,t)};return t._closure={_onActive:s},t.asString="function onActive(event,ctx){const{_onActive}=jsThis._closure;{if(_onActive){_onActive(event,ctx);}}}",t.__workletHash=0xc1905c1c1d3,t.__location="/home/runner/work/client/client/packages/common/src/components/draggable/draggable.tsx",e.__reanimatedWorkletInit(t),t}(),onEnd:function(){const t=function(e,t){i&&i(e,t)};return t._closure={_onEnd:i},t.asString="function onEnd(event,ctx){const{_onEnd}=jsThis._closure;{if(_onEnd){_onEnd(event,ctx);}}}",t.__workletHash=5282268739699,t.__location="/home/runner/work/client/client/packages/common/src/components/draggable/draggable.tsx",e.__reanimatedWorkletInit(t),t}()}));return Object(a.jsx)(c.b,{onGestureEvent:l,children:n})})}).call(this,n(38))},826:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return s}));n(0);var r=n(20),c=n(50),a=n(841),o=n(3),s=function(t){var n=t.open,s=t.children,i=Object(c.f)(),l=Object(c.h)(function(){const t=function(){return n?Object(c.m)(1):Object(c.m)(0)};return t._closure={open:n,withTiming:c.m},t.asString="function _f(){const{open,withTiming}=jsThis._closure;{return open?withTiming(1):withTiming(0);}}",t.__workletHash=0xdfa6b0f450c,t.__location="/home/runner/work/client/client/packages/common/src/components/collapsible/collapsible.tsx (34:34)",e.__reanimatedWorkletInit(t),t}()),u=Object(c.i)(0),d=Object(c.g)(function(){const t=function(){return{height:u.value*l.value,opacity:l.value}};return t._closure={height:u,progress:l},t.asString="function _f(){const{height,progress}=jsThis._closure;{return{height:height.value*progress.value,opacity:progress.value};}}",t.__workletHash=7619090238724,t.__location="/home/runner/work/client/client/packages/common/src/components/collapsible/collapsible.tsx (37:32)",e.__reanimatedWorkletInit(t),t}());return Object(o.jsx)(a.a,{as:c.a.View,style:d,children:Object(o.jsx)(r.a,{ref:i,onLayout:function(e){var t=e.nativeEvent.layout.height;u.value=t},children:s})})}}).call(this,n(38))},830:function(e,t,n){"use strict";var r=n(825);n.d(t,"a",(function(){return r.a}))},831:function(e,t,n){"use strict";var r=n(16),c=n(0);t.a=function(){var e=c.useState(null),t=Object(r.a)(e,2),n=t[0],a=t[1];return[n,c.useCallback((function(e){var t=e.nativeEvent;a(t.layout)}),[a])]}},840:function(module,__webpack_exports__,__webpack_require__){"use strict";function getObjectType(e){return null===e||"object"!==typeof e||Array.isArray(e)||"function"!==typeof e[Symbol.iterator]?Object.prototype.toString.call(e).slice(8,-1):"Iterable"}function parse(string){var result=string;if(0===result.indexOf("function"))return eval("(".concat(result,")"));try{result=JSON.parse(string)}catch(e){}return result}__webpack_require__.d(__webpack_exports__,"a",(function(){return getObjectType}))},841:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r,c=n(23),a=n(21).c.View(r||(r=Object(c.a)(["\n\toverflow: hidden;\n"])))},842:function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return j}));var r,c,a,o,s=n(23),i=n(21),l=i.c.View(r||(r=Object(s.a)(["\n\theight: 100%;\n\tflex-direction: row;\n\tpadding: ",";\n"])),(function(e){var t=e.theme;return"".concat(t.PAGE_MAIN_PADDING_Y," ").concat(t.PAGE_MAIN_PADDING_X)})),u=i.c.View(c||(c=Object(s.a)(["\n\theight: 100%;\n\tflex-grow: 0;\n\tflex-shrink: 0;\n\tflex-basis: 60%;\n"]))),d=i.c.View(a||(a=Object(s.a)(["\n\theight: 100%;\n\tflex: 1;\n"]))),j=i.c.View(o||(o=Object(s.a)(["\n\theight: 100%;\n\tflex: 1;\n"])))},848:function(e,t,n){"use strict";n.d(t,"a",(function(){return Pe}));var r,c,a,o,s,i,l,u,d,j,b=n(1),O=n(16),f=n(0),m=n(20),h=n(812),x=n(864),p=n(806),y=n(805),v=n(85),g=n(172),w=n(46),C=n(337),_=n(819),S=n(334),k=n(863),D=n(815),P=n(75),B=n(171),R=n(4),A=n.n(R),E=n(11),N=n(80),I=n(335),T=n(23),V=n(21),L=n(135),G=V.c.View(r||(r=Object(T.a)([""]))),M=V.c.View(c||(c=Object(T.a)(["\n\tflex-direction: row;\n"]))),H=Object(V.c)(L.a)(a||(a=Object(T.a)(["\n\tflex: 1;\n"]))),$=V.c.View(o||(o=Object(T.a)(["\n\tjustify-content: space-between;\n\tflex-wrap: wrap;\n\tflex-direction: row;\n"]))),F=Object(V.c)(B.a)(s||(s=Object(T.a)(["\n\tflex-grow: 1;\n\tflex-shrink: 0;\n\tflex-basis: 30%;\n\talign-items: center;\n\tmargin: 1px;\n"]))),q=Object(V.c)(L.a)(i||(i=Object(T.a)([""]))),U=n(3),W=["7","8","9","4","5","6","1","2","3","-","0","."],Q=function(e){e.display;var t=e.placeholder,n=void 0===t?"0":t,r=f.useState(n),c=Object(O.a)(r,2),a=c[0],o=c[1];return Object(U.jsxs)(G,{children:[Object(U.jsxs)(M,{children:[Object(U.jsx)(H,{children:a}),Object(U.jsx)(P.a,{name:"backspace",onPress:function(){o(a)}})]}),Object(U.jsx)($,{children:W.map((function(e){return Object(U.jsx)(F,{onPress:function(){return function(e){o(a+e)}(e)},children:Object(U.jsx)(q,{children:e})},"button-".concat(e))}))})]})},K=function(e){var t=e.lineItem,n=f.useState(!1),r=Object(O.a)(n,2),c=r[0],a=r[1],o=Object(h.a)(t.quantity$,t.quantity);return Object(U.jsx)(I.a,{open:c,onRequestClose:function(){return a(!1)},activator:Object(U.jsx)(N.a,{title:String(o),onPress:function(){return a(!0)},background:"outline"}),children:Object(U.jsx)(Q,{placeholder:String(o)})})},X=function(e){var t=e.lineItem,n=Object(h.a)(t.price$,t.price);return Object(U.jsx)(N.a,{title:String(n),onPress:function(){console.log("numpad")},background:"outline"})},z=n(818),Y=function(e){var t=e.item,n=e.type,r=void 0===n?"total":n,c=Object(h.a)(t["".concat(r,"$")],t[r]);return Object(S.a)("CartLineItemTotal",{item:t,total:c}),Object(U.jsx)(z.a.Currency,{children:c})},J=function(e){var t=e.item,n=e.type,r=void 0===n?"totalTax":n,c=Object(h.a)(t["".concat(r,"$")],t[r]);return Object(U.jsx)(w.a,{children:c})},Z=n(429),ee=n(816),te=n(102),ne=n(131),re=n(821),ce=V.c.View(l||(l=Object(T.a)([""]))),ae=V.c.View(u||(u=Object(T.a)(["\n\tflex-direction: row;\n"]))),oe=V.c.View(d||(d=Object(T.a)(["\n\tflex: 1;\n\tpadding: 5px;\n"]))),se=function(e){var t=e.data,n=function(){console.log("hi")};return Object(U.jsx)(ce,{children:null===t||void 0===t?void 0:t.map((function(e){return Object(U.jsxs)(ae,{children:[Object(U.jsx)(oe,{children:Object(U.jsx)(ne.a,{label:"Key",value:e.key})}),Object(U.jsx)(oe,{children:Object(U.jsx)(ne.a,{label:"Value",value:e.value})}),Object(U.jsx)(P.a,{name:"add",onPress:n})]},e.key)}))})},ie=function(e){var t=e.item,n=e.onClose;Object(h.a)(t.$);var r=function(){var e=Object(E.a)(A.a.mark((function e(n){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.atomicPatch({taxClass:n});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c=function(e){return t.collection.schema.topLevelFields.includes(e)};return Object(U.jsx)(te.a,{title:t.name||t.methodTitle,open:!0,onClose:n,primaryAction:{label:"Save",action:n},children:Object(U.jsxs)(te.a.Section,{children:[c("name")&&Object(U.jsx)(ne.a,{label:"Name",value:t.name}),c("taxStatus")&&Object(U.jsx)(re.a,{label:"Taxable",checked:"taxable"===t.taxStatus,onChange:function(e){return t.atomicPatch({taxStatus:e?"taxable":"none"})}}),c("taxClass")&&Object(U.jsx)(ne.a,{label:"Tax Class",value:t.taxClass,onChange:r}),Object(U.jsx)(se,{data:t.metaData})]})})},le=function(e){var t=e.item,n=f.useState(!1),r=Object(O.a)(n,2),c=r[0],a=r[1],o=f.useContext(ee.a).currentOrder,s=function(e){var t=f.useContext(Z.a);return f.useCallback((function(){return t.show(e)}),[t,e])}({message:"Item removed",dismissable:!0,action:{label:"Undo",action:function(){console.log("Undo remove",t)}}});return Object(U.jsxs)(m.a,{style:{flexDirection:"row",alignItems:"center"},children:[Object(U.jsx)(P.a,{name:"more-vert",size:"large",onPress:function(){return a(!0)},backgroundStyle:"none"}),Object(U.jsx)(P.a,{name:"remove",size:"x-large",onPress:function(){null===o||void 0===o||o.removeCartLine(t),s()},backgroundStyle:"none",type:"critical"}),c&&Object(U.jsx)(ie,{item:t,onClose:function(){return a(!1)}})]})},ue=function(e){var t=e.item,n=e.columns;return Object(S.a)("CartLineItem",{item:t,columns:n}),Object(U.jsx)(D.a.Body.Row,{rowData:t,columns:n,children:function(e){var n=e.getCellProps,r=n(),c=(r.cellData,r.column);return Object(U.jsx)(D.a.Body.Row.Cell,Object(b.a)(Object(b.a)({},n()),{},{children:function(){switch(c.key){case"quantity":return Object(U.jsx)(K,{lineItem:t});case"price":return Object(U.jsx)(X,{lineItem:t});case"subtotalTax":return Object(U.jsx)(J,{item:t,type:"subtotalTax"});case"subtotal":return Object(U.jsx)(Y,{item:t,type:"subtotal"});case"totalTax":return Object(U.jsx)(J,{item:t});case"total":return Object(U.jsx)(Y,{item:t});case"actions":return Object(U.jsx)(le,{item:t});default:return null}}()}))}})},de=function(e){var t=e.item,n=Object(h.a)(t.total$,t.total);return Object(U.jsx)(N.a,{title:n,onPress:function(){console.log("numpad")},background:"outline"})},je=function(e){var t=e.fee,n=e.columns;return Object(U.jsx)(D.a.Body.Row,{rowData:t,columns:n,children:function(e){var n=e.getCellProps,r=n(),c=(r.cellData,r.column);return Object(U.jsx)(D.a.Body.Row.Cell,Object(b.a)(Object(b.a)({},n()),{},{children:function(){switch(c.key){case"quantity":return Object(U.jsx)(U.Fragment,{});case"price":return Object(U.jsx)(de,{item:t});case"totalTax":return Object(U.jsx)(J,{item:t});case"actions":return Object(U.jsx)(le,{item:t});default:return null}}()}))}})},be=function(e){var t=e.shipping,n=e.columns;return Object(U.jsx)(D.a.Body.Row,{rowData:t,columns:n,children:function(e){var n=e.getCellProps,r=n(),c=(r.cellData,r.column);return Object(U.jsx)(D.a.Body.Row.Cell,Object(b.a)(Object(b.a)({},n()),{},{children:function(){switch(c.key){case"quantity":return Object(U.jsx)(U.Fragment,{});case"price":return Object(U.jsx)(de,{item:t});case"name":return Object(U.jsx)(w.a,{children:t.methodTitle});case"totalTax":return Object(U.jsx)(J,{item:t});case"actions":return Object(U.jsx)(le,{item:t});default:return null}}()}))}})},Oe=function(e){var t=e.order,n=e.columns,r=e.items,c=e.query,a=e.onSort,o=e.ui,s=Object(k.a)().t,i=f.useMemo((function(){return Object(U.jsxs)(m.a,{children:[Object(U.jsxs)(B.a,{style:{flexDirection:"row",padding:5,alignItems:"center"},onPress:function(){t.addFeeLine({name:"Fee",total:"10"})},children:[Object(U.jsx)(w.a,{style:{flex:1},children:"Add fee"}),Object(U.jsx)(P.a,{name:"addCircleOutline"})]}),Object(U.jsxs)(B.a,{style:{flexDirection:"row",padding:5,alignItems:"center"},onPress:function(){t.addShippingLine({methodTitle:"Shipping",methodId:"test",total:"5"})},children:[Object(U.jsx)(w.a,{style:{flex:1},children:"Add shipping"}),Object(U.jsx)(P.a,{name:"addCircleOutline"})]})]})}),[t]);return Object(S.a)("CartTable",{columns:n,items:r,query:c,onSort:a,ui:o}),Object(U.jsxs)(D.a,{columns:n,data:r,sort:a,sortBy:c.sortBy,sortDirection:c.sortDirection,footer:i,children:[Object(U.jsx)(D.a.Header,{children:Object(U.jsx)(D.a.Header.Row,{columns:n,children:function(e){var t=e.getHeaderCellProps,n=t().column;return Object(U.jsx)(D.a.Header.Row.Cell,Object(b.a)(Object(b.a)({},t()),{},{children:s("cart.column.label.".concat(n.key))}))}})}),Object(U.jsx)(D.a.Body,{children:function(e){var t=e.item;switch(t.collection.name){case"line_items":return Object(U.jsx)(ue,{item:t,columns:n});case"fee_lines":return Object(U.jsx)(je,{fee:t,columns:n});case"shipping_lines":return Object(U.jsx)(be,{shipping:t,columns:n});default:return null}}})]})},fe=n(254),me=n.n(fe),he=n(824),xe=n(339),pe=V.c.ScrollView(j||(j=Object(T.a)(["\n\tmax-height: 200px;\n"]))),ye=function(e){var t=e.label,n=e.choices,r=e.selected,c=void 0===r?null:r,a=e.onChange,o=e.placeholder,s=e.searchValue,i=e.onSearch,l=e.hideLabel,u=f.useState(!1),d=Object(O.a)(u,2),j=d[0],b=d[1],m=f.useCallback((function(){return b(!0)}),[]),h=Object(xe.b)(c,a),x=Object(O.a)(h,2),p=x[0],y=x[1],v=f.useMemo((function(){return n.map((function(e){return Object(U.jsx)(I.a.Item,{label:e.label,disabled:e.disabled,onSelect:function(){return y(e.value)}},e.key)}))}),[n,y]);return Object(U.jsx)(I.a,{open:j,activator:Object(U.jsx)(ne.a,{label:t,hideLabel:l,onFocus:m,placeholder:o,onChange:i,value:s||p,clearable:!0,onClear:function(){return y(null)}}),onRequestClose:function(){b(!1)},hideBackdrop:!0,matchWidth:!0,children:Object(U.jsx)(pe,{children:v})})},ve=function(e){var t=e.selectedCustomer,n=e.onSelectCustomer,r=Object(k.a)().t,c=Object(he.a)("customers",{search:"",sortBy:"lastName",sortDirection:"asc"}),a=c.data$,o=c.query,s=c.setQuery,i=f.useCallback((function(e){s((function(t){return Object(b.a)(Object(b.a)({},t),{},{search:e})}))}),[s]),l=Object(h.a)(a,[]),u=f.useMemo((function(){return me()(l,"lastName").map((function(e){return{label:"".concat(e.firstName," ").concat(e.lastName),value:e,key:e.localID}}))}),[l]);return Object(S.a)("Customer Select",{selectedCustomer:t,onSelectCustomer:n,customers:l,onSearch:i,query:o,setQuery:s,data$:a}),Object(U.jsx)(ye,{label:"Search customers",hideLabel:!0,choices:u,placeholder:r("customers.search.placeholder"),selected:t?"".concat(t.firstName," ").concat(t.lastName):"",onSearch:i,searchValue:o.search,onChange:n})},ge=n(108),we=n(820),Ce=function(e){var t=e.customer,n=Object(ge.b)().storeDB,r=f.useState(!1),c=Object(O.a)(r,2),a=c[0],o=c[1],s=f.useState(null===t||void 0===t?void 0:t.firstName),i=Object(O.a)(s,2),l=i[0],u=i[1],d=f.useState(null===t||void 0===t?void 0:t.email),j=Object(O.a)(d,2),b=j[0],m=j[1],h=f.useState(0),x=Object(O.a)(h,2),p=x[0],y=x[1],v=f.useCallback((function(){return o(!0)}),[]),g=f.useCallback((function(){return o(!1)}),[]),w=t?"Edit Customer":"Add Customer",C=function(){var e=Object(E.a)(A.a.mark((function e(){var r,c,a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t){e.next=8;break}return c=null===n||void 0===n?void 0:n.collections.customers,e.next=5,null===c||void 0===c?void 0:c.insert({firstName:l,email:b});case 5:e.sent,e.next=9;break;case 8:r.atomicPatch({firstName:l,email:b});case 9:r&&((a=r.syncRestApi({push:{}})).error$.subscribe((function(e){401===e.code&&console.log("need to login")})),a.run(!1));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=0===p?Object(U.jsxs)(te.a.Section,{children:[Object(U.jsx)(ne.a,{label:"First Name",value:l,onChange:u}),Object(U.jsx)(ne.a,{label:"Email",value:b,onChange:m})]}):Object(U.jsx)(te.a.Section,{children:t?Object(U.jsx)(we.a,{data:t.toJSON()}):null});return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(P.a,{name:"addCustomer",onPress:v,tooltip:"Add new customer"}),a&&Object(U.jsx)(te.a,{title:w,open:!0,onClose:g,primaryAction:{label:"Save",action:C},children:Object(U.jsx)(_.a,{tabs:["Form","JSON"],selected:p,onSelect:y,children:S})})]})},_e=n(817),Se=function(e){var t=e.order,n=Object(h.a)(t.total$,t.total),r=Object(h.a)(t.totalTax$,t.totalTax);return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsxs)(m.a,{style:{flexDirection:"row"},children:[Object(U.jsx)(m.a,{style:{flex:1},children:Object(U.jsx)(w.a,{children:"Total Tax:"})}),Object(U.jsx)(m.a,{children:Object(U.jsx)(w.a,{children:r})})]}),Object(U.jsxs)(m.a,{style:{flexDirection:"row"},children:[Object(U.jsx)(m.a,{style:{flex:1},children:Object(U.jsx)(w.a,{children:"Order Total:"})}),Object(U.jsx)(m.a,{children:Object(U.jsx)(w.a,{children:n})})]})]})},ke=(n(121),f.createContext((function(){}))),De=function(e){var t=e.order,n=f.useContext(ee.a).setCurrentOrder,r=f.useState(!1),c=Object(O.a)(r,2),a=c[0],o=c[1],s=f.useContext(ke);return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsxs)(N.a.Group,{style:{marginBottom:5},children:[Object(U.jsx)(N.a,{title:"Add Note",background:"outline",onPress:function(){t.atomicPatch({customerNote:"This is a note!"})}}),Object(U.jsx)(N.a,{title:"Order Meta",background:"outline",onPress:function(){o(!0)}}),Object(U.jsx)(N.a,{title:"Save",background:"outline",onPress:Object(E.a)(A.a.mark((function e(){var n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=t.syncRestApi({push:{}})).error$.subscribe((function(e){401===e.code&&s()})),n.run(!1);case 3:case"end":return e.stop()}}),e)})))})]}),Object(U.jsxs)(N.a.Group,{children:[Object(U.jsx)(N.a,{title:"Void",type:"critical",onPress:Object(E.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.remove(),n(void 0);case 2:case"end":return e.stop()}}),e)}))),style:{width:"80px"}}),Object(U.jsx)(N.a,{title:"Checkout",accessoryRight:Object(U.jsx)(w.a,{type:"inverse",children:t.total}),type:"success",onPress:Object(E.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.atomicPatch({status:"pos-checkout"});case 1:case"end":return e.stop()}}),e)})))})]}),a&&Object(U.jsx)(te.a,{title:"Order Data",open:!0,onClose:function(){return o(!1)},primaryAction:{label:"Save",action:function(){return o(!1)}},children:Object(U.jsxs)(te.a.Section,{children:[Object(U.jsx)(ne.a,{label:"Order Number",value:t.number}),Object(U.jsx)(re.a,{label:"Price Includes Tax",checked:t.pricesIncludeTax,onChange:function(e){return t.atomicPatch({pricesIncludeTax:e})}}),Object(U.jsx)(se,{data:t.metaData}),Object(U.jsx)(ne.a,{label:"Currency Symbol",value:t.currencySymbol})]})})]})},Pe=function(e){var t=e.ui,n=e.orders,r=void 0===n?[]:n;Object(S.a)("Cart",{ui:t,orders:r});var c=f.useContext(ee.a),a=c.currentOrder,o=c.setCurrentOrder,s=c.currentCustomer,i=c.setCurrentCustomer,l=Object(h.a)((function(){return t.get$("columns")}),t.get("columns")),u=Object(O.a)(l,1)[0],d=f.useState({sortBy:"id",sortDirection:"asc"}),j=Object(O.a)(d,2),k=j[0],D=j[1],P=f.useCallback((function(e){var t=e.sortBy,n=e.sortDirection;D(Object(b.a)(Object(b.a)({},k),{},{sortBy:t,sortDirection:n}))}),[k]),B=Object(x.a)((function(e){return e.pipe(Object(p.a)((function(e){var t=Object(O.a)(e,2),n=t[0];t[1];return Object(v.e)(n)})),Object(y.a)((function(e){var t=Object(O.a)(e,2),n=t[0];t[1];return n.cart$})))}),[a,k]),R=Object(h.a)(B,[]),A=f.useCallback((function(e){a&&a.addCustomer(e),i(e)}),[a,i]),E=f.useMemo((function(){return r.map((function(e){return e.total}))}),[r]),N=f.useCallback((function(e){o(r[e])}),[r,o]);return Object(U.jsx)(_.a,{tabs:E,selected:0,onSelect:N,position:"bottom",children:Object(U.jsxs)(g.a.Group,{children:[Object(U.jsxs)(g.a,{style:{flexDirection:"row",alignItems:"center"},children:[Object(U.jsx)(m.a,{style:{flex:1},children:s?Object(U.jsxs)(m.a,{style:{flexDirection:"row",alignItems:"center"},children:[Object(U.jsx)(w.a,{children:"Customer: "}),Object(U.jsx)(C.a,{removable:!0,onPress:function(){console.log("edit customer")},onRemove:function(){i(void 0)},children:"".concat(s.firstName," ").concat(s.lastName)})]}):Object(U.jsx)(ve,{onSelectCustomer:A})}),Object(U.jsx)(Ce,{}),Object(U.jsx)(_e.a,{ui:t})]}),a?Object(U.jsxs)(g.a.Group,{grow:!0,children:[Object(U.jsx)(g.a,{grow:!0,children:Object(U.jsx)(Oe,{order:a,items:R,columns:u,query:k,onSort:P,ui:t})}),Object(U.jsx)(g.a,{children:Object(U.jsx)(Se,{order:a})}),Object(U.jsx)(g.a,{children:Object(U.jsx)(De,{order:a})})]}):Object(U.jsx)(g.a,{content:"Add item to cart",grow:!0})]})})}},850:function(e,t,n){"use strict";n.d(t,"a",(function(){return P}));var r,c,a,o,s,i=n(4),l=n.n(i),u=n(11),d=n(0),j=n(172),b=n(46),O=n(3),f=function(e){var t=e.src,n=e.title,r=e.onError,c=e.onMessage,a=e.onLoad;return d.useEffect((function(){if("function"===typeof c)return window.addEventListener("message",c),function(){window.removeEventListener("message",c)}}),[]),Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("iframe",{title:n,src:t,onLoad:a,onError:r,width:"100%",height:"100%",allowpaymentrequest:!0})})},m=n(80),h=n(16),x=n(826),p=n(23),y=n(21),v=n(255),g=n(171),w=y.c.View(r||(r=Object(p.a)([""]))),C=Object(y.c)(g.a)(c||(c=Object(p.a)([""]))),_=Object(y.c)(v.a)(a||(a=Object(p.a)([""]))),S=(y.c.View(o||(o=Object(p.a)([""]))),Object(y.c)(v.a)(s||(s=Object(p.a)([""])))),k=function(e){var t=e.items,n=d.useState(null),r=Object(h.a)(n,2),c=r[0],a=r[1];return Object(O.jsx)(w,{children:t.map((function(e,t){var n=e.label,r=e.content;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(C,{onPress:function(){a(t===c?null:t)},children:Object(O.jsx)(_,{children:n})}),Object(O.jsx)(x.a,{open:t===c,children:"string"===typeof r?Object(O.jsx)(S,{children:r}):r})]})}))})},D=n(816),P=function(){var e,t=d.useContext(D.a),n=t.currentOrder,r=(t.currentCustomer,null===n||void 0===n||null===(e=n.metaData)||void 0===e?void 0:e.find((function(e){return"_pos_checkout_url"===e.key})));if("pos-checkout"!==(null===n||void 0===n?void 0:n.status))throw Error("Order does not have the right status");return d.useEffect((function(){function e(){return(e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=null===n||void 0===n?void 0:n.syncRestApi({push:{}})).error$.subscribe((function(e){console.log(e)})),t.run(!1);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[n]),Object(O.jsxs)(j.a.Group,{children:[Object(O.jsx)(j.a,{children:Object(O.jsxs)(b.a,{children:["Order Total: ",null===n||void 0===n?void 0:n.total]})}),Object(O.jsx)(j.a,{grow:!0,children:(null===r||void 0===r?void 0:r.value)?Object(O.jsx)(k,{items:[{label:"Stripe",content:Object(O.jsx)(f,{src:"".concat(null===r||void 0===r?void 0:r.value,"&wcpos=1&gateway=stripe")})},{label:"BACS",content:Object(O.jsx)(f,{src:"".concat(null===r||void 0===r?void 0:r.value,"&wcpos=1&gateway=bacs")})},{label:"Cheque",content:Object(O.jsx)(f,{src:"".concat(null===r||void 0===r?void 0:r.value,"&wcpos=1&gateway=cheque")})},{label:"COD",content:Object(O.jsx)(f,{src:"".concat(null===r||void 0===r?void 0:r.value,"&wcpos=1&gateway=cod")})},{label:"PayPal",content:Object(O.jsx)(f,{src:"".concat(null===r||void 0===r?void 0:r.value,"&wcpos=1&gateway=paypal")})}]}):null}),Object(O.jsx)(j.a,{children:Object(O.jsx)(m.a,{title:"Go Back",onPress:function(){n.atomicPatch({status:"pos-open"})}})})]})}},851:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));n(0);var r,c,a=n(322),o=n(23),s=n(21),i=n(76),l=s.c.View(r||(r=Object(o.a)(["\n\theight: 100%;\n\talign-items: center;\n\tjustify-content: center;\n\tbackground-color: ",";\n\twidth: 10px;\n\n\t","}\n"])),(function(e){return e.hovered?"#f5f5f5":"transparent"}),"ios"!==i.a.OS&&"android"!==i.a.OS&&Object(s.b)(c||(c=Object(o.a)(["\n\t\t\tcursor: col-resize;\n\t\t"])))),u=n(75),d=n(3),j=function(e){var t=e.children,n=e.style;return Object(d.jsx)(a.a,{style:[{flexDirection:"row",height:"100%"},n],children:function(e){var n=e.hovered;return Object(d.jsx)(l,{hovered:n,children:t||Object(d.jsx)(u.a,{name:"more-vert"})})}})}},852:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n(1),c=n(16),a=n(0),o=n(864),s=n(812),i=n(805),l=n(858),u=n(40),d=n.n(u),j=n(336),b=n.n(j),O=n(108),f=n(172),m=n(822),h=n(46),x=n(121),p=n(94),y=n(817),v=n(3),g=function(e){var t=e.ui,n=e.storeDB,u=Object(s.a)((function(){return t.get$("columns")}),t.get("columns")),j=(Object(c.a)(u,1)[0],Object(s.a)(null===n||void 0===n?void 0:n.collections.products.totalRecords$)),g=a.useState(!1),w=Object(c.a)(g,2),C=(w[0],w[1],a.useState(0)),_=Object(c.a)(C,2),S=_[0],k=(_[1],function(){var e=Object(O.b)().storeDB,t=a.useState({search:"",sortBy:"name",sortDirection:"asc",filters:{category:null,tag:null}}),n=Object(c.a)(t,2),r=n[0],s=n[1];return{data$:Object(o.a)((function(t){return t.pipe(Object(i.a)((function(t){var n=Object(c.a)(t,1)[0];return e.products.query(n).$})),Object(l.a)((function(e){return console.error(e),e})))}),[r]),query:r,setQuery:s}}()),D=k.data$,P=k.query,B=k.setQuery,R=Object(s.a)(D,[]);!function(){var e=Object(O.b)(),t=e.storeDB,n=e.site,r=e.wpCredentials,c=Object(p.p)();a.useEffect((function(){x.a.get("products",{baseURL:n.wcApiUrl,params:{fields:["id","name"],posts_per_page:-1},headers:{"X-WCPOS":"1","X-WP-Nonce":"c7e0b25917",Authorization:"Bearer ".concat(r.jwt)}}).then((function(e){var n=e.data;return t.products.auditIdsFromServer(n)})).catch((function(e){var t=e.response;console.log(t),401===t.status&&c.navigate("Modal",{login:!0}),403===t.status&&console.log("invalid nonce")}))}),[c,n.wcApiUrl,t.products,r.jwt])}(),console.log(R);var A=a.useCallback((function(e){B((function(t){return Object(r.a)(Object(r.a)({},t),{},{search:e})}))}),[B]),E=a.useMemo((function(){var e=[];return d()(P,"filters.category")&&e.push({label:d()(P,"filters.category.name"),onRemove:function(){B((function(e){return b()(Object(r.a)({},e),"filters.category",null)}))}}),d()(P,"filters.tag")&&e.push({label:d()(P,"filters.tag.name"),onRemove:function(){B((function(e){return b()(Object(r.a)({},e),"filters.tag",null)}))}}),e}),[P,B]);return Object(v.jsxs)(f.a.Group,{children:[Object(v.jsx)(f.a,{children:Object(v.jsx)(m.a,{label:"Search Products",placeholder:"Search Products",value:P.search,onSearch:A,actions:[Object(v.jsx)(y.a,{ui:t})],filters:E})}),Object(v.jsx)(f.a,{style:{alignItems:"flex-end"},children:Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)(h.a,{children:["Showing ",S," of ",j]})})})]})}},861:function(e,t,n){"use strict";n.r(t);var r,c,a,o=n(0),s=n(94),i=n(859),l=n(816),u=n(1),d=n(16),j=n(808),b=n(812),O=n(40),f=n.n(O),m=n(336),h=n.n(m),x=n(824),p=n(172),y=n(46),v=n(108),g=n(338),w=n(822),C=n(863),_=n(253),S=n.n(_),k=n(254),D=n.n(k),P=n(815),B=n(334),R=n(3),A=function(e){var t=e.item,n=e.column;return Object(R.jsx)(y.a,{children:String(t[n.key])})},E=o.memo((function(e){var t=e.item,n=e.columns,r=e.cells,c=e.setQuery,a=Object(b.a)(t.$);return Object(B.a)("Common Table Row",{forceRender:a,item:t,columns:n,cells:r}),Object(R.jsx)(P.a.Body.Row,{rowData:t,columns:n,children:function(e){var n=e.column,a=e.getCellProps,o=r[n.key]?r[n.key]:A;return Object(R.jsx)(P.a.Body.Row.Cell,Object(u.a)(Object(u.a)({},a()),{},{children:Object(R.jsx)(o,{item:t,column:n,setQuery:c})}))}})})),N=o.memo((function(e){var t=e.collection,n=e.columns,r=e.data$,c=e.setQuery,a=e.sortBy,s=e.sortDirection,i=e.cells,l=Object(C.a)().t,d=Object(b.a)(r,[]),j=o.useCallback((function(e){var t=e.sortBy,n=e.sortDirection;c((function(e){return Object(u.a)(Object(u.a)({},e),{},{sortBy:t,sortDirection:n})}))}),[c]),O=o.useMemo((function(){return S()(t.schema.indexes).includes(a)?d:D()(d,[a],[s])}),[a,s,t.schema.indexes,d]),f=o.useCallback((function(e,t){return{length:100,offset:100*t,index:t}}),[]);return Object(B.a)("Common Table",{collection:t,columns:n,data:d,maybeSortedData:O,setQuery:c,_sortBy:a,_sortDirection:s,cells:i,t:l}),Object(R.jsxs)(P.a,{columns:n,data:O,sort:j,sortBy:a,sortDirection:s,getItemLayout:f,children:[Object(R.jsx)(P.a.Header,{children:Object(R.jsx)(P.a.Header.Row,{children:function(e){var n=e.getHeaderCellProps,r=n().column;return Object(R.jsx)(P.a.Header.Row.Cell,Object(u.a)(Object(u.a)({},n()),{},{children:l("".concat(t.name,".column.label.").concat(r.key))}))}})}),Object(R.jsx)(P.a.Body,{children:function(e){var t=e.item;return Object(R.jsx)(E,{item:t,columns:n,cells:i,setQuery:c})}})]})})),I=n(817),T=n(343),V=function(e){var t=e.item;return Object(R.jsx)(T.a,{src:t.thumbnail,style:{width:100,height:100}})},L=n(4),G=n.n(L),M=n(11),H=n(131),$=function(e){var t=e.item,n=function(){var e=Object(M.a)(G.a.mark((function e(n){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.atomicPatch({name:n});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(R.jsx)(H.a,{label:"Name",value:t.name,onChange:n,hideLabel:!0})},F=n(337),q=function(e){var t=e.item,n=e.setQuery,r=t.categories,c=o.useCallback((function(e){n((function(t){return h()(Object(u.a)({},t),"filters.category",e)}))}),[n]),a=o.useMemo((function(){return Array.isArray(r)?r.map((function(e){return{key:e.id,label:e.name,action:function(){return c(e)}}})):[]}),[r,c]);return r?Object(R.jsx)(F.a.Group,{tags:a}):Object(R.jsx)(F.a.Group.Skeleton,{numberOfTags:2})},U=function(e){var t=e.item,n=e.setQuery,r=t.tags,c=o.useCallback((function(e){n((function(t){return h()(Object(u.a)({},t),"filters.tag",e)}))}),[n]),a=o.useMemo((function(){return Array.isArray(r)?r.map((function(e){return{key:e.id,label:e.name,action:function(){return c(e)}}})):[]}),[r,c]);return r?Object(R.jsx)(F.a.Group,{tags:a}):Object(R.jsx)(F.a.Group.Skeleton,{numberOfTags:2})},W=n(818),Q=function(e){var t=e.item,n=e.column;return Object(R.jsx)(W.a.Currency,{symbol:"$",children:t[n.key]})},K=n(335),X=n(400),z=n.n(X),Y=n(21),J=n(23),Z=n(171),ee=n(135),te=Y.c.View(r||(r=Object(J.a)([""]))),ne=Object(Y.c)(Z.a)(c||(c=Object(J.a)(["\n\tpadding: 5px 10px;\n"]))),re=Object(Y.c)(ee.a)(a||(a=Object(J.a)(["\n\t","\n"])),(function(e){var t=e.hovered,n=e.theme,r=e.type;return t&&"critical"===r|"warning"===r&&"\n    color: ".concat(n.TEXT_COLOR_INVERSE,";\n  ")})),ce=function(e){var t=e.children,n=e.label,r=void 0===n?"":n,c=e.onPress,a=e.action,s=e.type,i=e.style,l=Object(Y.d)(),u=o.useCallback((function(){"function"===typeof a&&a(),"function"===typeof c&&c(r)}),[a,r,c]),d=o.useCallback((function(e){var t=e.hovered,n=l.MENU_ITEM_HOVER_BACKGROUND_COLOR;if(s){var r="color_".concat(s).toUpperCase();n=l[r]}return[{backgroundColor:t?n:"transparent"},i]}),[i,l,s]);return Object(R.jsx)(ne,{onPress:u,style:d,children:function(e){var n=e.hovered;return Object(R.jsx)(re,{type:s,hovered:n,children:t||r})}})},ae=function(e){var t=e.items,n=e.onSelect,r=void 0===n?function(){}:n;return Object(R.jsx)(te,{children:t.map((function(e,t){var n="string"===typeof e?{label:e}:e;return Object(R.jsx)(ce,Object(u.a)(Object(u.a)({},n),{},{onPress:function(){r(n)}}),z()("".concat(n.label,"_").concat(t)))}))})};ae.Item=ce;var oe,se,ie,le,ue,de=n(823),je=function(e){var t=e.items,n=e.onSelect,r=e.activator,c=o.useState(!1),a=Object(d.a)(c,2),s=a[0],i=a[1],l=o.useCallback((function(){return i(!0)}),[]),u=o.useCallback((function(){return i(!1)}),[]),j=o.useMemo((function(){return"string"===typeof r?Object(R.jsxs)(y.a,{onPress:l,style:{alignItems:"center"},children:[r,Object(R.jsx)(de.a,{direction:s?"up":"down"})]}):o.isValidElement(r)&&"Icon"===f()(r,"type.name")?o.cloneElement(r,{onPress:l}):Object(R.jsxs)(Z.a,{onPress:l,style:{alignItems:"center"},children:[r,Object(R.jsx)(de.a,{direction:s?"up":"down"})]})}),[r,s,l]);return Object(R.jsx)(K.a,{activator:j,onRequestClose:u,open:s,hideBackdrop:!0,placement:"bottom-end",popoverStyle:{paddingLeft:0,paddingRight:0},children:Object(R.jsx)(ae,{items:t,onSelect:n})})},be=n(75),Oe=n(102),fe=n(819),me=n(820),he=n(122),xe=n(339),pe=n(440),ye=function(e){var t,n=e.label,r=e.choices,c=e.selected,a=void 0===c?null:c,s=e.onChange,i=e.placeholder,l=e.helpText,u=e.error,j=void 0!==u&&u,b=e.disabled,O=void 0!==b&&b,f=o.useState(!1),m=Object(d.a)(f,2),h=m[0],x=m[1],p=o.useCallback((function(){return x(!0)}),[]),y=o.useCallback((function(){return x(!1)}),[]),v=Object(xe.b)(a,s),g=Object(d.a)(v,2),w=g[0],C=g[1],_=o.useMemo((function(){return r.map((function(e){return"string"===typeof e?{label:e,value:e}:e}))}),[r]),S=o.useMemo((function(){return _.find((function(e){return e.value===w}))}),[_,w]),k=o.useMemo((function(){return _.map((function(e){return Object(R.jsx)(K.a.Item,{label:e.label,disabled:e.disabled,onSelect:function(){return t=e.value,C(t),void x(!1);var t}},e.value)}))}),[_,C]);return Object(R.jsx)(pe.a,{label:n,disabled:O,helpText:l,error:j,onLabelClick:p,children:Object(R.jsx)(K.a,{open:h,activator:Object(R.jsx)(pe.b,{value:null!==(t=null===S||void 0===S?void 0:S.label)&&void 0!==t?t:"",placeholder:i,disabled:O,focused:h,onPress:p,rightAccessory:Object(R.jsx)(de.a,{direction:h?"up":"down"}),style:{minWidth:"100px"}}),onRequestClose:y,popoverStyle:{maxHeight:300},placement:"bottom",hideBackdrop:!0,matchWidth:!0,children:Object(R.jsx)(he.a,{children:k})})})},ve=n(821),ge=function(e){var t=e.product,n=e.onClose,r=o.useState(0),c=Object(d.a)(r,2),a=c[0],s=c[1],i=0===a?Object(R.jsxs)(Oe.a.Section,{children:[Object(R.jsx)(H.a,{label:"Name",value:t.name}),Object(R.jsx)(ye,{label:"Status",choices:["draft","pending","private","publish"],selected:t.status}),Object(R.jsx)(H.a,{label:"Price",value:t.price}),Object(R.jsx)(H.a,{label:"Regular Price",value:t.regularPrice}),Object(R.jsx)(H.a,{label:"Sale Price",value:t.salePrice}),Object(R.jsx)(ve.a,{label:"On Sale",checked:t.onSale})]}):Object(R.jsx)(Oe.a.Section,{children:Object(R.jsx)(me.a,{data:t.toJSON()})});return Object(R.jsx)(Oe.a,{title:t.name,open:!0,onClose:n,primaryAction:{label:"Save"},children:Object(R.jsx)(fe.a,{tabs:["Product","JSON"],selected:a,onSelect:s,children:i})})},we=function(e){var t=e.product,n=e.onClose;return Object(R.jsx)(Oe.a,{title:"Confirm",open:!0,onClose:n,primaryAction:{label:"Delete",action:function(){console.log("delete locally and on server")},type:"critical"},secondaryActions:[{label:"Delete locally",action:t.remove},{label:"Cancel",action:n}],children:Object(R.jsx)(Oe.a.Section,{children:Object(R.jsxs)(y.a,{children:["You are about to delete ",t.name]})})})},Ce={image:V,name:$,categories:q,tags:U,regularPrice:Q,salePrice:Q,actions:function(e){var t=e.item,n=o.useState(!1),r=Object(d.a)(n,2),c=r[0],a=r[1],s=o.useState(!1),i=Object(d.a)(s,2),l=i[0],u=i[1];return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(je,{items:[{label:"Show",action:function(){return a(!0)}},{label:"Sync",action:function(){t.syncRestApi({push:{}}).run(!1)}},{label:"Delete",action:function(){return u(!0)},type:"critical"}],activator:Object(R.jsx)(be.a,{name:"more"})}),l&&Object(R.jsx)(we,{product:t,onClose:function(){return u(!1)}}),c&&Object(R.jsx)(ge,{product:t,onClose:function(){return a(!1)}})]})},dateCreated:function(e){var t=e.item,n=e.column;return t[n.key]?Object(R.jsx)(W.a.Date,{value:t[n.key]}):null}},_e=Y.c.View(oe||(oe=Object(J.a)(["\n\theight: 100%;\n\tflex-direction: row;\n\tflex: 1;\n\tpadding: ",";\n"])),(function(e){var t=e.theme;return"".concat(t.PAGE_MAIN_PADDING_Y," ").concat(t.PAGE_MAIN_PADDING_X)})),Se=function(){var e=Object(v.b)().storeDB,t=Object(g.b)(),n=Object(j.a)(t.products),r=Object(b.a)((function(){return n.get$("columns")}),n.get("columns")),c=Object(d.a)(r,1)[0],a=Object(b.a)(null===e||void 0===e?void 0:e.collections.products.totalRecords$),s=o.useState(!1),i=Object(d.a)(s,2),l=(i[0],i[1],o.useState(0)),O=Object(d.a)(l,2),m=O[0],C=(O[1],Object(x.a)("products",{search:"",sortBy:"name",sortDirection:"asc",filters:{category:null,tag:null}})),_=C.data$,S=C.query,k=C.setQuery,D=o.useCallback((function(e){k((function(t){return Object(u.a)(Object(u.a)({},t),{},{search:e})}))}),[k]);if(!e)throw Error("something went wrong");var P=o.useMemo((function(){var e=[];return f()(S,"filters.category")&&e.push({label:f()(S,"filters.category.name"),onRemove:function(){k((function(e){return h()(Object(u.a)({},e),"filters.category",null)}))}}),f()(S,"filters.tag")&&e.push({label:f()(S,"filters.tag.name"),onRemove:function(){k((function(e){return h()(Object(u.a)({},e),"filters.tag",null)}))}}),e}),[S,k]);return Object(R.jsx)(_e,{children:Object(R.jsxs)(p.a.Group,{children:[Object(R.jsx)(p.a,{children:Object(R.jsx)(w.a,{label:"Search Products",placeholder:"Search Products",value:S.search,onSearch:D,actions:[Object(R.jsx)(I.a,{ui:n})],filters:P})}),Object(R.jsx)(p.a,{grow:!0,children:Object(R.jsx)(N,{collection:e.collections.products,columns:c,data$:_,setQuery:k,sortBy:S.sortBy,sortDirection:S.sortDirection,cells:Ce})}),Object(R.jsx)(p.a,{style:{alignItems:"flex-end"},children:Object(R.jsx)(R.Fragment,{children:Object(R.jsxs)(y.a,{children:["Showing ",m," of ",a]})})})]})})},ke=n(179),De=function(e){var t=e.order,n=e.onClose,r=o.useState(0),c=Object(d.a)(r,2),a=c[0],s=c[1],i=0===a?Object(R.jsx)(Oe.a.Section,{children:Object(R.jsx)(H.a,{label:"Order Number",value:t.number})}):Object(R.jsx)(Oe.a.Section,{children:Object(R.jsx)(me.a,{data:t.toJSON()})});return Object(R.jsx)(Oe.a,{open:!0,title:"Order",onClose:n,primaryAction:{label:"Save "},children:Object(R.jsx)(fe.a,{tabs:["Order","JSON"],selected:a,onSelect:s,children:i})})},Pe=function(e){var t=e.item,n=o.useState(!1),r=Object(d.a)(n,2),c=r[0],a=r[1],i=Object(s.p)(),l=o.useCallback((function(){t.atomicPatch({status:"pos-open"}),i.navigate("POS",{currentOrder:t})}),[i,t]);return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(je,{items:[{label:"Show",action:function(){return a(!0)}},{label:"Open in Cart",action:l},{label:"Sync",action:function(){console.log("sync")}},{label:"Delete",action:t.remove}],activator:Object(R.jsx)(be.a,{name:"more"})}),c&&Object(R.jsx)(De,{order:t,onClose:function(){return a(!1)}})]})},Be=function(e){var t=e.item[e.column.key];return t?Object(R.jsx)(W.a.Address,{address:t,showName:!1}):Object(R.jsx)(y.a.Skeleton,{})},Re=function(e){var t=e.item;return t.customer_id?Object(R.jsx)(y.a,{children:t.customer_id}):Object(R.jsx)(y.a.Skeleton,{})},Ae=n(342),Ee={actions:Pe,billing:Be,shipping:Be,customer:Re,customerNote:function(e){var t=e.item;return t.note?Object(R.jsx)(Ae.a,{content:t.note,children:Object(R.jsx)(be.a,{name:"note"})}):null},status:function(e){var t=e.item;return t.status?Object(R.jsx)(Ae.a,{content:t.status,children:Object(R.jsx)(be.a,{name:t.status})}):Object(R.jsx)(be.a.Skeleton,{})}},Ne=Y.c.View(se||(se=Object(J.a)(["\n\theight: 100%;\n\tflex-direction: row;\n\tflex: 1;\n\tpadding: ",";\n"])),(function(e){var t=e.theme;return"".concat(t.PAGE_MAIN_PADDING_Y," ").concat(t.PAGE_MAIN_PADDING_X)})),Ie=function(){var e=Object(v.b)().storeDB,t=Object(g.b)(),n=Object(j.a)(t.orders),r=Object(b.a)((function(){return n.get$("columns")}),n.get("columns")),c=Object(d.a)(r,1)[0],a=Object(x.a)("orders",{search:"",sortBy:"dateCreatedGmt",sortDirection:"desc"}),s=a.data$,i=a.query,l=a.setQuery,O=o.useCallback((function(e){l((function(t){return Object(u.a)(Object(u.a)({},t),{},{search:e})}))}),[l]);if(!e)throw Error("something went wrong");return Object(R.jsx)(Ne,{children:Object(R.jsx)(o.Suspense,{fallback:Object(R.jsx)(ke.a,{children:"loading orders..."}),children:Object(R.jsxs)(p.a.Group,{children:[Object(R.jsx)(p.a,{children:Object(R.jsx)(w.a,{label:"Search Orders",placeholder:"Search Orders",value:i.search,onSearch:O,actions:[Object(R.jsx)(I.a,{ui:n})]})}),Object(R.jsx)(p.a,{grow:!0,children:Object(R.jsx)(N,{collection:e.collections.orders,columns:c,data$:s,setQuery:l,sortBy:i.sortBy,sortDirection:i.sortDirection,cells:Ee})}),Object(R.jsx)(p.a,{})]})})})},Te=function(e){var t=e.onClose,n=e.customer,r=Object(v.b)().storeDB,c=o.useState(null===n||void 0===n?void 0:n.firstName),a=Object(d.a)(c,2),s=a[0],i=a[1],l=o.useState(null===n||void 0===n?void 0:n.email),u=Object(d.a)(l,2),j=u[0],b=u[1],O=o.useState(0),f=Object(d.a)(O,2),m=f[0],h=f[1],x=n?"Edit Customer":"Add Customer",p=function(){var e=Object(M.a)(G.a.mark((function e(){var t,c,a;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n){e.next=8;break}return c=null===r||void 0===r?void 0:r.collections.customers,e.next=5,null===c||void 0===c?void 0:c.insert({firstName:s,email:j});case 5:e.sent,e.next=9;break;case 8:t.atomicPatch({firstName:s,email:j});case 9:t&&((a=t.syncRestApi({push:{}})).error$.subscribe((function(e){401===e.code&&console.log("need to login")})),a.run(!1));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=0===m?Object(R.jsxs)(Oe.a.Section,{children:[Object(R.jsx)(H.a,{label:"First Name",value:s,onChange:i}),Object(R.jsx)(H.a,{label:"Email",value:j,onChange:b})]}):Object(R.jsx)(Oe.a.Section,{children:n?Object(R.jsx)(me.a,{data:n.toJSON()}):null});return Object(R.jsx)(Oe.a,{title:x,open:!0,onClose:t,primaryAction:{label:"Save",action:p},children:Object(R.jsx)(fe.a,{tabs:["Form","JSON"],selected:m,onSelect:h,children:y})})},Ve=function(e){var t=e.item,n=e.column;return Object(R.jsx)(W.a.Address,{address:t[n.key],showName:!1})},Le=function(e){var t=e.item[e.column.key];return void 0!==t?Object(R.jsx)(y.a,{children:t}):Object(R.jsx)(y.a.Skeleton,{})},Ge={avatarUrl:function(e){var t=e.item;return Object(R.jsx)(T.a,{src:t.avatarUrl,style:{width:100,height:100}})},firstName:Le,lastName:Le,email:function(e){var t=e.item;return void 0!==t.email?Object(R.jsx)(y.a,{children:t.email}):Object(R.jsx)(y.a.Skeleton,{})},billing:Ve,shipping:Ve,actions:function(e){var t=e.item,n=o.useState(!1),r=Object(d.a)(n,2),c=r[0],a=r[1];return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(je,{activator:Object(R.jsx)(be.a,{name:"more"}),items:[{label:"Edit",action:function(){return a(!0)}},{label:"Sync",action:function(){t.syncRestApi({push:{}}).run(!1)}},{label:"Delete",action:function(){t.remove()}}]}),c&&Object(R.jsx)(Te,{onClose:function(){return a(!1)},customer:t})]})}},Me=Y.c.View(ie||(ie=Object(J.a)(["\n\theight: 100%;\n\tflex-direction: row;\n\tflex: 1;\n\tpadding: ",";\n"])),(function(e){var t=e.theme;return"".concat(t.PAGE_MAIN_PADDING_Y," ").concat(t.PAGE_MAIN_PADDING_X)})),He=function(e){var t=e.navigation,n=Object(v.b)().storeDB,r=Object(g.b)(),c=Object(j.a)(r.customers),a=Object(b.a)((function(){return c.get$("columns")}),c.get("columns")),s=Object(d.a)(a,1)[0],i=Object(x.a)("customers",{search:"",sortBy:"lastName",sortDirection:"asc"}),l=i.data$,O=i.query,f=i.setQuery,m=o.useCallback((function(e){f((function(t){return Object(u.a)(Object(u.a)({},t),{},{search:e})}))}),[f]);if(!n)throw Error("something went wrong");return Object(B.a)("Customer Page",{data$:l,query:O,ui:c,columns:s,storeDB:n,navigation:t}),Object(R.jsx)(Me,{children:Object(R.jsx)(o.Suspense,{fallback:Object(R.jsx)(ke.a,{children:"loading customers..."}),children:Object(R.jsxs)(p.a.Group,{children:[Object(R.jsx)(p.a,{children:Object(R.jsx)(w.a,{label:"Search Customers",placeholder:"Search Customers",value:O.search,onSearch:m,actions:[{name:"add",action:function(){console.log("show modal")}},Object(R.jsx)(I.a,{ui:c})]})}),Object(R.jsx)(p.a,{grow:!0,children:Object(R.jsx)(N,{collection:n.collections.customers,columns:s,data$:l,setQuery:f,sortBy:O.sortBy,sortDirection:O.sortDirection,cells:Ge})}),Object(R.jsx)(p.a,{})]})})})},$e=n(20),Fe=n(80),qe=function(){var e=o.useState([]),t=Object(d.a)(e,2),n=t[0];t[1];o.useEffect((function(){!function(){var e=Object(M.a)(G.a.mark((function e(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[]);var r=function(){var e=Object(M.a)(G.a.mark((function e(t){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c=function(){var e=Object(M.a)(G.a.mark((function e(t){var n;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,userDB.collections[t].find().exec();case 2:n=e.sent,console.log(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a=[{key:"name",label:"Name"},{key:"count",label:"Count"},{key:"actions",label:""}];return Object(R.jsxs)(P.a,{columns:a,data:n,children:[Object(R.jsx)(P.a.Header,{children:Object(R.jsx)(P.a.Header.Row,{children:a.map((function(e){var t=e.key,n=e.label;return Object(R.jsx)(P.a.Header.Row.Cell,{dataKey:t,sort:function(){console.log("sort")},sortBy:"name",sortDirection:"asc",children:n},t)}))})}),Object(R.jsx)(P.a.Body,{children:function(e){var t=e.item;return Object(R.jsx)(P.a.Body.Row,{rowData:t,columns:a,children:function(e){var n=e.column,a=e.getCellProps;return"actions"===n.key?Object(R.jsxs)(P.a.Body.Row.Cell,{children:[Object(R.jsx)(Fe.a,{title:"Delete All",onPress:function(){r(t.name)}}),Object(R.jsx)(Fe.a,{title:"Info",onPress:function(){c(t.name)}})]}):Object(R.jsx)(P.a.Body.Row.Cell,Object(u.a)({},a()))}})}})]})},Ue=function(e){var t=e.item,n=e.columns,r=Object(b.a)(t.totalRecords$);return Object(R.jsx)(P.a.Body.Row,{rowData:t,columns:n,children:function(e){switch(e.column.key){case"name":return Object(R.jsx)(P.a.Body.Row.Cell,{cellData:t.name});case"count":return Object(R.jsx)(P.a.Body.Row.Cell,{cellData:r});case"actions":return Object(R.jsx)(P.a.Body.Row.Cell,{children:Object(R.jsx)(Fe.a,{title:"Delete All",onPress:function(){t.remove()}})});default:return null}}})},We=function(){var e=Object(v.b)().storeDB,t=[{key:"name",label:"Name"},{key:"count",label:"Count"},{key:"actions",label:""}];return Object(R.jsxs)(P.a,{columns:t,data:Object.values(e.collections),children:[Object(R.jsx)(P.a.Header,{children:Object(R.jsx)(P.a.Header.Row,{children:t.map((function(e){var t=e.key,n=e.label;return Object(R.jsx)(P.a.Header.Row.Cell,{dataKey:t,sort:function(){console.log("sort")},sortBy:"name",sortDirection:"asc",children:n},t)}))})}),Object(R.jsx)(P.a.Body,{children:function(e){var n=e.item;return Object(R.jsx)(Ue,{item:n,columns:t})}})]})},Qe=function(){return Object(R.jsxs)($e.a,{style:{flexDirection:"row"},children:[Object(R.jsxs)(p.a.Group,{style:{width:"50%"},children:[Object(R.jsx)(p.a,{children:"Authentication Database"}),Object(R.jsx)(p.a,{children:Object(R.jsx)(qe,{})})]}),Object(R.jsxs)(p.a.Group,{style:{width:"50%"},children:[Object(R.jsx)(p.a,{children:"Store Database"}),Object(R.jsx)(p.a,{children:Object(R.jsx)(We,{})})]})]})},Ke=n(443),Xe=n(864),ze=n(805),Ye=function(e){var t=e.onClose,n=Object(v.b)().storeDB,r=o.useState("GB"),c=Object(d.a)(r,2),a=c[0],s=(c[1],Object(Xe.a)((function(e){return e.pipe(Object(ze.a)((function(e){return(null===n||void 0===n?void 0:n.collections.taxes.find().where("country").eq(a)).$})))}),[a])),i=Object(b.a)(s,[]);return console.log(i),Object(R.jsx)(Oe.a,{sectioned:!0,title:"Settings",open:!0,onClose:t,primaryAction:{label:"Save",action:t},children:Object(R.jsxs)($e.a,{style:{zIndex:999999},children:[Object(R.jsx)(y.a,{children:"Store location: "}),Object(R.jsx)(ye,{label:"Country",placeholder:"GB",choices:[{label:"GB",value:"GB"},{label:"US",value:"US"}]}),Object(R.jsx)(P.a,{columns:[{key:"country",label:"Country"},{key:"name",label:"Name"},{key:"rate",label:"Rate"}],data:i})]})})},Je=Y.c.View(le||(le=Object(J.a)(["\n\tflex-direction: row;\n\talign-items: center;\n"]))),Ze=function(){var e=o.useState(!1),t=Object(d.a)(e,2),n=t[0],r=t[1],c=Object(s.p)();return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(je,{activator:Object(R.jsxs)(Je,{children:[Object(R.jsx)(y.a,{type:"inverse",children:"Test"}),Object(R.jsx)(Ke.a,{src:"https://secure.gravatar.com/avatar/a2a53c07cdd4a8aa81c043baafd0915f",size:"small"})]}),items:[{label:"Logout",action:function(){var e=Object(M.a)(G.a.mark((function e(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c.navigate("Auth");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),type:"warning"},{label:"Settings",action:function(){return r(!0)}},{label:"Modal",action:function(){return c.dispatch(s.b.navigate({name:"Modal",params:{foo:"bar"}}))}}]}),n&&Object(R.jsx)(Ye,{onClose:function(){return r(!1)}})]})},et=function(){var e=Object(v.b)().online;return Object(R.jsx)(be.a,{name:"circle",size:"x-small",color:e?"green":"red"})},tt=function(){return Object(R.jsx)(R.Fragment,{children:Object(R.jsx)(be.a,{name:"notifications",onPress:function(){}})})},nt=Y.c.View(ue||(ue=Object(J.a)(["\n\tflex-direction: row;\n\talign-items: center;\n"]))),rt=function(){return Object(R.jsxs)(nt,{children:[Object(R.jsx)(et,{}),Object(R.jsx)(tt,{}),Object(R.jsx)(Ze,{})]})},ct=Object(i.a)();t.default=function(e){var t=e.navigation,n=(e.route,o.useCallback((function(){t.dispatch(s.c.openDrawer())}),[])),r=o.useMemo((function(){return{headerStyle:{backgroundColor:"#f4511e",height:"40px"},headerTintColor:"#fff",headerTitleStyle:{fontWeight:"bold",textAlign:"center",margin:0},headerBackgroundContainerStyle:{},headerLeftContainerStyle:{padding:"5px",flexGrow:1,flexShrink:1,flexBasis:"20%"},headerRightContainerStyle:{padding:"5px",flexGrow:1,flexShrink:1,flexBasis:"20%"},headerTitleContainerStyle:{padding:"5px",flexGrow:1,flexShrink:1,flexBasis:"100%"},headerLeft:function(){return Object(R.jsx)(Fe.a,{onPress:n,title:"Menu"})},headerRight:rt}}),[n]);return Object(R.jsxs)(ct.Navigator,{screenOptions:r,children:[Object(R.jsx)(ct.Screen,{name:"POS",component:l.b}),Object(R.jsx)(ct.Screen,{name:"Products",component:Se}),Object(R.jsx)(ct.Screen,{name:"Orders",component:Ie}),Object(R.jsx)(ct.Screen,{name:"Customers",component:He}),Object(R.jsx)(ct.Screen,{name:"Support",component:Qe})]})}}}]);
//# sourceMappingURL=2.b9aefcd3.chunk.js.map